(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{J4Hq:function(H2,Ul,bt){(function(ce,hr){hr(Ul)})(this,function(ce){"use strict";/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var hr=function(t,e){return(hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])})(t,e)};function z(i,t){function e(){this.constructor=i}hr(i,t),i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var qt=function(){return(qt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Yl(){for(var i=0,t=0,e=arguments.length;t<e;t++)i+=arguments[t].length;var n=Array(i),r=0;for(t=0;t<e;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n}var Xl=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},ue=new function(){this.browser=new Xl,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1};typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(ue.wxa=!0,ue.canvasSupported=!0,ue.touchEventsSupported=!0):typeof document=="undefined"&&typeof self!="undefined"?(ue.worker=!0,ue.canvasSupported=!0):typeof navigator=="undefined"?(ue.node=!0,ue.canvasSupported=!0,ue.svgSupported=!0):function(i,t){var e=t.browser,n=i.match(/Firefox\/([\d.]+)/),r=i.match(/MSIE\s([\d.]+)/)||i.match(/Trident\/.+?rv:(([\d.]+))/),o=i.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(i);n&&(e.firefox=!0,e.version=n[1]),r&&(e.ie=!0,e.version=r[1]),o&&(e.edge=!0,e.version=o[1],e.newEdge=+o[1].split(".")[0]>18),a&&(e.weChat=!0),t.canvasSupported=!!document.createElement("canvas").getContext,t.svgSupported=typeof SVGRect!="undefined",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document!="undefined";var s=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in s||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,ue);var Na={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},Ea={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},Cn=Object.prototype.toString,yo=Array.prototype,Fn=yo.forEach,Bm=yo.filter,mo=yo.slice,Pc=yo.map,vo=function(){}.constructor,_o=vo?vo.prototype:null,cr={};function Zl(i,t){cr[i]=t}var Oc=2311;function za(){return Oc++}function an(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];typeof console!="undefined"&&console.error.apply(console,i)}function te(i){if(i==null||typeof i!="object")return i;var t=i,e=Cn.call(i);if(e==="[object Array]"){if(!wo(i)){t=[];for(var n=0,r=i.length;n<r;n++)t[n]=te(i[n])}}else if(Ea[e]){if(!wo(i)){var o=i.constructor;if(o.from)t=o.from(i);else for(t=new o(i.length),n=0,r=i.length;n<r;n++)t[n]=te(i[n])}}else if(!Na[e]&&!wo(i)&&!xo(i))for(var a in t={},i)i.hasOwnProperty(a)&&(t[a]=te(i[a]));return t}function de(i,t,e){if(!ae(t)||!ae(i))return e?te(t):i;for(var n in t)if(t.hasOwnProperty(n)){var r=i[n],o=t[n];!ae(o)||!ae(r)||W(o)||W(r)||xo(o)||xo(r)||Rc(o)||Rc(r)||wo(o)||wo(r)?!e&&n in i||(i[n]=te(t[n])):de(r,o,e)}return i}function pr(i,t){for(var e=i[0],n=1,r=i.length;n<r;n++)e=de(e,i[n],t);return e}function X(i,t){if(Object.assign)Object.assign(i,t);else for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function J(i,t,e){for(var n=ke(t),r=0;r<n.length;r++){var o=n[r];(e?t[o]!=null:i[o]==null)&&(i[o]=t[o])}return i}var st=function(){return cr.createCanvas()};function ie(i,t){if(i){if(i.indexOf)return i.indexOf(t);for(var e=0,n=i.length;e<n;e++)if(i[e]===t)return e}return-1}function tt(i,t){var e=i.prototype;function n(){}for(var r in n.prototype=t.prototype,i.prototype=new n,e)e.hasOwnProperty(r)&&(i.prototype[r]=e[r]);i.prototype.constructor=i,i.superClass=t}function We(i,t,e){if(i="prototype"in i?i.prototype:i,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r];o!=="constructor"&&(e?t[o]!=null:i[o]==null)&&(i[o]=t[o])}else J(i,t,e)}function Be(i){return!!i&&typeof i!="string"&&typeof i.length=="number"}function D(i,t,e){if(i&&t)if(i.forEach&&i.forEach===Fn)i.forEach(t,e);else if(i.length===+i.length)for(var n=0,r=i.length;n<r;n++)t.call(e,i[n],n,i);else for(var o in i)i.hasOwnProperty(o)&&t.call(e,i[o],o,i)}function j(i,t,e){if(!i)return[];if(!t)return Kl(i);if(i.map&&i.map===Pc)return i.map(t,e);for(var n=[],r=0,o=i.length;r<o;r++)n.push(t.call(e,i[r],r,i));return n}function An(i,t,e,n){if(i&&t){for(var r=0,o=i.length;r<o;r++)e=t.call(n,e,i[r],r,i);return e}}function Ke(i,t,e){if(!i)return[];if(!t)return Kl(i);if(i.filter&&i.filter===Bm)return i.filter(t,e);for(var n=[],r=0,o=i.length;r<o;r++)t.call(e,i[r],r,i)&&n.push(i[r]);return n}function Vm(i,t,e){if(i&&t){for(var n=0,r=i.length;n<r;n++)if(t.call(e,i[n],n,i))return i[n]}}function ke(i){if(!i)return[];if(Object.keys)return Object.keys(i);var t=[];for(var e in i)i.hasOwnProperty(e)&&t.push(e);return t}cr.createCanvas=function(){return document.createElement("canvas")};var Q=_o&&Pe(_o.bind)?_o.call.bind(_o.bind):function(i,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return function(){return i.apply(t,e.concat(mo.call(arguments)))}};function he(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return i.apply(this,t.concat(mo.call(arguments)))}}function W(i){return Array.isArray?Array.isArray(i):Cn.call(i)==="[object Array]"}function Pe(i){return typeof i=="function"}function be(i){return typeof i=="string"}function jl(i){return Cn.call(i)==="[object String]"}function ql(i){return typeof i=="number"}function ae(i){var t=typeof i;return t==="function"||!!i&&t==="object"}function Rc(i){return!!Na[Cn.call(i)]}function Ht(i){return!!Ea[Cn.call(i)]}function xo(i){return typeof i=="object"&&typeof i.nodeType=="number"&&typeof i.ownerDocument=="object"}function Gm(i){return i.colorStops!=null}function Fm(i){return i.image!=null}function Hm(i){return Cn.call(i)==="[object RegExp]"}function bo(i){return i!=i}function yt(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=0,n=i.length;e<n;e++)if(i[e]!=null)return i[e]}function we(i,t){return i!=null?i:t}function Hn(i,t,e){return i!=null?i:t!=null?t:e}function Kl(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return mo.apply(i,t)}function $l(i){if(typeof i=="number")return[i,i,i,i];var t=i.length;return t===2?[i[0],i[1],i[0],i[1]]:t===3?[i[0],i[1],i[2],i[1]]:i}function Tt(i,t){if(!i)throw new Error(t)}function Ii(i){return i==null?null:typeof i.trim=="function"?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Wm="__ec_primitive__";function Ba(i){i[Wm]=!0}function wo(i){return i[Wm]}var Um=function(){function i(t){this.data={};var e=W(t);this.data={};var n=this;function r(o,a){e?n.set(o,a):n.set(a,o)}t instanceof i?t.each(r):t&&D(t,r)}return i.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},i.prototype.set=function(t,e){return this.data[t]=e},i.prototype.each=function(t,e){for(var n in this.data)this.data.hasOwnProperty(n)&&t.call(e,this.data[n],n)},i.prototype.keys=function(){return ke(this.data)},i.prototype.removeKey=function(t){delete this.data[t]},i}();function re(i){return new Um(i)}function Nc(i,t){for(var e=new i.constructor(i.length+t.length),n=0;n<i.length;n++)e[n]=i[n];var r=i.length;for(n=0;n<t.length;n++)e[n+r]=t[n];return e}function So(i,t){var e;if(Object.create)e=Object.create(i);else{var n=function(){};n.prototype=i,e=new n}return t&&X(e,t),e}function ee(i,t){return i.hasOwnProperty(t)}function sn(){}var W2=Object.freeze({__proto__:null,$override:Zl,guid:za,logError:an,clone:te,merge:de,mergeAll:pr,extend:X,defaults:J,createCanvas:st,indexOf:ie,inherits:tt,mixin:We,isArrayLike:Be,each:D,map:j,reduce:An,filter:Ke,find:Vm,keys:ke,bind:Q,curry:he,isArray:W,isFunction:Pe,isString:be,isStringSafe:jl,isNumber:ql,isObject:ae,isBuiltInObject:Rc,isTypedArray:Ht,isDom:xo,isGradientObject:Gm,isPatternObject:Fm,isRegExp:Hm,eqNaN:bo,retrieve:yt,retrieve2:we,retrieve3:Hn,slice:Kl,normalizeCssArray:$l,assert:Tt,trim:Ii,setAsPrimitive:Ba,isPrimitive:wo,HashMap:Um,createHashMap:re,concatArray:Nc,createObject:So,hasOwn:ee,noop:sn});function Ti(i,t){return i==null&&(i=0),t==null&&(t=0),[i,t]}function Ct(i,t){return i[0]=t[0],i[1]=t[1],i}function Wn(i){return[i[0],i[1]]}function Ym(i,t,e){return i[0]=t,i[1]=e,i}function Ec(i,t,e){return i[0]=t[0]+e[0],i[1]=t[1]+e[1],i}function Jl(i,t,e,n){return i[0]=t[0]+e[0]*n,i[1]=t[1]+e[1]*n,i}function Ci(i,t,e){return i[0]=t[0]-e[0],i[1]=t[1]-e[1],i}function Va(i){return Math.sqrt(zc(i))}var U2=Va;function zc(i){return i[0]*i[0]+i[1]*i[1]}var Y2=zc;function Ql(i,t,e){return i[0]=t[0]*e,i[1]=t[1]*e,i}function Mo(i,t){var e=Va(t);return e===0?(i[0]=0,i[1]=0):(i[0]=t[0]/e,i[1]=t[1]/e),i}function Ga(i,t){return Math.sqrt((i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1]))}var si=Ga;function Xm(i,t){return(i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1])}var Ai=Xm;function Fa(i,t,e,n){return i[0]=t[0]+n*(e[0]-t[0]),i[1]=t[1]+n*(e[1]-t[1]),i}function mt(i,t,e){var n=t[0],r=t[1];return i[0]=e[0]*n+e[2]*r+e[4],i[1]=e[1]*n+e[3]*r+e[5],i}function Di(i,t,e){return i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i}function Li(i,t,e){return i[0]=Math.max(t[0],e[0]),i[1]=Math.max(t[1],e[1]),i}var X2=Object.freeze({__proto__:null,create:Ti,copy:Ct,clone:Wn,set:Ym,add:Ec,scaleAndAdd:Jl,sub:Ci,len:Va,length:U2,lenSquare:zc,lengthSquare:Y2,mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:Ql,normalize:Mo,distance:Ga,dist:si,distanceSquare:Xm,distSquare:Ai,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:Fa,applyTransform:mt,min:Di,max:Li}),Io=function(t,e){this.target=t,this.topTarget=e&&e.topTarget},Z2=function(){function i(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return i.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Io(e,t),"dragstart",t.event))},i.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,o=n-this._x,a=r-this._y;this._x=n,this._y=r,e.drift(o,a,t),this.handler.dispatchToElement(new Io(e,t),"drag",t.event);var s=this.handler.findHover(n,r,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Io(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new Io(s,t),"dragenter",t.event))}},i.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Io(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Io(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},i}(),Dn=function(){function i(t){t&&(this._$eventProcessor=t)}return i.prototype.on=function(t,e,n,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof e=="function"&&(r=n,n=e,e=null),!n||!t)return this;var a=this._$eventProcessor;e!=null&&a&&a.normalizeQuery&&(e=a.normalizeQuery(e)),o[t]||(o[t]=[]);for(var s=0;s<o[t].length;s++)if(o[t][s].h===n)return this;var l={h:n,query:e,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},u=o[t].length-1,h=o[t][u];return h&&h.callAtLast?o[t].splice(u,0,l):o[t].push(l),this},i.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},i.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],o=0,a=n[t].length;o<a;o++)n[t][o].h!==e&&r.push(n[t][o]);n[t]=r}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},i.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=r.length,l=0;l<s;l++){var u=r[l];if(!o||!o.filter||u.query==null||o.filter(t,u.query))switch(a){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e)}}return o&&o.afterTrigger&&o.afterTrigger(t),this},i.prototype.triggerWithContext=function(t){if(!this._$handlers)return this;var e=this._$handlers[t],n=this._$eventProcessor;if(e)for(var r=arguments,o=r.length,a=r[o-1],s=e.length,l=0;l<s;l++){var u=e[l];if(!n||!n.filter||u.query==null||n.filter(t,u.query))switch(o){case 0:u.h.call(a);break;case 1:u.h.call(a,r[0]);break;case 2:u.h.call(a,r[0],r[1]);break;default:u.h.apply(a,r.slice(1,o-1))}}return n&&n.afterTrigger&&n.afterTrigger(t),this},i}(),j2=Math.log(2);function Bc(i,t,e,n,r,o){var a=n+"-"+r,s=i.length;if(o.hasOwnProperty(a))return o[a];if(t===1){var l=Math.round(Math.log((1<<s)-1&~r)/j2);return i[e][l]}for(var u=n|1<<e,h=e+1;n&1<<h;)h++;for(var c=0,p=0,d=0;p<s;p++){var f=1<<p;f&r||(c+=(d%2?-1:1)*i[e][p]*Bc(i,t-1,h,u,r|f,o),d++)}return o[a]=c,c}function Zm(i,t){var e=[[i[0],i[1],1,0,0,0,-t[0]*i[0],-t[0]*i[1]],[0,0,0,i[0],i[1],1,-t[1]*i[0],-t[1]*i[1]],[i[2],i[3],1,0,0,0,-t[2]*i[2],-t[2]*i[3]],[0,0,0,i[2],i[3],1,-t[3]*i[2],-t[3]*i[3]],[i[4],i[5],1,0,0,0,-t[4]*i[4],-t[4]*i[5]],[0,0,0,i[4],i[5],1,-t[5]*i[4],-t[5]*i[5]],[i[6],i[7],1,0,0,0,-t[6]*i[6],-t[6]*i[7]],[0,0,0,i[6],i[7],1,-t[7]*i[6],-t[7]*i[7]]],n={},r=Bc(e,8,0,0,0,n);if(r!==0){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)o[s]==null&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*Bc(e,7,a===0?1:0,1<<a,1<<s,n)/r*t[a];return function(l,u,h){var c=u*o[6]+h*o[7]+1;l[0]=(u*o[0]+h*o[1]+o[2])/c,l[1]=(u*o[3]+h*o[4]+o[5])/c}}}var Vc=[];function Gc(i,t,e,n,r){if(t.getBoundingClientRect&&ue.domSupported&&!jm(t)){var o=t.___zrEVENTSAVED||(t.___zrEVENTSAVED={}),a=function(s,l,u){for(var h=u?"invTrans":"trans",c=l[h],p=l.srcCoords,d=[],f=[],g=!0,y=0;y<4;y++){var m=s[y].getBoundingClientRect(),v=2*y,_=m.left,x=m.top;d.push(_,x),g=g&&p&&_===p[v]&&x===p[v+1],f.push(s[y].offsetLeft,s[y].offsetTop)}return g&&c?c:(l.srcCoords=d,l[h]=u?Zm(f,d):Zm(d,f))}(function(s,l){var u=l.markers;if(u)return u;u=l.markers=[];for(var h=["left","right"],c=["top","bottom"],p=0;p<4;p++){var d=document.createElement("div"),f=p%2,g=(p>>1)%2;d.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",h[f]+":0",c[g]+":0",h[1-f]+":auto",c[1-g]+":auto",""].join("!important;"),s.appendChild(d),u.push(d)}return u}(t,o),o,r);if(a)return a(i,e,n),!0}return!1}function jm(i){return i.nodeName.toUpperCase()==="CANVAS"}var Fc=typeof window!="undefined"&&!!window.addEventListener,q2=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Hc=[];function Wc(i,t,e,n){return e=e||{},n||!ue.canvasSupported?qm(i,t,e):ue.browser.firefox&&t.layerX!=null&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):t.offsetX!=null?(e.zrX=t.offsetX,e.zrY=t.offsetY):qm(i,t,e),e}function qm(i,t,e){if(ue.domSupported&&i.getBoundingClientRect){var n=t.clientX,r=t.clientY;if(jm(i)){var o=i.getBoundingClientRect();return e.zrX=n-o.left,void(e.zrY=r-o.top)}if(Gc(Hc,i,n,r))return e.zrX=Hc[0],void(e.zrY=Hc[1])}e.zrX=e.zrY=0}function Uc(i){return i||window.event}function ln(i,t,e){if((t=Uc(t)).zrX!=null)return t;var n=t.type;if(n&&n.indexOf("touch")>=0){var r=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];r&&Wc(i,r,t,e)}else{Wc(i,t,t,e);var o=function(s){var l=s.wheelDelta;if(l)return l;var u=s.deltaX,h=s.deltaY;return u==null||h==null?l:3*Math.abs(h!==0?h:u)*(h>0?-1:h<0?1:u>0?-1:1)}(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var a=t.button;return t.which==null&&a!==void 0&&q2.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function Yc(i,t,e,n){Fc?i.addEventListener(t,e,n):i.attachEvent("on"+t,e)}var li=Fc?function(i){i.preventDefault(),i.stopPropagation(),i.cancelBubble=!0}:function(i){i.returnValue=!1,i.cancelBubble=!0};function Km(i){return i.which===2||i.which===3}var K2=function(){function i(){this._track=[]}return i.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},i.prototype.clear=function(){return this._track.length=0,this},i.prototype._doTrack=function(t,e,n){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},a=0,s=r.length;a<s;a++){var l=r[a],u=Wc(n,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},i.prototype._recognize=function(t){for(var e in Xc)if(Xc.hasOwnProperty(e)){var n=Xc[e](this._track,t);if(n)return n}},i}();function $m(i){var t=i[1][0]-i[0][0],e=i[1][1]-i[0][1];return Math.sqrt(t*t+e*e)}var Xc={pinch:function(t,e){var n=t.length;if(n){var r,o=(t[n-1]||{}).points,a=(t[n-2]||{}).points||o;if(a&&a.length>1&&o&&o.length>1){var s=$m(o)/$m(a);!isFinite(s)&&(s=1),e.pinchScale=s;var l=[((r=o)[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:t[0].target,event:e}}}}},Jm="silent";function $2(){li(this.event)}var J2=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.handler=null,e}return z(t,i),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Dn),Ha=function(t,e){this.x=t,this.y=e},Q2=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Qm=function(i){function t(e,n,r,o){var a=i.call(this)||this;return a._hovered=new Ha(0,0),a.storage=e,a.painter=n,a.painterRoot=o,r=r||new J2,a.proxy=null,a.setHandlerProxy(r),a._draggingMgr=new Z2(a),a}return z(t,i),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(D(Q2,function(n){e.on&&e.on(n,this[n],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var n=e.zrX,r=e.zrY,o=ev(this,n,r),a=this._hovered,s=a.target;s&&!s.__zr&&(s=(a=this.findHover(a.x,a.y)).target);var l=this._hovered=o?new Ha(n,r):this.findHover(n,r),u=l.target,h=this.proxy;h.setCursor&&h.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(a,"mouseout",e),this.dispatchToElement(l,"mousemove",e),u&&u!==s&&this.dispatchToElement(l,"mouseover",e)},t.prototype.mouseout=function(e){var n=e.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Ha(0,0)},t.prototype.dispatch=function(e,n){var r=this[e];r&&r.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var n=this.proxy;n.setCursor&&n.setCursor(e)},t.prototype.dispatchToElement=function(e,n,r){var o=(e=e||{}).target;if(!o||!o.silent){for(var a="on"+n,s=function(l,u,h){return{type:l,event:h,target:u.target,topTarget:u.topTarget,cancelBubble:!1,offsetX:h.zrX,offsetY:h.zrY,gestureEvent:h.gestureEvent,pinchX:h.pinchX,pinchY:h.pinchY,pinchScale:h.pinchScale,wheelDelta:h.zrDelta,zrByTouch:h.zrByTouch,which:h.which,stop:$2}}(n,e,r);o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(n,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[a]=="function"&&l[a].call(l,s),l.trigger&&l.trigger(n,s)}))}},t.prototype.findHover=function(e,n,r){for(var o=this.storage.getDisplayList(),a=new Ha(e,n),s=o.length-1;s>=0;s--){var l=void 0;if(o[s]!==r&&!o[s].ignore&&(l=eC(o[s],e,n))&&(!a.topTarget&&(a.topTarget=o[s]),l!==Jm)){a.target=o[s];break}}return a},t.prototype.processGesture=function(e,n){this._gestureMgr||(this._gestureMgr=new K2);var r=this._gestureMgr;n==="start"&&r.clear();var o=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(n==="end"&&r.clear(),o){var a=o.type;e.gestureEvent=a;var s=new Ha;s.target=o.target,this.dispatchToElement(s,a,o.event)}},t}(Dn);function eC(i,t,e){if(i[i.rectHover?"rectContain":"contain"](t,e)){for(var n=i,r=void 0,o=!1;n;){if(n.ignoreClip&&(o=!0),!o){var a=n.getClipPath();if(a&&!a.contain(t,e))return!1;n.silent&&(r=!0)}var s=n.__hostTarget;n=s||n.parent}return!r||Jm}return!1}function ev(i,t,e){var n=i.painter;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}function tC(){return[1,0,0,1,0,0]}function dr(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,i}function To(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i}function ki(i,t,e){var n=t[0]*e[0]+t[2]*e[1],r=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],s=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];return i[0]=n,i[1]=r,i[2]=o,i[3]=a,i[4]=s,i[5]=l,i}function Ln(i,t,e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4]+e[0],i[5]=t[5]+e[1],i}function Pi(i,t,e){var n=t[0],r=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=Math.sin(e),h=Math.cos(e);return i[0]=n*h+a*u,i[1]=-n*u+a*h,i[2]=r*h+s*u,i[3]=-r*u+h*s,i[4]=h*o+u*l,i[5]=h*l-u*o,i}function eu(i,t,e){var n=e[0],r=e[1];return i[0]=t[0]*n,i[1]=t[1]*r,i[2]=t[2]*n,i[3]=t[3]*r,i[4]=t[4]*n,i[5]=t[5]*r,i}function fr(i,t){var e=t[0],n=t[2],r=t[4],o=t[1],a=t[3],s=t[5],l=e*a-o*n;return l?(l=1/l,i[0]=a*l,i[1]=-o*l,i[2]=-n*l,i[3]=e*l,i[4]=(n*s-a*r)*l,i[5]=(o*r-e*s)*l,i):null}function tv(i){var t=[1,0,0,1,0,0];return To(t,i),t}D(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(i){Qm.prototype[i]=function(t){var e,n,r=t.zrX,o=t.zrY,a=ev(this,r,o);if(i==="mouseup"&&a||(n=(e=this.findHover(r,o)).target),i==="mousedown")this._downEl=n,this._downPoint=[t.zrX,t.zrY],this._upEl=n;else if(i==="mouseup")this._upEl=n;else if(i==="click"){if(this._downEl!==this._upEl||!this._downPoint||si(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(e,i,t)}});var nC=Object.freeze({__proto__:null,create:tC,identity:dr,copy:To,mul:ki,translate:Ln,rotate:Pi,scale:eu,invert:fr,clone:tv}),Zc=dr,iC=5e-5;function gr(i){return i>iC||i<-5e-5}var yr=[],Co=[],jc=[1,0,0,1,0,0],qc=Math.abs,ui=function(){function i(){}return i.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},i.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},i.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},i.prototype.needLocalTransform=function(){return gr(this.rotation)||gr(this.x)||gr(this.y)||gr(this.scaleX-1)||gr(this.scaleY-1)},i.prototype.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;n||e?(r=r||[1,0,0,1,0,0],n?this.getLocalTransform(r):Zc(r),e&&(n?ki(r,t.transform,r):To(r,t.transform)),this.transform=r,this._resolveGlobalScaleRatio(r)):r&&Zc(r)},i.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(yr);var n=yr[0]<0?-1:1,r=yr[1]<0?-1:1,o=((yr[0]-n)*e+n)/yr[0]||0,a=((yr[1]-r)*e+r)/yr[1]||0;t[0]*=o,t[1]*=o,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||[1,0,0,1,0,0],fr(this.invTransform,t)},i.prototype.getLocalTransform=function(t){return i.getLocalTransform(this,t)},i.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},i.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3];gr(e-1)&&(e=Math.sqrt(e)),gr(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),this.rotation=Math.atan2(-t[1]/n,t[0]/e),e<0&&n<0&&(this.rotation+=Math.PI,e=-e,n=-n),this.x=t[4],this.y=t[5],this.scaleX=e,this.scaleY=n}},i.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(ki(Co,t.invTransform,e),e=Co);var n=this.originX,r=this.originY;(n||r)&&(jc[4]=n,jc[5]=r,ki(Co,e,jc),Co[4]-=n,Co[5]-=r,e=Co),this.setLocalTransform(e)}},i.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},i.prototype.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&mt(n,n,r),n},i.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&mt(n,n,r),n},i.prototype.getLineScale=function(){var t=this.transform;return t&&qc(t[0]-1)>1e-10&&qc(t[3]-1)>1e-10?Math.sqrt(qc(t[0]*t[3]-t[2]*t[1])):1},i.getLocalTransform=function(t,e){Zc(e=e||[]);var n=t.originX||0,r=t.originY||0,o=t.scaleX,a=t.scaleY,s=t.rotation||0,l=t.x,u=t.y;return e[4]-=n,e[5]-=r,e[0]*=o,e[1]*=a,e[2]*=o,e[3]*=a,e[4]*=o,e[5]*=a,s&&Pi(e,e,s),e[4]+=n,e[5]+=r,e[4]+=l,e[5]+=u,e},i.initDefaultProps=function(){var t=i.prototype;t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.originX=0,t.originY=0,t.rotation=0,t.globalScaleRatio=1}(),i}(),tu={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return t===0?0:t===1?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return t===0?0:t===1?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=.1):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-tu.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*tu.bounceIn(2*t):.5*tu.bounceOut(2*t-1)+.5}},rC=function(){function i(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop!=null&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return i.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var n=(t-this._startTime-this._pausedTime)/this._life;n<0&&(n=0),n=Math.min(n,1);var r=this.easing,o=typeof r=="string"?tu[r]:r,a=typeof o=="function"?o(n):n;if(this.onframe&&this.onframe(a),n===1){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},i.prototype._restart=function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1},i}(),nv=function(t){this.value=t},oC=function(){function i(){this._len=0}return i.prototype.insert=function(t){var e=new nv(t);return this.insertEntry(e),e},i.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},i.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},i.prototype.len=function(){return this._len},i.prototype.clear=function(){this.head=this.tail=null,this._len=0},i}(),Wa=function(){function i(t){this._list=new oC,this._maxSize=10,this._map={},this._maxSize=t}return i.prototype.put=function(t,e){var n=this._list,r=this._map,o=null;if(r[t]==null){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=n.head;n.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new nv(e),s.key=t,n.insertEntry(s),r[t]=s}return o},i.prototype.get=function(t){var e=this._map[t],n=this._list;if(e!=null)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},i.prototype.clear=function(){this._list.clear(),this._map={}},i.prototype.len=function(){return this._list.len()},i}(),iv={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function kn(i){return(i=Math.round(i))<0?0:i>255?255:i}function Ua(i){return i<0?0:i>1?1:i}function Kc(i){var t=i;return t.length&&t.charAt(t.length-1)==="%"?kn(parseFloat(t)/100*255):kn(parseInt(t,10))}function Ao(i){var t=i;return t.length&&t.charAt(t.length-1)==="%"?Ua(parseFloat(t)/100):Ua(parseFloat(t))}function $c(i,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?i+(t-i)*e*6:2*e<1?t:3*e<2?i+(t-i)*(2/3-e)*6:i}function Oi(i,t,e){return i+(t-i)*e}function un(i,t,e,n,r){return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function Jc(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i}var rv=new Wa(20),nu=null;function Do(i,t){nu&&Jc(nu,t),nu=rv.put(i,nu||t.slice())}function Rt(i,t){if(i){t=t||[];var e=rv.get(i);if(e)return Jc(t,e);var n=(i+="").replace(/ /g,"").toLowerCase();if(n in iv)return Jc(t,iv[n]),Do(i,t),t;var r,o=n.length;if(n.charAt(0)==="#")return o===4||o===5?(r=parseInt(n.slice(1,4),16))>=0&&r<=4095?(un(t,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,o===5?parseInt(n.slice(4),16)/15:1),Do(i,t),t):void un(t,0,0,0,1):o===7||o===9?(r=parseInt(n.slice(1,7),16))>=0&&r<=16777215?(un(t,(16711680&r)>>16,(65280&r)>>8,255&r,o===9?parseInt(n.slice(7),16)/255:1),Do(i,t),t):void un(t,0,0,0,1):void 0;var a=n.indexOf("("),s=n.indexOf(")");if(a!==-1&&s+1===o){var l=n.substr(0,a),u=n.substr(a+1,s-(a+1)).split(","),h=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?un(t,+u[0],+u[1],+u[2],1):un(t,0,0,0,1);h=Ao(u.pop());case"rgb":return u.length!==3?void un(t,0,0,0,1):(un(t,Kc(u[0]),Kc(u[1]),Kc(u[2]),h),Do(i,t),t);case"hsla":return u.length!==4?void un(t,0,0,0,1):(u[3]=Ao(u[3]),Qc(u,t),Do(i,t),t);case"hsl":return u.length!==3?void un(t,0,0,0,1):(Qc(u,t),Do(i,t),t);default:return}}un(t,0,0,0,1)}}function Qc(i,t){var e=(parseFloat(i[0])%360+360)%360/360,n=Ao(i[1]),r=Ao(i[2]),o=r<=.5?r*(n+1):r+n-r*n,a=2*r-o;return un(t=t||[],kn(255*$c(a,o,e+1/3)),kn(255*$c(a,o,e)),kn(255*$c(a,o,e-1/3)),1),i.length===4&&(t[3]=i[3]),t}function ep(i,t){var e=Rt(i);if(e){for(var n=0;n<3;n++)e[n]=t<0?e[n]*(1-t)|0:(255-e[n])*t+e[n]|0,e[n]>255?e[n]=255:e[n]<0&&(e[n]=0);return Pn(e,e.length===4?"rgba":"rgb")}}function tp(i){var t=Rt(i);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Ya(i,t,e){if(t&&t.length&&i>=0&&i<=1){e=e||[];var n=i*(t.length-1),r=Math.floor(n),o=Math.ceil(n),a=t[r],s=t[o],l=n-r;return e[0]=kn(Oi(a[0],s[0],l)),e[1]=kn(Oi(a[1],s[1],l)),e[2]=kn(Oi(a[2],s[2],l)),e[3]=Ua(Oi(a[3],s[3],l)),e}}var aC=Ya;function ov(i,t,e){if(t&&t.length&&i>=0&&i<=1){var n=i*(t.length-1),r=Math.floor(n),o=Math.ceil(n),a=Rt(t[r]),s=Rt(t[o]),l=n-r,u=Pn([kn(Oi(a[0],s[0],l)),kn(Oi(a[1],s[1],l)),kn(Oi(a[2],s[2],l)),Ua(Oi(a[3],s[3],l))],"rgba");return e?{color:u,leftIndex:r,rightIndex:o,value:n}:u}}var sC=ov;function Lo(i,t,e,n){var r=Rt(i);if(i)return r=function(o){if(o){var a,s,l=o[0]/255,u=o[1]/255,h=o[2]/255,c=Math.min(l,u,h),p=Math.max(l,u,h),d=p-c,f=(p+c)/2;if(d===0)a=0,s=0;else{s=f<.5?d/(p+c):d/(2-p-c);var g=((p-l)/6+d/2)/d,y=((p-u)/6+d/2)/d,m=((p-h)/6+d/2)/d;l===p?a=m-y:u===p?a=1/3+g-m:h===p&&(a=2/3+y-g),a<0&&(a+=1),a>1&&(a-=1)}var v=[360*a,s,f];return o[3]!=null&&v.push(o[3]),v}}(r),t!=null&&(r[0]=function(o){return(o=Math.round(o))<0?0:o>360?360:o}(t)),e!=null&&(r[1]=Ao(e)),n!=null&&(r[2]=Ao(n)),Pn(Qc(r),"rgba")}function Xa(i,t){var e=Rt(i);if(e&&t!=null)return e[3]=Ua(t),Pn(e,"rgba")}function Pn(i,t){if(i&&i.length){var e=i[0]+","+i[1]+","+i[2];return t!=="rgba"&&t!=="hsva"&&t!=="hsla"||(e+=","+i[3]),t+"("+e+")"}}function Za(i,t){var e=Rt(i);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}var lC=Object.freeze({__proto__:null,parse:Rt,lift:ep,toHex:tp,fastLerp:Ya,fastMapToColor:aC,lerp:ov,mapToColor:sC,modifyHSL:Lo,modifyAlpha:Xa,stringify:Pn,lum:Za,random:function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}}),np=Array.prototype.slice;function ja(i,t,e){return(t-i)*e+i}function av(i,t,e,n){for(var r=t.length,o=0;o<r;o++)i[o]=ja(t[o],e[o],n)}function iu(i,t,e,n){for(var r=t.length,o=0;o<r;o++)i[o]=t[o]+e[o]*n;return i}function sv(i,t,e,n){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){i[a]||(i[a]=[]);for(var s=0;s<o;s++)i[a][s]=t[a][s]+e[a][s]*n}return i}function uC(i,t,e){var n=i,r=t;if(n.push&&r.push){var o=n.length,a=r.length;if(o!==a)if(o>a)n.length=a;else for(var s=o;s<a;s++)n.push(e===1?r[s]:np.call(r[s]));var l=n[0]&&n[0].length;for(s=0;s<n.length;s++)if(e===1)isNaN(n[s])&&(n[s]=r[s]);else for(var u=0;u<l;u++)isNaN(n[s][u])&&(n[s][u]=r[s][u])}}function lv(i,t){var e=i.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(i[n]!==t[n])return!1;return!0}function ip(i,t,e,n,r,o,a){var s=.5*(e-i),l=.5*(n-t);return(2*(t-e)+s+l)*a+(-3*(t-e)-2*s-l)*o+s*r+t}function uv(i,t,e,n,r,o,a,s){for(var l=t.length,u=0;u<l;u++)i[u]=ip(t[u],e[u],n[u],r[u],o,a,s)}function qa(i){if(Be(i)){var t=i.length;if(Be(i[0])){for(var e=[],n=0;n<t;n++)e.push(np.call(i[n]));return e}return np.call(i)}return i}function Ka(i){return i[0]=Math.floor(i[0]),i[1]=Math.floor(i[1]),i[2]=Math.floor(i[2]),"rgba("+i.join(",")+")"}var ru,hv,$a=[0,0,0,0],hC=function(){function i(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return i.prototype.isFinished=function(){return this._finished},i.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},i.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable},i.prototype.getAdditiveTrack=function(){return this._additiveTrack},i.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var n=this.keyframes,r=n.length;if(this.interpolable)if(Be(e)){var o=function(u){return Be(u&&u[0])?2:1}(e);if(r>0&&this.arrDim!==o)return void(this.interpolable=!1);if(o===1&&typeof e[0]!="number"||o===2&&typeof e[0][0]!="number")return void(this.interpolable=!1);if(r>0){var a=n[r-1];this._isAllValueEqual&&(o===1&&lv(e,a.value)||(this._isAllValueEqual=!1))}this.arrDim=o}else{if(this.arrDim>0)return void(this.interpolable=!1);if(typeof e=="string"){var s=Rt(e);s?(e=s,this.isValueColor=!0):this.interpolable=!1}else if(typeof e!="number"||isNaN(e))return void(this.interpolable=!1);this._isAllValueEqual&&r>0&&(a=n[r-1],(this.isValueColor&&!lv(a.value,e)||a.value!==e)&&(this._isAllValueEqual=!1))}var l={time:t,value:e,percent:0};return this.keyframes.push(l),l},i.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort(function(l,u){return l.time-u.time});for(var n=this.arrDim,r=e.length,o=e[r-1],a=0;a<r;a++)e[a].percent=e[a].time/this.maxTime,n>0&&a!==r-1&&uC(e[a].value,o.value,n);if(t&&this.needsAnimate()&&t.needsAnimate()&&n===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var s=e[0].value;for(a=0;a<r;a++)n===0?this.isValueColor?e[a].additiveValue=iu([],e[a].value,s,-1):e[a].additiveValue=e[a].value-s:n===1?e[a].additiveValue=iu([],e[a].value,s,-1):n===2&&(e[a].additiveValue=sv([],e[a].value,s,-1))}},i.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,r=this._additiveTrack!=null,o=r?"additiveValue":"value",a=this.keyframes,s=this.keyframes.length,l=this.propName,u=this.arrDim,h=this.isValueColor;if(e<0)n=0;else if(e<this._lastFramePercent){for(n=Math.min(this._lastFrame+1,s-1);n>=0&&!(a[n].percent<=e);n--);n=Math.min(n,s-2)}else{for(n=this._lastFrame;n<s&&!(a[n].percent>e);n++);n=Math.min(n-1,s-2)}var c=a[n+1],p=a[n];if(p&&c){this._lastFrame=n,this._lastFramePercent=e;var d=c.percent-p.percent;if(d!==0){var f=(e-p.percent)/d,g=r?this._additiveValue:h?$a:t[l];if((u>0||h)&&!g&&(g=this._additiveValue=[]),this.useSpline){var y=a[n][o],m=a[n===0?n:n-1][o],v=a[n>s-2?s-1:n+1][o],_=a[n>s-3?s-1:n+2][o];if(u>0)u===1?uv(g,m,y,v,_,f,f*f,f*f*f):function(b,w,S,M,I,T,C,A){for(var L=w.length,k=w[0].length,P=0;P<L;P++){b[P]||(b[1]=[]);for(var O=0;O<k;O++)b[P][O]=ip(w[P][O],S[P][O],M[P][O],I[P][O],T,C,A)}}(g,m,y,v,_,f,f*f,f*f*f);else if(h)uv(g,m,y,v,_,f,f*f,f*f*f),r||(t[l]=Ka(g));else{var x=void 0;x=this.interpolable?ip(m,y,v,_,f,f*f,f*f*f):v,r?this._additiveValue=x:t[l]=x}}else u>0?u===1?av(g,p[o],c[o],f):function(b,w,S,M){for(var I=w.length,T=I&&w[0].length,C=0;C<I;C++){b[C]||(b[C]=[]);for(var A=0;A<T;A++)b[C][A]=ja(w[C][A],S[C][A],M)}}(g,p[o],c[o],f):h?(av(g,p[o],c[o],f),r||(t[l]=Ka(g))):(x=void 0,x=this.interpolable?ja(p[o],c[o],f):function(b,w,S){return S>.5?w:b}(p[o],c[o],f),r?this._additiveValue=x:t[l]=x);r&&this._addToTarget(t)}}}},i.prototype._addToTarget=function(t){var e=this.arrDim,n=this.propName,r=this._additiveValue;e===0?this.isValueColor?(Rt(t[n],$a),iu($a,$a,r,1),t[n]=Ka($a)):t[n]=t[n]+r:e===1?iu(t[n],t[n],r,1):e===2&&sv(t[n],t[n],r,1)},i}(),rp=function(){function i(t,e,n){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&n?an("Can' use additive animation on looped animation."):this._additiveAnimators=n}return i.prototype.getTarget=function(){return this._target},i.prototype.changeTarget=function(t){this._target=t},i.prototype.when=function(t,e){return this.whenWithKeys(t,e,ke(e))},i.prototype.whenWithKeys=function(t,e,n){for(var r=this._tracks,o=0;o<n.length;o++){var a=n[o],s=r[a];if(!s){s=r[a]=new hC(a);var l=void 0,u=this._getAdditiveTrack(a);if(u){var h=u.keyframes[u.keyframes.length-1];l=h&&h.value,u.isValueColor&&l&&(l=Ka(l))}else l=this._target[a];if(l==null)continue;t!==0&&s.addKeyframe(0,qa(l)),this._trackKeys.push(a)}s.addKeyframe(t,qa(e[a]))}return this._maxTime=Math.max(this._maxTime,t),this},i.prototype.pause=function(){this._clip.pause(),this._paused=!0},i.prototype.resume=function(){this._clip.resume(),this._paused=!1},i.prototype.isPaused=function(){return!!this._paused},i.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneList;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},i.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedList;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},i.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},i.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var o=n[r].getTrack(t);o&&(e=o)}return e},i.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var n=this,r=[],o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),u=s.keyframes;if(s.prepare(l),s.needsAnimate())r.push(s);else if(!s.interpolable){var h=u[u.length-1];h&&(n._target[s.propName]=h.value)}}if(r.length||e){var c=new rC({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(d){n._started=2;var f=n._additiveAnimators;if(f){for(var g=!1,y=0;y<f.length;y++)if(f[y]._clip){g=!0;break}g||(n._additiveAnimators=null)}for(y=0;y<r.length;y++)r[y].step(n._target,d);var m=n._onframeList;if(m)for(y=0;y<m.length;y++)m[y](n._target,d)},ondestroy:function(){n._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),t&&t!=="spline"&&(c.easing=t)}else this._doneCallback();return this}},i.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},i.prototype.delay=function(t){return this._delay=t,this},i.prototype.during=function(t){return t&&(this._onframeList||(this._onframeList=[]),this._onframeList.push(t)),this},i.prototype.done=function(t){return t&&(this._doneList||(this._doneList=[]),this._doneList.push(t)),this},i.prototype.aborted=function(t){return t&&(this._abortedList||(this._abortedList=[]),this._abortedList.push(t)),this},i.prototype.getClip=function(){return this._clip},i.prototype.getTrack=function(t){return this._tracks[t]},i.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,o=0;o<t.length;o++){var a=n[t[o]];a&&(e?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}var s=!0;for(o=0;o<r.length;o++)if(!n[r[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},i.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var n=0;n<e.length;n++){var r=e[n],o=this._tracks[r];if(o&&!o.isFinished()){var a=o.keyframes,s=a[a.length-1];if(s){var l=qa(s.value);o.isValueColor&&(l=Ka(l)),t[r]=l}}}}},i.prototype.__changeFinalValue=function(t,e){e=e||ke(t);for(var n=0;n<e.length;n++){var r=e[n],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,t[r]),o.prepare(o.getAdditiveTrack())}}}},i}(),xe=function(){function i(t,e){this.x=t||0,this.y=e||0}return i.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.set=function(t,e){return this.x=t,this.y=e,this},i.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},i.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},i.prototype.scale=function(t){this.x*=t,this.y*=t},i.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},i.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},i.prototype.dot=function(t){return this.x*t.x+this.y*t.y},i.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},i.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},i.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},i.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},i.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},i.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},i.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},i.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},i.set=function(t,e,n){t.x=e,t.y=n},i.copy=function(t,e){t.x=e.x,t.y=e.y},i.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i.lenSquare=function(t){return t.x*t.x+t.y*t.y},i.dot=function(t,e){return t.x*e.x+t.y*e.y},i.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},i.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},i.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},i.scaleAndAdd=function(t,e,n,r){t.x=e.x+n.x*r,t.y=e.y+n.y*r},i.lerp=function(t,e,n,r){var o=1-r;t.x=o*e.x+r*n.x,t.y=o*e.y+r*n.y},i}(),ou=Math.min,au=Math.max,mr=new xe,vr=new xe,_r=new xe,xr=new xe,Ja=new xe,Qa=new xe,me=function(){function i(t,e,n,r){n<0&&isFinite(n)&&(t+=n,n=-n),r<0&&isFinite(r)&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}return i.prototype.union=function(t){var e=ou(t.x,this.x),n=ou(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=au(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=au(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},i.prototype.applyTransform=function(t){i.applyTransform(this,this,t)},i.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,r=t.height/e.height,o=[1,0,0,1,0,0];return Ln(o,o,[-e.x,-e.y]),eu(o,o,[n,r]),Ln(o,o,[t.x,t.y]),o},i.prototype.intersect=function(t,e){if(!t)return!1;t instanceof i||(t=i.create(t));var n=this,r=n.x,o=n.x+n.width,a=n.y,s=n.y+n.height,l=t.x,u=t.x+t.width,h=t.y,c=t.y+t.height,p=!(o<l||u<r||s<h||c<a);if(e){var d=1/0,f=0,g=Math.abs(o-l),y=Math.abs(u-r),m=Math.abs(s-h),v=Math.abs(c-a),_=Math.min(g,y),x=Math.min(m,v);o<l||u<r?_>f&&(f=_,g<y?xe.set(Qa,-g,0):xe.set(Qa,y,0)):_<d&&(d=_,g<y?xe.set(Ja,g,0):xe.set(Ja,-y,0)),s<h||c<a?x>f&&(f=x,m<v?xe.set(Qa,0,-m):xe.set(Qa,0,v)):_<d&&(d=_,m<v?xe.set(Ja,0,m):xe.set(Ja,0,-v))}return e&&xe.copy(e,p?Ja:Qa),p},i.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.copy=function(t){i.copy(this,t)},i.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},i.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},i.prototype.isZero=function(){return this.width===0||this.height===0},i.create=function(t){return new i(t.x,t.y,t.width,t.height)},i.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},i.applyTransform=function(t,e,n){if(n){if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var r=n[0],o=n[3],a=n[4],s=n[5];return t.x=e.x*r+a,t.y=e.y*o+s,t.width=e.width*r,t.height=e.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}mr.x=_r.x=e.x,mr.y=xr.y=e.y,vr.x=xr.x=e.x+e.width,vr.y=_r.y=e.y+e.height,mr.transform(n),xr.transform(n),vr.transform(n),_r.transform(n),t.x=ou(mr.x,vr.x,_r.x,xr.x),t.y=ou(mr.y,vr.y,_r.y,xr.y);var l=au(mr.x,vr.x,_r.x,xr.x),u=au(mr.y,vr.y,_r.y,xr.y);t.width=l-t.x,t.height=u-t.y}else t!==e&&i.copy(t,e)},i}(),cv={},br="12px sans-serif",cC={measureText:function(t,e){return ru||(ru=st().getContext("2d")),hv!==e&&(hv=ru.font=e||br),ru.measureText(t)}};function Kt(i,t){var e=cv[t=t||br];e||(e=cv[t]=new Wa(500));var n=e.get(i);return n==null&&(n=cC.measureText(i,t).width,e.put(i,n)),n}function pv(i,t,e,n){var r=Kt(i,t),o=su(t),a=ts(0,r,e),s=ko(0,o,n);return new me(a,s,r,o)}function es(i,t,e,n){var r=((i||"")+"").split(`
`);if(r.length===1)return pv(r[0],t,e,n);for(var o=new me(0,0,0,0),a=0;a<r.length;a++){var s=pv(r[a],t,e,n);a===0?o.copy(s):o.union(s)}return o}function ts(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function ko(i,t,e){return e==="middle"?i-=t/2:e==="bottom"&&(i-=t),i}function su(i){return Kt("\u56FD",i)}function hn(i,t){return typeof i=="string"?i.lastIndexOf("%")>=0?parseFloat(i)/100*t:parseFloat(i):i}function dv(i,t,e){var n=t.position||"inside",r=t.distance!=null?t.distance:5,o=e.height,a=e.width,s=o/2,l=e.x,u=e.y,h="left",c="top";if(n instanceof Array)l+=hn(n[0],e.width),u+=hn(n[1],e.height),h=null,c=null;else switch(n){case"left":l-=r,u+=s,h="right",c="middle";break;case"right":l+=r+a,u+=s,c="middle";break;case"top":l+=a/2,u-=r,h="center",c="bottom";break;case"bottom":l+=a/2,u+=o+r,h="center";break;case"inside":l+=a/2,u+=s,h="center",c="middle";break;case"insideLeft":l+=r,u+=s,c="middle";break;case"insideRight":l+=a-r,u+=s,h="right",c="middle";break;case"insideTop":l+=a/2,u+=r,h="center";break;case"insideBottom":l+=a/2,u+=o-r,h="center",c="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=a-r,u+=r,h="right";break;case"insideBottomLeft":l+=r,u+=o-r,c="bottom";break;case"insideBottomRight":l+=a-r,u+=o-r,h="right",c="bottom"}return(i=i||{}).x=l,i.y=u,i.align=h,i.verticalAlign=c,i}var fv=1;typeof window!="undefined"&&(fv=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var lu=fv,op="#333",ap="#ccc",sp="__zr_normal__",lp=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],pC={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},Po={},dC=new me(0,0,0,0),cn=function(){function i(t){this.id=za(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return i.prototype._init=function(t){this.attr(t)},i.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},i.prototype.beforeUpdate=function(){},i.prototype.afterUpdate=function(){},i.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},i.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,o=e.attachedTransform,a=void 0,s=void 0,l=!1;o.parent=r?this:null;var u=!1;if(o.x=e.x,o.y=e.y,o.originX=e.originX,o.originY=e.originY,o.rotation=e.rotation,o.scaleX=e.scaleX,o.scaleY=e.scaleY,n.position!=null){var h=dC;n.layoutRect?h.copy(n.layoutRect):h.copy(this.getBoundingRect()),r||h.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Po,n,h):dv(Po,n,h),o.x=Po.x,o.y=Po.y,a=Po.align,s=Po.verticalAlign;var c=n.origin;if(c&&n.rotation!=null){var p=void 0,d=void 0;c==="center"?(p=.5*h.width,d=.5*h.height):(p=hn(c[0],h.width),d=hn(c[1],h.height)),u=!0,o.originX=-o.x+p+(r?0:h.x),o.originY=-o.y+d+(r?0:h.y)}}n.rotation!=null&&(o.rotation=n.rotation);var f=n.offset;f&&(o.x+=f[0],o.y+=f[1],u||(o.originX=-f[0],o.originY=-f[1]));var g=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,y=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,v=void 0,_=void 0;g&&this.canBeInsideText()?(m=n.insideFill,v=n.insideStroke,m!=null&&m!=="auto"||(m=this.getInsideTextFill()),v!=null&&v!=="auto"||(v=this.getInsideTextStroke(m),_=!0)):(m=n.outsideFill,v=n.outsideStroke,m!=null&&m!=="auto"||(m=this.getOutsideFill()),v!=null&&v!=="auto"||(v=this.getOutsideStroke(m),_=!0)),(m=m||"#000")===y.fill&&v===y.stroke&&_===y.autoStroke&&a===y.align&&s===y.verticalAlign||(l=!0,y.fill=m,y.stroke=v,y.autoStroke=_,y.align=a,y.verticalAlign=s,e.setDefaultTextStyle(y)),l&&e.dirtyStyle(),e.markRedraw()}},i.prototype.canBeInsideText=function(){return!0},i.prototype.getInsideTextFill=function(){return"#fff"},i.prototype.getInsideTextStroke=function(t){return"#000"},i.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?ap:op},i.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n=typeof e=="string"&&Rt(e);n||(n=[255,255,255,1]);for(var r=n[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)n[a]=n[a]*r+(o?0:255)*(1-r);return n[3]=1,Pn(n,"rgba")},i.prototype.traverse=function(t,e){},i.prototype.attrKV=function(t,e){t==="textConfig"?this.setTextConfig(e):t==="textContent"?this.setTextContent(e):t==="clipPath"?this.setClipPath(e):t==="extra"?(this.extra=this.extra||{},X(this.extra,e)):this[t]=e},i.prototype.hide=function(){this.ignore=!0,this.markRedraw()},i.prototype.show=function(){this.ignore=!1,this.markRedraw()},i.prototype.attr=function(t,e){if(typeof t=="string")this.attrKV(t,e);else if(ae(t))for(var n=ke(t),r=0;r<n.length;r++){var o=n[r];this.attrKV(o,t[o])}return this.markRedraw(),this},i.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],o=r.__fromStateTransition;if(!o||o===sp){var a=r.targetName,s=a?e[a]:e;r.saveFinalToTarget(s)}}},i.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,lp)},i.prototype._savePrimaryToNormal=function(t,e,n){for(var r=0;r<n.length;r++){var o=n[r];t[o]==null||o in e||(e[o]=this[o])}},i.prototype.hasState=function(){return this.currentStates.length>0},i.prototype.getState=function(t){return this.states[t]},i.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},i.prototype.clearStates=function(t){this.useState(sp,!1,t)},i.prototype.useState=function(t,e,n){var r=t===sp;if(this.hasState()||!r){var o=this.currentStates,a=this.stateTransition;if(!(ie(o,t)>=0)||!e&&o.length!==1){var s;if(this.stateProxy&&!r&&(s=this.stateProxy(t)),s||(s=this.states&&this.states[t]),s||r){r||this.saveCurrentToNormalState(s);var l=!(!s||!s.hoverLayer);return l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,s,this._normalState,e,!n&&!this.__inHover&&a&&a.duration>0,a),this._textContent&&this._textContent.useState(t,e),this._textGuide&&this._textGuide.useState(t,e),r?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~i.REDARAW_BIT),s}an("State "+t+" not exists.")}}},i.prototype.useStates=function(t,e){if(t.length){var n=[],r=this.currentStates,o=t.length,a=o===r.length;if(a){for(var s=0;s<o;s++)if(t[s]!==r[s]){a=!1;break}}if(a)return;for(s=0;s<o;s++){var l=t[s],u=void 0;this.stateProxy&&(u=this.stateProxy(l,t)),u||(u=this.states[l]),u&&n.push(u)}var h=!(!n[o-1]||!n[o-1].hoverLayer);h&&this._toggleHoverLayerFlag(!0);var c=this._mergeStates(n),p=this.stateTransition;this.saveCurrentToNormalState(c),this._applyStateObj(t.join(","),c,this._normalState,!1,!e&&!this.__inHover&&p&&p.duration>0,p),this._textContent&&this._textContent.useStates(t),this._textGuide&&this._textGuide.useStates(t),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~i.REDARAW_BIT)}else this.clearStates()},i.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},i.prototype.removeState=function(t){var e=ie(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},i.prototype.replaceState=function(t,e,n){var r=this.currentStates.slice(),o=ie(r,t),a=ie(r,e)>=0;o>=0?a?r.splice(o,1):r[o]=e:n&&!a&&r.push(e),this.useStates(r)},i.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},i.prototype._mergeStates=function(t){for(var e,n={},r=0;r<t.length;r++){var o=t[r];X(n,o),o.textConfig&&X(e=e||{},o.textConfig)}return e&&(n.textConfig=e),n},i.prototype._applyStateObj=function(t,e,n,r,o,a){var s=!(e&&r);e&&e.textConfig?(this.textConfig=X({},r?this.textConfig:n.textConfig),X(this.textConfig,e.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,h=0;h<lp.length;h++){var c=lp[h],p=o&&pC[c];e&&e[c]!=null?p?(u=!0,l[c]=e[c]):this[c]=e[c]:s&&n[c]!=null&&(p?(u=!0,l[c]=n[c]):this[c]=n[c])}if(!o)for(h=0;h<this.animators.length;h++){var d=this.animators[h],f=d.targetName;d.__changeFinalValue(f?(e||n)[f]:e||n)}u&&this._transitionState(t,l,a)},i.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},i.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},i.prototype.getClipPath=function(){return this._clipPath},i.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},i.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},i.prototype.getTextContent=function(){return this._textContent},i.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.attachedTransform=new ui,this._attachComponent(t),this._textContent=t,this.markRedraw()}},i.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),X(this.textConfig,t),this.markRedraw()},i.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},i.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.attachedTransform=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},i.prototype.getTextGuideLine=function(){return this._textGuide},i.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},i.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},i.prototype.markRedraw=function(){this.__dirty|=i.REDARAW_BIT;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},i.prototype.dirty=function(){this.markRedraw()},i.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},i.prototype.addSelfToZr=function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)},i.prototype.removeSelfFromZr=function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)},i.prototype.animate=function(t,e){var n=t?this[t]:this;if(n){var r=new rp(n,e);return this.addAnimator(r,t),r}an('Property "'+t+'" is not existed in element '+this.id)},i.prototype.addAnimator=function(t,e){var n=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var o=r.animators,a=ie(o,t);a>=0&&o.splice(a,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},i.prototype.updateDuringAnimation=function(t){this.markRedraw()},i.prototype.stopAnimation=function(t,e){for(var n=this.animators,r=n.length,o=[],a=0;a<r;a++){var s=n[a];t&&t!==s.scope?o.push(s):s.stop(e)}return this.animators=o,this},i.prototype.animateTo=function(t,e,n){up(this,t,e,n)},i.prototype.animateFrom=function(t,e,n){up(this,t,e,n,!0)},i.prototype._transitionState=function(t,e,n,r){for(var o=up(this,e,n,r),a=0;a<o.length;a++)o[a].__fromStateTransition=t},i.prototype.getBoundingRect=function(){return null},i.prototype.getPaintRect=function(){return null},i.REDARAW_BIT=1,i.initDefaultProps=function(){var t=i.prototype;t.type="element",t.name="",t.ignore=!1,t.silent=!1,t.isGroup=!1,t.draggable=!1,t.dragging=!1,t.ignoreClip=!1,t.__inHover=!1,t.__dirty=i.REDARAW_BIT;var e={};function n(o,a,s){e[o+a+s]||(console.warn("DEPRECATED: '"+o+"' has been deprecated. use '"+a+"', '"+s+"' instead"),e[o+a+s]=!0)}function r(o,a,s,l){function u(h,c){Object.defineProperty(c,0,{get:function(){return h[s]},set:function(d){h[s]=d}}),Object.defineProperty(c,1,{get:function(){return h[l]},set:function(d){h[l]=d}})}Object.defineProperty(t,o,{get:function(){return n(o,s,l),this[a]||u(this,this[a]=[]),this[a]},set:function(c){n(o,s,l),this[s]=c[0],this[l]=c[1],this[a]=c,u(this,c)}})}Object.defineProperty&&(!ue.browser.ie||ue.browser.version>8)&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),i}();function up(i,t,e,n,r){var o=[];gv(i,"",i,t,e=e||{},n,o,r);var a=o.length,s=!1,l=e.done,u=e.aborted,h=function(){s=!0,--a<=0&&(s?l&&l():u&&u())},c=function(){--a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&e.during&&o[0].during(function(f,g){e.during(g)});for(var p=0;p<o.length;p++){var d=o[p];h&&d.done(h),c&&d.aborted(c),d.start(e.easing,e.force)}return o}function hp(i,t,e){for(var n=0;n<e;n++)i[n]=t[n]}function fC(i,t,e){if(Be(t[e]))if(Be(i[e])||(i[e]=[]),Ht(t[e])){var n=t[e].length;i[e].length!==n&&(i[e]=new t[e].constructor(n),hp(i[e],t[e],n))}else{var r=t[e],o=i[e],a=r.length;if(Be(r[0]))for(var s=r[0].length,l=0;l<a;l++)o[l]?hp(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else hp(o,r,a);o.length=r.length}else i[e]=t[e]}function gv(i,t,e,n,r,o,a,s){for(var l=[],u=[],h=ke(n),c=r.duration,p=r.delay,d=r.additive,f=r.setToFinal,g=!ae(o),y=0;y<h.length;y++)if(e[I=h[y]]!=null&&n[I]!=null&&(g||o[I]))if(ae(n[I])&&!Be(n[I])){if(t){s||(e[I]=n[I],i.updateDuringAnimation(t));continue}gv(i,I,e[I],n[I],r,o&&o[I],a,s)}else l.push(I),u.push(I);else s||(e[I]=n[I],i.updateDuringAnimation(t),u.push(I));var m=l.length;if(m>0||r.force&&!a.length){for(var v=i.animators,_=[],x=0;x<v.length;x++)v[x].targetName===t&&_.push(v[x]);if(!d&&_.length){for(x=0;x<_.length;x++)if(_[x].stopTracks(u)){var b=ie(v,_[x]);v.splice(b,1)}}var w=void 0,S=void 0,M=void 0;if(s)for(S={},f&&(w={}),x=0;x<m;x++)S[I=l[x]]=e[I],f?w[I]=n[I]:e[I]=n[I];else if(f)for(M={},x=0;x<m;x++){var I;M[I=l[x]]=qa(e[I]),fC(e,n,I)}var T=new rp(e,!1,d?_:null);T.targetName=t,r.scope&&(T.scope=r.scope),f&&w&&T.whenWithKeys(0,w,l),M&&T.whenWithKeys(0,M,l),T.whenWithKeys(c==null?500:c,s?S:n,l).delay(p||0),i.addAnimator(T,t),a.push(T)}}We(cn,Dn),We(cn,ui);function yv(i,t,e,n){var r=t+1;if(r===e)return 1;if(n(i[r++],i[t])<0){for(;r<e&&n(i[r],i[r-1])<0;)r++;(function(o,a,s){for(s--;a<s;){var l=o[a];o[a++]=o[s],o[s--]=l}})(i,t,r)}else for(;r<e&&n(i[r],i[r-1])>=0;)r++;return r-t}function mv(i,t,e,n,r){for(n===t&&n++;n<e;n++){for(var o,a=i[n],s=t,l=n;s<l;)r(a,i[o=s+l>>>1])<0?l=o:s=o+1;var u=n-s;switch(u){case 3:i[s+3]=i[s+2];case 2:i[s+2]=i[s+1];case 1:i[s+1]=i[s];break;default:for(;u>0;)i[s+u]=i[s+u-1],u--}i[s]=a}}function cp(i,t,e,n,r,o){var a=0,s=0,l=1;if(o(i,t[e+r])>0){for(s=n-r;l<s&&o(i,t[e+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(i,t[e+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a<l;){var h=a+(l-a>>>1);o(i,t[e+h])>0?a=h+1:l=h}return l}function pp(i,t,e,n,r,o){var a=0,s=0,l=1;if(o(i,t[e+r])<0){for(s=r+1;l<s&&o(i,t[e+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=n-r;l<s&&o(i,t[e+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var h=a+(l-a>>>1);o(i,t[e+h])<0?l=h:a=h+1}return l}function gC(i,t){var e,n,r=7,o=0;i.length;var a=[];function s(l){var u=e[l],h=n[l],c=e[l+1],p=n[l+1];n[l]=h+p,l===o-3&&(e[l+1]=e[l+2],n[l+1]=n[l+2]),o--;var d=pp(i[c],i,u,h,0,t);u+=d,(h-=d)!==0&&(p=cp(i[u+h-1],i,c,p,p-1,t))!==0&&(h<=p?function(f,g,y,m){var v=0;for(v=0;v<g;v++)a[v]=i[f+v];var _=0,x=y,b=f;if(i[b++]=i[x++],--m==0){for(v=0;v<g;v++)i[b+v]=a[_+v];return}if(g===1){for(v=0;v<m;v++)i[b+v]=i[x+v];return void(i[b+m]=a[_])}for(var w,S,M,I=r;;){w=0,S=0,M=!1;do if(t(i[x],a[_])<0){if(i[b++]=i[x++],S++,w=0,--m==0){M=!0;break}}else if(i[b++]=a[_++],w++,S=0,--g==1){M=!0;break}while((w|S)<I);if(M)break;do{if((w=pp(i[x],a,_,g,0,t))!==0){for(v=0;v<w;v++)i[b+v]=a[_+v];if(b+=w,_+=w,(g-=w)<=1){M=!0;break}}if(i[b++]=i[x++],--m==0){M=!0;break}if((S=cp(a[_],i,x,m,0,t))!==0){for(v=0;v<S;v++)i[b+v]=i[x+v];if(b+=S,x+=S,(m-=S)===0){M=!0;break}}if(i[b++]=a[_++],--g==1){M=!0;break}I--}while(w>=7||S>=7);if(M)break;I<0&&(I=0),I+=2}if((r=I)<1&&(r=1),g===1){for(v=0;v<m;v++)i[b+v]=i[x+v];i[b+m]=a[_]}else{if(g===0)throw new Error;for(v=0;v<g;v++)i[b+v]=a[_+v]}}(u,h,c,p):function(f,g,y,m){var v=0;for(v=0;v<m;v++)a[v]=i[y+v];var _=f+g-1,x=m-1,b=y+m-1,w=0,S=0;if(i[b--]=i[_--],--g==0){for(w=b-(m-1),v=0;v<m;v++)i[w+v]=a[v];return}if(m===1){for(S=(b-=g)+1,w=(_-=g)+1,v=g-1;v>=0;v--)i[S+v]=i[w+v];return void(i[b]=a[x])}for(var M=r;;){var I=0,T=0,C=!1;do if(t(a[x],i[_])<0){if(i[b--]=i[_--],I++,T=0,--g==0){C=!0;break}}else if(i[b--]=a[x--],T++,I=0,--m==1){C=!0;break}while((I|T)<M);if(C)break;do{if((I=g-pp(a[x],i,f,g,g-1,t))!=0){for(g-=I,S=(b-=I)+1,w=(_-=I)+1,v=I-1;v>=0;v--)i[S+v]=i[w+v];if(g===0){C=!0;break}}if(i[b--]=a[x--],--m==1){C=!0;break}if((T=m-cp(i[_],a,0,m,m-1,t))!=0){for(m-=T,S=(b-=T)+1,w=(x-=T)+1,v=0;v<T;v++)i[S+v]=a[w+v];if(m<=1){C=!0;break}}if(i[b--]=i[_--],--g==0){C=!0;break}M--}while(I>=7||T>=7);if(C)break;M<0&&(M=0),M+=2}if((r=M)<1&&(r=1),m===1){for(S=(b-=g)+1,w=(_-=g)+1,v=g-1;v>=0;v--)i[S+v]=i[w+v];i[b]=a[x]}else{if(m===0)throw new Error;for(w=b-(m-1),v=0;v<m;v++)i[w+v]=a[v]}}(u,h,c,p))}return e=[],n=[],{mergeRuns:function(){for(;o>1;){var u=o-2;if(u>=1&&n[u-1]<=n[u]+n[u+1]||u>=2&&n[u-2]<=n[u]+n[u-1])n[u-1]<n[u+1]&&u--;else if(n[u]>n[u+1])break;s(u)}},forceMergeRuns:function(){for(;o>1;){var u=o-2;u>0&&n[u-1]<n[u+1]&&u--,s(u)}},pushRun:function(u,h){e[o]=u,n[o]=h,o+=1}}}function dp(i,t,e,n){e||(e=0),n||(n=i.length);var r=n-e;if(!(r<2)){var o=0;if(r<32)mv(i,e,n,e+(o=yv(i,e,n,t)),t);else{var a=gC(i,t),s=function(u){for(var h=0;u>=32;)h|=1&u,u>>=1;return u+h}(r);do{if((o=yv(i,e,n,t))<s){var l=r;l>s&&(l=s),mv(i,e,e+l,e+o,t),o=l}a.pushRun(e,o),a.mergeRuns(),r-=o,e+=o}while(r!==0);a.forceMergeRuns()}}}var vv=!1;function fp(){vv||(vv=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function _v(i,t){return i.zlevel===t.zlevel?i.z===t.z?i.z2-t.z2:i.z-t.z:i.zlevel-t.zlevel}var xv,bv,yC=function(){function i(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=_v}return i.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},i.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},i.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,ue.canvasSupported&&dp(n,_v)},i.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];for(var o=r,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),a=o,o=o.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=cn.REDARAW_BIT),this._updateAndAddDisplayable(u,e,n)}t.__dirty=0}else{var h=t;e&&e.length?h.__clipPaths=e:h.__clipPaths&&h.__clipPaths.length>0&&(h.__clipPaths=[]),isNaN(h.z)&&(fp(),h.z=0),isNaN(h.z2)&&(fp(),h.z2=0),isNaN(h.zlevel)&&(fp(),h.zlevel=0),this._displayList[this._displayListLen++]=h}var c=t.getDecalElement&&t.getDecalElement();c&&this._updateAndAddDisplayable(c,e,n);var p=t.getTextGuideLine();p&&this._updateAndAddDisplayable(p,e,n);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,n)}},i.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},i.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var r=ie(this._roots,t);r>=0&&this._roots.splice(r,1)}},i.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},i.prototype.getRoots=function(){return this._roots},i.prototype.dispose=function(){this._displayList=null,this._roots=null},i}(),gp=typeof window!="undefined"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(i){return setTimeout(i,16)},mC=function(i){function t(e){var n=i.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n.onframe=e.onframe||function(){},n}return z(t,i),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._clipsHead?(this._clipsTail.next=e,e.prev=this._clipsTail,e.next=null,this._clipsTail=e):this._clipsHead=this._clipsTail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var n=e.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(e){if(e.animation){var n=e.prev,r=e.next;n?n.next=r:this._clipsHead=r,r?r.prev=n:this._clipsTail=n,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var n=e.getClip();n&&this.removeClip(n),e.animation=null},t.prototype.update=function(e){for(var n=new Date().getTime()-this._pausedTime,r=n-this._time,o=this._clipsHead;o;){var a=o.next;o.step(n,r)&&(o.ondestroy&&o.ondestroy(),this.removeClip(o)),o=a}this._time=n,e||(this.onframe(r),this.trigger("frame",r),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,gp(function n(){e._running&&(gp(n),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=new Date().getTime(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=new Date().getTime(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=new Date().getTime()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._clipsHead;e;){var n=e.next;e.prev=e.next=e.animation=null,e=n}this._clipsHead=this._clipsTail=null},t.prototype.isFinished=function(){return this._clipsHead==null},t.prototype.animate=function(e,n){n=n||{},this.start();var r=new rp(e,n.loop);return this.addAnimator(r),r},t}(Dn),yp=ue.domSupported,mp=(bv={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:xv=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:j(xv,function(i){var t=i.replace("mouse","pointer");return bv.hasOwnProperty(t)?t:i})}),vC=["mousemove","mouseup"],_C=["pointermove","pointerup"],wv=!1;function vp(i){var t=i.pointerType;return t==="pen"||t==="touch"}function _p(i){i&&(i.zrByTouch=!0)}function Sv(i,t){for(var e=t,n=!1;e&&e.nodeType!==9&&!(n=e.domBelongToZr||e!==t&&e===i.painterRoot);)e=e.parentNode;return n}var xC=function(t,e){this.stopPropagation=sn,this.stopImmediatePropagation=sn,this.preventDefault=sn,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},On={mousedown:function(t){t=ln(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=ln(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=ln(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){Sv(this,(t=ln(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){wv=!0,t=ln(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){wv||(t=ln(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){_p(t=ln(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),On.mousemove.call(this,t),On.mousedown.call(this,t)},touchmove:function(t){_p(t=ln(this.dom,t)),this.handler.processGesture(t,"change"),On.mousemove.call(this,t)},touchend:function(t){_p(t=ln(this.dom,t)),this.handler.processGesture(t,"end"),On.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&On.click.call(this,t)},pointerdown:function(t){On.mousedown.call(this,t)},pointermove:function(t){vp(t)||On.mousemove.call(this,t)},pointerup:function(t){On.mouseup.call(this,t)},pointerout:function(t){vp(t)||On.mouseout.call(this,t)}};D(["click","dblclick","contextmenu"],function(i){On[i]=function(t){t=ln(this.dom,t),this.trigger(i,t)}});var xp={pointermove:function(t){vp(t)||xp.mousemove.call(this,t)},pointerup:function(t){xp.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function bC(i,t){var e=t.domHandlers;ue.pointerEventsSupported?D(mp.pointer,function(n){uu(t,n,function(r){e[n].call(i,r)})}):(ue.touchEventsSupported&&D(mp.touch,function(n){uu(t,n,function(r){e[n].call(i,r),function(o){o.touching=!0,o.touchTimer!=null&&(clearTimeout(o.touchTimer),o.touchTimer=null),o.touchTimer=setTimeout(function(){o.touching=!1,o.touchTimer=null},700)}(t)})}),D(mp.mouse,function(n){uu(t,n,function(r){r=Uc(r),t.touching||e[n].call(i,r)})}))}function wC(i,t){function e(n){uu(t,n,function(r){r=Uc(r),Sv(i,r.target)||(r=function(o,a){return ln(o.dom,new xC(o,a),!0)}(i,r),t.domHandlers[n].call(i,r))},{capture:!0})}ue.pointerEventsSupported?D(_C,e):ue.touchEventsSupported||D(vC,e)}function uu(i,t,e,n){i.mounted[t]=e,i.listenerOpts[t]=n,Yc(i.domTarget,t,e,n)}function bp(i){var t,e,n,r,o=i.mounted;for(var a in o)o.hasOwnProperty(a)&&(t=i.domTarget,e=a,n=o[a],r=i.listenerOpts[a],Fc?t.removeEventListener(e,n,r):t.detachEvent("on"+e,n));i.mounted={}}var Mv=function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},SC=function(i){function t(e,n){var r=i.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=n,r._localHandlerScope=new Mv(e,On),yp&&(r._globalHandlerScope=new Mv(document,xp)),bC(r,r._localHandlerScope),r}return z(t,i),t.prototype.dispose=function(){bp(this._localHandlerScope),yp&&bp(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,yp&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var n=this._globalHandlerScope;e?wC(this,n):bp(n)}},t}(Dn),oe=function(i){function t(e){var n=i.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return z(t,i),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var n=this._children,r=0;r<n.length;r++)if(n[r].name===e)return n[r]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){if(e&&(e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),e.__hostTarget))throw"This elemenet has been used as an attachment";return this},t.prototype.addBefore=function(e,n){if(e&&e!==this&&e.parent!==this&&n&&n.parent===this){var r=this._children,o=r.indexOf(n);o>=0&&(r.splice(o,0,e),this._doAdd(e))}return this},t.prototype.replaceAt=function(e,n){var r=this._children,o=r[n];if(e&&e!==this&&e.parent!==this&&e!==o){r[n]=e,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var n=this.__zr;n&&n!==e.__zr&&e.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(e){var n=this.__zr,r=this._children,o=ie(r,e);return o<0||(r.splice(o,1),e.parent=null,n&&e.removeSelfFromZr(n),n&&n.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,n=this.__zr,r=0;r<e.length;r++){var o=e[r];n&&o.removeSelfFromZr(n),o.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,n){for(var r=this._children,o=0;o<r.length;o++){var a=r[o];e.call(n,a,o)}return this},t.prototype.traverse=function(e,n){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=e.call(n,o);o.isGroup&&!a&&o.traverse(e,n)}return this},t.prototype.addSelfToZr=function(e){i.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].addSelfToZr(e)},t.prototype.removeSelfFromZr=function(e){i.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].removeSelfFromZr(e)},t.prototype.getBoundingRect=function(e){for(var n=new me(0,0,0,0),r=e||this._children,o=[],a=null,s=0;s<r.length;s++){var l=r[s];if(!l.ignore&&!l.invisible){var u=l.getBoundingRect(),h=l.getLocalTransform(o);h?(me.applyTransform(n,u,h),(a=a||n.clone()).union(n)):(a=a||u.clone()).union(u)}}return a||n},t}(cn);oe.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var MC=!ue.canvasSupported,ns={},wr={},IC=function(){function i(t,e,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var o=new yC,a=n.renderer||"canvas";if(MC)throw new Error("IE8 support has been dropped since 5.0");if(ns[a]||(a=ke(ns)[0]),!ns[a])throw new Error("Renderer '"+a+"' is not imported. Please import it first.");n.useDirtyRect=n.useDirtyRect!=null&&n.useDirtyRect;var s=new ns[a](e,o,n,t);this.storage=o,this.painter=s;var l=ue.node||ue.worker?null:new SC(s.getViewportRoot(),s.root);this.handler=new Qm(o,s,l,s.root),this.animation=new mC({stage:{update:function(){return r._flush(!0)}}}),this.animation.start()}return i.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},i.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},i.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},i.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(e){if(!e)return!1;if(typeof e=="string")return Za(e,1)<.4;if(e.colorStops){for(var n=e.colorStops,r=0,o=n.length,a=0;a<o;a++)r+=Za(n[a].color,1);return(r/=o)<.4}return!1}(t)},i.prototype.getBackgroundColor=function(){return this._backgroundColor},i.prototype.setDarkMode=function(t){this._darkMode=t},i.prototype.isDarkMode=function(){return this._darkMode},i.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},i.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},i.prototype.flush=function(){this._flush(!1)},i.prototype._flush=function(t){var e,n=new Date().getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=new Date().getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},i.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},i.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},i.prototype.addHover=function(t){},i.prototype.removeHover=function(t){},i.prototype.clearHover=function(){},i.prototype.refreshHover=function(){this._needsRefreshHover=!0},i.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},i.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},i.prototype.clearAnimation=function(){this.animation.clear()},i.prototype.getWidth=function(){return this.painter.getWidth()},i.prototype.getHeight=function(){return this.painter.getHeight()},i.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},i.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},i.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},i.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},i.prototype.off=function(t,e){this.handler.off(t,e)},i.prototype.trigger=function(t,e){this.handler.trigger(t,e)},i.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof oe&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},i.prototype.dispose=function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete wr[t]},i}();function wp(i,t){var e=new IC(za(),i,t);return wr[e.id]=e,e}function Iv(i,t){ns[i]=t}var TC=Object.freeze({__proto__:null,init:wp,dispose:function(t){t.dispose()},disposeAll:function(){for(var t in wr)wr.hasOwnProperty(t)&&wr[t].dispose();wr={}},getInstance:function(t){return wr[t]},registerPainter:Iv,version:"5.1.0"}),CC=1e-4;function Oe(i,t,e,n){var r=t[1]-t[0],o=e[1]-e[0];if(r===0)return o===0?e[0]:(e[0]+e[1])/2;if(n)if(r>0){if(i<=t[0])return e[0];if(i>=t[1])return e[1]}else{if(i>=t[0])return e[0];if(i<=t[1])return e[1]}else{if(i===t[0])return e[0];if(i===t[1])return e[1]}return(i-t[0])/r*o+e[0]}function q(i,t){switch(i){case"center":case"middle":i="50%";break;case"left":case"top":i="0%";break;case"right":case"bottom":i="100%"}return typeof i=="string"?(e=i,e.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(i)/100*t:parseFloat(i):i==null?NaN:+i;var e}function vt(i,t,e){return t==null&&(t=10),t=Math.min(Math.max(0,t),20),i=(+i).toFixed(t),e?i:+i}function $t(i){return i.sort(function(t,e){return t-e}),i}function Tv(i){if(i=+i,isNaN(i))return 0;for(var t=1,e=0;Math.round(i*t)/t!==i;)t*=10,e++;return e}function Ri(i){var t=i.toString(),e=t.indexOf("e");if(e>0){var n=+t.slice(e+1);return n<0?-n:0}var r=t.indexOf(".");return r<0?0:t.length-1-r}function Sp(i,t){var e=Math.log,n=Math.LN10,r=Math.floor(e(i[1]-i[0])/n),o=Math.round(e(Math.abs(t[1]-t[0]))/n),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function Cv(i,t,e){if(!i[t])return 0;var n=An(i,function(f,g){return f+(isNaN(g)?0:g)},0);if(n===0)return 0;for(var r=Math.pow(10,e),o=j(i,function(f){return(isNaN(f)?0:f)/n*r*100}),a=100*r,s=j(o,function(f){return Math.floor(f)}),l=An(s,function(f,g){return f+g},0),u=j(o,function(f,g){return f-s[g]});l<a;){for(var h=Number.NEGATIVE_INFINITY,c=null,p=0,d=u.length;p<d;++p)u[p]>h&&(h=u[p],c=p);++s[c],u[c]=0,++l}return s[t]/r}var Mp=9007199254740991;function Ip(i){var t=2*Math.PI;return(i%t+t)%t}function is(i){return i>-1e-4&&i<CC}var AC=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Jt(i){if(i instanceof Date)return i;if(typeof i=="string"){var t=AC.exec(i);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return i==null?new Date(NaN):new Date(Math.round(i))}function Av(i){return Math.pow(10,Tp(i))}function Tp(i){if(i===0)return 0;var t=Math.floor(Math.log(i)/Math.LN10);return i/Math.pow(10,t)>=10&&t++,t}function Cp(i,t){var e=Tp(i),n=Math.pow(10,e),r=i/n;return i=(t?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*n,e>=-20?+i.toFixed(e<0?-e:0):i}function hu(i,t){var e=(i.length-1)*t+1,n=Math.floor(e),r=+i[n-1],o=e-n;return o?r+o*(i[n]-r):r}function Ap(i){i.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,e=1,n=0;n<i.length;){for(var r=i[n].interval,o=i[n].close,a=0;a<2;a++)r[a]<=t&&(r[a]=t,o[a]=a?1:1-e),t=r[a],e=o[a];r[0]===r[1]&&o[0]*o[1]!=1?i.splice(n,1):n++}return i;function s(l,u,h){return l.interval[h]<u.interval[h]||l.interval[h]===u.interval[h]&&(l.close[h]-u.close[h]==(h?-1:1)||!h&&s(l,u,1))}}function Un(i){var t=parseFloat(i);return t==i&&(t!==0||typeof i!="string"||i.indexOf("x")<=0)?t:NaN}function Dp(i){return!isNaN(Un(i))}function Dv(){return Math.round(9*Math.random())}function Lv(i,t){return t===0?i:Lv(t,i%t)}function kv(i,t){return i==null?t:t==null?i:i*t/Lv(i,t)}function Pv(i){}function Ce(i){throw new Error(i)}var Ov="series\0",Rv="\0_ec_\0";function je(i){return i instanceof Array?i:i==null?[]:[i]}function Sr(i,t,e){if(i){i[t]=i[t]||{},i.emphasis=i.emphasis||{},i.emphasis[t]=i.emphasis[t]||{};for(var n=0,r=e.length;n<r;n++){var o=e[n];!i.emphasis[t].hasOwnProperty(o)&&i[t].hasOwnProperty(o)&&(i.emphasis[t][o]=i[t][o])}}}var Nv=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function rs(i){return!ae(i)||W(i)||i instanceof Date?i:i.value}function Ev(i,t,e){var n=e==="normalMerge",r=e==="replaceMerge",o=e==="replaceAll";i=i||[],t=(t||[]).slice();var a=re();D(t,function(h,c){ae(h)||(t[c]=null)});var s,l,u=function(h,c,p){var d=[];if(p==="replaceAll")return d;for(var f=0;f<h.length;f++){var g=h[f];g&&g.id!=null&&c.set(g.id,f),d.push({existing:p==="replaceMerge"||as(g)?null:g,newOption:null,keyInfo:null,brandNew:null})}return d}(i,a,e);return(n||r)&&function(h,c,p,d){D(d,function(f,g){if(f&&f.id!=null){var y=os(f.id),m=p.get(y);if(m!=null){var v=h[m];Tt(!v.newOption,'Duplicated option on id "'+y+'".'),v.newOption=f,v.existing=c[m],d[g]=null}}})}(u,i,a,t),n&&function(h,c){D(c,function(p,d){if(p&&p.name!=null)for(var f=0;f<h.length;f++){var g=h[f].existing;if(!h[f].newOption&&g&&(g.id==null||p.id==null)&&!as(p)&&!as(g)&&zv("name",g,p))return h[f].newOption=p,void(c[d]=null)}})}(u,t),n||r?function(h,c,p){D(c,function(d){if(d){for(var f,g=0;(f=h[g])&&(f.newOption||as(f.existing)||f.existing&&d.id!=null&&!zv("id",d,f.existing));)g++;f?(f.newOption=d,f.brandNew=p):h.push({newOption:d,brandNew:p,existing:null,keyInfo:null}),g++}})}(u,t,r):o&&function(h,c){D(c,function(p){h.push({newOption:p,brandNew:!0,existing:null,keyInfo:null})})}(u,t),s=u,l=re(),D(s,function(h){var c=h.existing;c&&l.set(c.id,h)}),D(s,function(h){var c=h.newOption;Tt(!c||c.id==null||!l.get(c.id)||l.get(c.id)===h,"id duplicates: "+(c&&c.id)),c&&c.id!=null&&l.set(c.id,h),!h.keyInfo&&(h.keyInfo={})}),D(s,function(h,c){var p=h.existing,d=h.newOption,f=h.keyInfo;if(ae(d)){if(f.name=d.name!=null?os(d.name):p?p.name:Ov+c,p)f.id=os(p.id);else if(d.id!=null)f.id=os(d.id);else{var g=0;do f.id="\0"+f.name+"\0"+g++;while(l.get(f.id))}l.set(f.id,h)}}),u}function zv(i,t,e){var n=dt(t[i],null),r=dt(e[i],null);return n!=null&&r!=null&&n===r}function os(i){return dt(i,"")}function dt(i,t){if(i==null)return t;var e=typeof i;return e==="string"?i:e==="number"||jl(i)?i+"":t}function Lp(i){var t=i.name;return!(!t||!t.indexOf(Ov))}function as(i){return i&&i.id!=null&&os(i.id).indexOf(Rv)===0}function Mr(i,t){return t.dataIndexInside!=null?t.dataIndexInside:t.dataIndex!=null?W(t.dataIndex)?j(t.dataIndex,function(e){return i.indexOfRawIndex(e)}):i.indexOfRawIndex(t.dataIndex):t.name!=null?W(t.name)?j(t.name,function(e){return i.indexOfName(e)}):i.indexOfName(t.name):void 0}function Ne(){var i="__ec_inner_"+DC++;return function(t){return t[i]||(t[i]={})}}var DC=Dv();function Ir(i,t,e){var n=kp(t,e),r=n.mainTypeSpecified,o=n.queryOptionMap,a=n.others,s=e?e.defaultMainType:null;return!r&&s&&o.set(s,{}),o.each(function(l,u){var h=ss(i,u,l,{useDefault:s===u,enableAll:!e||e.enableAll==null||e.enableAll,enableNone:!e||e.enableNone==null||e.enableNone});a[u+"Models"]=h.models,a[u+"Model"]=h.models[0]}),a}function kp(i,t){var e;if(be(i)){var n={};n[i+"Index"]=0,e=n}else e=i;var r=re(),o={},a=!1;return D(e,function(s,l){if(l!=="dataIndex"&&l!=="dataIndexInside"){var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],h=u[1],c=(u[2]||"").toLowerCase();h&&c&&!(t&&t.includeMainTypes&&ie(t.includeMainTypes,h)<0)&&(a=a||!!h,(r.get(h)||r.set(h,{}))[c]=s)}else o[l]=s}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var lt={useDefault:!0,enableAll:!1,enableNone:!1},LC={useDefault:!1,enableAll:!0,enableNone:!0};function ss(i,t,e,n){n=n||lt;var r=e.index,o=e.id,a=e.name,s={models:null,specified:r!=null||o!=null||a!=null};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=i.getComponent(t))?[l]:[],s}return r==="none"||r===!1?(Tt(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(r==="all"&&(Tt(n.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=i.queryComponents({mainType:t,index:r,id:o,name:a}),s)}function Bv(i,t,e){i.setAttribute?i.setAttribute(t,e):i[t]=e}function Pp(i,t){var e=re(),n=[];return D(i,function(r){var o=t(r);(e.get(o)||(n.push(o),e.set(o,[]))).push(r)}),{keys:n,buckets:e}}function Vv(i,t,e,n,r){var o=t==null||t==="auto";if(n==null)return n;if(typeof n=="number")return vt(d=ja(e||0,n,r),o?Math.max(Ri(e||0),Ri(n)):t);if(typeof n=="string")return r<1?e:n;for(var a=[],s=e,l=n,u=Math.max(s?s.length:0,l.length),h=0;h<u;++h)if(i.getDimensionInfo(h).type==="ordinal")a[h]=(r<1&&s?s:l)[h];else{var c=s&&s[h]?s[h]:0,p=l[h],d=ja(c,p,r);a[h]=vt(d,o?Math.max(Ri(c),Ri(p)):t)}return a}var Tr="___EC__COMPONENT__CONTAINER___",Gv="___EC__EXTENDED_CLASS___";function Yn(i){var t={main:"",sub:""};if(i){var e=i.split(".");t.main=e[0]||"",t.sub=e[1]||""}return t}function Op(i,t){i.$constructor=i,i.extend=function(e){var n=this;function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(e.$constructor)e.$constructor.apply(this,arguments);else{if(kC(n)){var s=So(r.prototype,new(n.bind.apply(n,Yl([void 0],o))));return s}n.apply(this,arguments)}}return r[Gv]=!0,X(r.prototype,e),r.extend=this.extend,r.superCall=OC,r.superApply=RC,tt(r,this),r.superClass=n,r}}function kC(i){return typeof i=="function"&&/^class\s/.test(Function.prototype.toString.call(i))}function Fv(i,t){i.extend=t.extend}var PC=Math.round(10*Math.random());function OC(i,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return this.superClass.prototype[t].apply(i,e)}function RC(i,t,e){return this.superClass.prototype[t].apply(i,e)}function cu(i){var t={};i.registerClass=function(e){var n,r=e.type||e.prototype.type;if(r){Tt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n=r),'componentType "'+n+'" illegal'),e.prototype.type=r;var o=Yn(r);o.sub?o.sub!==Tr&&(function(a){var s=t[a.main];return s&&s[Tr]||((s=t[a.main]={})[Tr]=!0),s}(o)[o.sub]=e):t[o.main]=e}return e},i.getClass=function(e,n,r){var o=t[e];if(o&&o[Tr]&&(o=n?o[n]:null),r&&!o)throw new Error(n?"Component "+e+"."+(n||"")+" is used but not imported.":e+".type should be specified.");return o},i.getClassesByMainType=function(e){var n=Yn(e),r=[],o=t[n.main];return o&&o[Tr]?D(o,function(a,s){s!==Tr&&r.push(a)}):r.push(o),r},i.hasClass=function(e){var n=Yn(e);return!!t[n.main]},i.getAllClassMainTypes=function(){var e=[];return D(t,function(n,r){e.push(r)}),e},i.hasSubTypes=function(e){var n=Yn(e),r=t[n.main];return r&&r[Tr]}}function Cr(i,t){for(var e=0;e<i.length;e++)i[e][1]||(i[e][1]=i[e][0]);return t=t||!1,function(n,r,o){for(var a={},s=0;s<i.length;s++){var l=i[s][1];if(!(r&&ie(r,l)>=0||o&&ie(o,l)<0)){var u=n.getShallow(l,t);u!=null&&(a[i[s][0]]=u)}}return a}}var NC=Cr([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),EC=function(){function i(){}return i.prototype.getAreaStyle=function(t,e){return NC(this,t,e)},i}(),Rp=new Wa(50);function zC(i){if(typeof i=="string"){var t=Rp.get(i);return t&&t.image}return i}function Np(i,t,e,n,r){if(i){if(typeof i=="string"){if(t&&t.__zrImageSrc===i||!e)return t;var o=Rp.get(i),a={hostEl:e,cb:n,cbPayload:r};return o?!pu(t=o.image)&&o.pending.push(a):((t=new Image).onload=t.onerror=BC,Rp.put(i,t.__cachedImgObj={image:t,pending:[a]}),t.src=t.__zrImageSrc=i),t}return i}return t}function BC(){var i=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<i.pending.length;t++){var e=i.pending[t],n=e.cb;n&&n(this,e.cbPayload),e.hostEl.dirty()}i.pending.length=0}function pu(i){return i&&i.width&&i.height}var Ep=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Hv(i,t,e,n,r){if(!t)return"";var o=(i+"").split(`
`);r=Wv(t,e,n,r);for(var a=0,s=o.length;a<s;a++)o[a]=Uv(o[a],r);return o.join(`
`)}function Wv(i,t,e,n){var r=X({},n=n||{});r.font=t,e=we(e,"..."),r.maxIterations=we(n.maxIterations,2);var o=r.minChar=we(n.minChar,0);r.cnCharWidth=Kt("\u56FD",t);var a=r.ascCharWidth=Kt("a",t);r.placeholder=we(n.placeholder,"");for(var s=i=Math.max(0,i-1),l=0;l<o&&s>=a;l++)s-=a;var u=Kt(e,t);return u>s&&(e="",u=0),s=i-u,r.ellipsis=e,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=i,r}function Uv(i,t){var e=t.containerWidth,n=t.font,r=t.contentWidth;if(!e)return"";var o=Kt(i,n);if(o<=e)return i;for(var a=0;;a++){if(o<=r||a>=t.maxIterations){i+=t.ellipsis;break}var s=a===0?VC(i,r,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(i.length*r/o):0;o=Kt(i=i.substr(0,s),n)}return i===""&&(i=t.placeholder),i}function VC(i,t,e,n){for(var r=0,o=0,a=i.length;o<a&&r<t;o++){var s=i.charCodeAt(o);r+=0<=s&&s<=127?e:n}return o}var GC=function(){},Yv=function(t){this.tokens=[],t&&(this.tokens=t)},FC=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function zp(i,t,e,n,r){var o,a,s=t==="",l=r&&e.rich[r]||{},u=i.lines,h=l.font||e.font,c=!1;if(n){var p=l.padding,d=p?p[1]+p[3]:0;if(l.width!=null&&l.width!=="auto"){var f=hn(l.width,n.width)+d;u.length>0&&f+n.accumWidth>n.width&&(o=t.split(`
`),c=!0),n.accumWidth=f}else{var g=Xv(t,h,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+d,a=g.linesWidths,o=g.lines}}else o=t.split(`
`);for(var y=0;y<o.length;y++){var m=o[y],v=new GC;if(v.styleName=r,v.text=m,v.isLineHolder=!m&&!s,typeof l.width=="number"?v.width=l.width:v.width=a?a[y]:Kt(m,h),y||c)u.push(new Yv([v]));else{var _=(u[u.length-1]||(u[0]=new Yv)).tokens,x=_.length;x===1&&_[0].isLineHolder?_[0]=v:(m||!x||s)&&_.push(v)}}}var HC=An(",&?/;] ".split(""),function(i,t){return i[t]=!0,i},{});function WC(i){return!function(t){var e=t.charCodeAt(0);return e>=33&&e<=255}(i)||!!HC[i]}function Xv(i,t,e,n,r){for(var o=[],a=[],s="",l="",u=0,h=0,c=0;c<i.length;c++){var p=i.charAt(c);if(p!==`
`){var d=Kt(p,t),f=!n&&!WC(p);(o.length?h+d>e:r+h+d>e)?h?(s||l)&&(f?(s||(s=l,l="",h=u=0),o.push(s),a.push(h-u),l+=p,s="",h=u+=d):(l&&(s+=l,h+=u,l="",u=0),o.push(s),a.push(h),s=p,h=d)):f?(o.push(l),a.push(u),l=p,u=d):(o.push(p),a.push(d)):(h+=d,f?(l+=p,u+=d):(l&&(s+=l,l="",u=0),s+=p))}else l&&(s+=l,h+=u),o.push(s),a.push(h),s="",l="",u=0,h=0}return o.length||s||(s=i,l="",u=0),l&&(s+=l),s&&(o.push(s),a.push(h)),o.length===1&&(h+=r),{accumWidth:h,lines:o,linesWidths:a}}var Bp="__zr_style_"+Math.round(10*Math.random()),Ar={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},du={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Ar[Bp]=!0;var Vp=["z","z2","invisible"],Xn=function(i){function t(n){return i.call(this,n)||this}var e;return z(t,i),t.prototype._init=function(n){for(var r=ke(n),o=0;o<r.length;o++){var a=r[o];a==="style"?this.useStyle(n[a]):i.prototype.attrKV.call(this,a,n[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,r,o,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&function(h,c,p){return Gp.copy(h.getBoundingRect()),h.transform&&Gp.applyTransform(h.transform),Fp.width=c,Fp.height=p,!Gp.intersect(Fp)}(this,n,r)||s&&!s[0]&&!s[3])return!1;if(o&&this.__clipPaths){for(var l=0;l<this.__clipPaths.length;++l)if(this.__clipPaths[l].isZeroArea())return!1}if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},t.prototype.contain=function(n,r){return this.rectContain(n,r)},t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.rectContain=function(n,r){var o=this.transformCoordToLocal(n,r);return this.getBoundingRect().contain(o[0],o[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,o=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,l=a.shadowOffsetX||0,u=a.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new me(0,0,0,0)),r?me.applyTransform(n,o,r):n.copy(o),(s||l||u)&&(n.width+=2*s+Math.abs(l),n.height+=2*s+Math.abs(u),n.x=Math.min(n.x,n.x+l-s),n.y=Math.min(n.y,n.y+u-s));var h=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-h),n.y=Math.floor(n.y-h),n.width=Math.ceil(n.width+1+2*h),n.height=Math.ceil(n.height+1+2*h))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new me(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,r){n!=="style"?i.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(n,r){return typeof n=="string"?this.style[n]=r:X(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(){this.markRedraw(),this.__dirty|=t.STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&t.STYLE_CHANGED_BIT)},t.prototype.styleUpdated=function(){this.__dirty&=~t.STYLE_CHANGED_BIT},t.prototype.createStyle=function(n){return So(Ar,n)},t.prototype.useStyle=function(n){n[Bp]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[Bp]},t.prototype._innerSaveToNormal=function(n){i.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,Vp)},t.prototype._applyStateObj=function(n,r,o,a,s,l){i.prototype._applyStateObj.call(this,n,r,o,a,s,l);var u,h=!(r&&a);if(r&&r.style?s?a?u=r.style:(u=this._mergeStyle(this.createStyle(),o.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:o.style),this._mergeStyle(u,r.style)):h&&(u=o.style),u)if(s){var c=this.style;if(this.style=this.createStyle(h?{}:c),h)for(var p=ke(c),d=0;d<p.length;d++)(g=p[d])in u&&(u[g]=u[g],this.style[g]=c[g]);var f=ke(u);for(d=0;d<f.length;d++){var g=f[d];this.style[g]=this.style[g]}this._transitionState(n,{style:u},l,this.getAnimationStyleProps())}else this.useStyle(u);for(d=0;d<Vp.length;d++)g=Vp[d],r&&r[g]!=null?this[g]=r[g]:h&&o[g]!=null&&(this[g]=o[g])},t.prototype._mergeStates=function(n){for(var r,o=i.prototype._mergeStates.call(this,n),a=0;a<n.length;a++){var s=n[a];s.style&&(r=r||{},this._mergeStyle(r,s.style))}return r&&(o.style=r),o},t.prototype._mergeStyle=function(n,r){return X(n,r),n},t.prototype.getAnimationStyleProps=function(){return du},t.STYLE_CHANGED_BIT=2,t.initDefaultProps=((e=t.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=cn.REDARAW_BIT|t.STYLE_CHANGED_BIT)),t}(cn),Gp=new me(0,0,0,0),Fp=new me(0,0,0,0),fu=Math.pow,Ni=Math.sqrt,Zv=1e-8,jv=1e-4,qv=Ni(3),gu=1/3,Zn=Ti(),pn=Ti(),Oo=Ti();function Ei(i){return i>-1e-8&&i<Zv}function Kv(i){return i>Zv||i<-1e-8}function Qe(i,t,e,n,r){var o=1-r;return o*o*(o*i+3*r*t)+r*r*(r*n+3*o*e)}function $v(i,t,e,n,r){var o=1-r;return 3*(((t-i)*o+2*(e-t)*r)*o+(n-e)*r*r)}function Hp(i,t,e,n,r,o){var a=n+3*(t-e)-i,s=3*(e-2*t+i),l=3*(t-i),u=i-r,h=s*s-3*a*l,c=s*l-9*a*u,p=l*l-3*s*u,d=0;if(Ei(h)&&Ei(c))Ei(s)?o[0]=0:(M=-l/s)>=0&&M<=1&&(o[d++]=M);else{var f=c*c-4*h*p;if(Ei(f)){var g=c/h,y=-g/2;(M=-s/a+g)>=0&&M<=1&&(o[d++]=M),y>=0&&y<=1&&(o[d++]=y)}else if(f>0){var m=Ni(f),v=h*s+1.5*a*(-c+m),_=h*s+1.5*a*(-c-m);(M=(-s-((v=v<0?-fu(-v,gu):fu(v,gu))+(_=_<0?-fu(-_,gu):fu(_,gu))))/(3*a))>=0&&M<=1&&(o[d++]=M)}else{var x=(2*h*s-3*a*c)/(2*Ni(h*h*h)),b=Math.acos(x)/3,w=Ni(h),S=Math.cos(b),M=(-s-2*w*S)/(3*a),I=(y=(-s+w*(S+qv*Math.sin(b)))/(3*a),(-s+w*(S-qv*Math.sin(b)))/(3*a));M>=0&&M<=1&&(o[d++]=M),y>=0&&y<=1&&(o[d++]=y),I>=0&&I<=1&&(o[d++]=I)}}return d}function Jv(i,t,e,n,r){var o=6*e-12*t+6*i,a=9*t+3*n-3*i-9*e,s=3*t-3*i,l=0;if(Ei(a))Kv(o)&&(h=-s/o)>=0&&h<=1&&(r[l++]=h);else{var u=o*o-4*a*s;if(Ei(u))r[0]=-o/(2*a);else if(u>0){var h,c=Ni(u),p=(-o-c)/(2*a);(h=(-o+c)/(2*a))>=0&&h<=1&&(r[l++]=h),p>=0&&p<=1&&(r[l++]=p)}}return l}function Ro(i,t,e,n,r,o){var a=(t-i)*r+i,s=(e-t)*r+t,l=(n-e)*r+e,u=(s-a)*r+a,h=(l-s)*r+s,c=(h-u)*r+u;o[0]=i,o[1]=a,o[2]=u,o[3]=c,o[4]=c,o[5]=h,o[6]=l,o[7]=n}function Qv(i,t,e,n,r,o,a,s,l,u,h){var c,p,d,f,g,y=.005,m=1/0;Zn[0]=l,Zn[1]=u;for(var v=0;v<1;v+=.05)pn[0]=Qe(i,e,r,a,v),pn[1]=Qe(t,n,o,s,v),(f=Ai(Zn,pn))<m&&(c=v,m=f);m=1/0;for(var _=0;_<32&&!(y<jv);_++)p=c-y,d=c+y,pn[0]=Qe(i,e,r,a,p),pn[1]=Qe(t,n,o,s,p),f=Ai(pn,Zn),p>=0&&f<m?(c=p,m=f):(Oo[0]=Qe(i,e,r,a,d),Oo[1]=Qe(t,n,o,s,d),g=Ai(Oo,Zn),d<=1&&g<m?(c=d,m=g):y*=.5);return h&&(h[0]=Qe(i,e,r,a,c),h[1]=Qe(t,n,o,s,c)),Ni(m)}function UC(i,t,e,n,r,o,a,s,l){for(var u=i,h=t,c=0,p=1/l,d=1;d<=l;d++){var f=d*p,g=Qe(i,e,r,a,f),y=Qe(t,n,o,s,f),m=g-u,v=y-h;c+=Math.sqrt(m*m+v*v),u=g,h=y}return c}function wt(i,t,e,n){var r=1-n;return r*(r*i+2*n*t)+n*n*e}function Wp(i,t,e,n){return 2*((1-n)*(t-i)+n*(e-t))}function e0(i,t,e){var n=i+e-2*t;return n===0?.5:(i-t)/n}function ls(i,t,e,n,r){var o=(t-i)*n+i,a=(e-t)*n+t,s=(a-o)*n+o;r[0]=i,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=e}function t0(i,t,e,n,r,o,a,s,l){var u,h=.005,c=1/0;Zn[0]=a,Zn[1]=s;for(var p=0;p<1;p+=.05)pn[0]=wt(i,e,r,p),pn[1]=wt(t,n,o,p),(y=Ai(Zn,pn))<c&&(u=p,c=y);c=1/0;for(var d=0;d<32&&!(h<jv);d++){var f=u-h,g=u+h;pn[0]=wt(i,e,r,f),pn[1]=wt(t,n,o,f);var y=Ai(pn,Zn);if(f>=0&&y<c)u=f,c=y;else{Oo[0]=wt(i,e,r,g),Oo[1]=wt(t,n,o,g);var m=Ai(Oo,Zn);g<=1&&m<c?(u=g,c=m):h*=.5}}return l&&(l[0]=wt(i,e,r,u),l[1]=wt(t,n,o,u)),Ni(c)}function YC(i,t,e,n,r,o,a){for(var s=i,l=t,u=0,h=1/a,c=1;c<=a;c++){var p=c*h,d=wt(i,e,r,p),f=wt(t,n,o,p),g=d-s,y=f-l;u+=Math.sqrt(g*g+y*y),s=d,l=f}return u}var Wt=Math.min,Ut=Math.max,Up=Math.sin,Yp=Math.cos,Dr=2*Math.PI,yu=Ti(),mu=Ti(),vu=Ti();function Xp(i,t,e){if(i.length!==0){for(var n=i[0],r=n[0],o=n[0],a=n[1],s=n[1],l=1;l<i.length;l++)n=i[l],r=Wt(r,n[0]),o=Ut(o,n[0]),a=Wt(a,n[1]),s=Ut(s,n[1]);t[0]=r,t[1]=a,e[0]=o,e[1]=s}}function n0(i,t,e,n,r,o){r[0]=Wt(i,e),r[1]=Wt(t,n),o[0]=Ut(i,e),o[1]=Ut(t,n)}var i0=[],r0=[];function XC(i,t,e,n,r,o,a,s,l,u){var h=Jv,c=Qe,p=h(i,e,r,a,i0);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<p;d++){var f=c(i,e,r,a,i0[d]);l[0]=Wt(f,l[0]),u[0]=Ut(f,u[0])}for(p=h(t,n,o,s,r0),d=0;d<p;d++){var g=c(t,n,o,s,r0[d]);l[1]=Wt(g,l[1]),u[1]=Ut(g,u[1])}l[0]=Wt(i,l[0]),u[0]=Ut(i,u[0]),l[0]=Wt(a,l[0]),u[0]=Ut(a,u[0]),l[1]=Wt(t,l[1]),u[1]=Ut(t,u[1]),l[1]=Wt(s,l[1]),u[1]=Ut(s,u[1])}function ZC(i,t,e,n,r,o,a,s){var l=e0,u=wt,h=Ut(Wt(l(i,e,r),1),0),c=Ut(Wt(l(t,n,o),1),0),p=u(i,e,r,h),d=u(t,n,o,c);a[0]=Wt(i,r,p),a[1]=Wt(t,o,d),s[0]=Ut(i,r,p),s[1]=Ut(t,o,d)}function jC(i,t,e,n,r,o,a,s,l){var u=Di,h=Li,c=Math.abs(r-o);if(c%Dr<1e-4&&c>1e-4)return s[0]=i-e,s[1]=t-n,l[0]=i+e,void(l[1]=t+n);if(yu[0]=Yp(r)*e+i,yu[1]=Up(r)*n+t,mu[0]=Yp(o)*e+i,mu[1]=Up(o)*n+t,u(s,yu,mu),h(l,yu,mu),(r%=Dr)<0&&(r+=Dr),(o%=Dr)<0&&(o+=Dr),r>o&&!a?o+=Dr:r<o&&a&&(r+=Dr),a){var p=o;o=r,r=p}for(var d=0;d<o;d+=Math.PI/2)d>r&&(vu[0]=Yp(d)*e+i,vu[1]=Up(d)*n+t,u(s,vu,s),h(l,vu,l))}var Ue={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Lr=[],kr=[],jn=[],zi=[],qn=[],Kn=[],us=Math.min,hs=Math.max,Pr=Math.cos,Or=Math.sin,_u=Math.sqrt,hi=Math.abs,Zp=Math.PI,Bi=2*Zp,jp=typeof Float32Array!="undefined",cs=[];function qp(i){return Math.round(i/Zp*1e8)/1e8%2*Zp}function o0(i,t){var e=qp(i[0]);e<0&&(e+=Bi);var n=e-i[0],r=i[1];r+=n,!t&&r-e>=Bi?r=e+Bi:t&&e-r>=Bi?r=e-Bi:!t&&e>r?r=e+(Bi-qp(e-r)):t&&e<r&&(r=e-(Bi-qp(r-e))),i[0]=e,i[1]=r}var $n=function(){function i(t){this.dpr=1,this._version=0,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return i.prototype.increaseVersion=function(){this._version++},i.prototype.getVersion=function(){return this._version},i.prototype.setScale=function(t,e,n){(n=n||0)>0&&(this._ux=hi(n/lu/t)||0,this._uy=hi(n/lu/e)||0)},i.prototype.setDPR=function(t){this.dpr=t},i.prototype.setContext=function(t){this._ctx=t},i.prototype.getContext=function(){return this._ctx},i.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},i.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},i.prototype.moveTo=function(t,e){return this.addData(Ue.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},i.prototype.lineTo=function(t,e){var n=hi(t-this._xi)>this._ux||hi(e-this._yi)>this._uy||this._len<5;return this.addData(Ue.L,t,e),this._ctx&&n&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},i.prototype.bezierCurveTo=function(t,e,n,r,o,a){return this.addData(Ue.C,t,e,n,r,o,a),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,n,r,o,a):this._ctx.bezierCurveTo(t,e,n,r,o,a)),this._xi=o,this._yi=a,this},i.prototype.quadraticCurveTo=function(t,e,n,r){return this.addData(Ue.Q,t,e,n,r),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,n,r):this._ctx.quadraticCurveTo(t,e,n,r)),this._xi=n,this._yi=r,this},i.prototype.arc=function(t,e,n,r,o,a){cs[0]=r,cs[1]=o,o0(cs,a),r=cs[0];var s=(o=cs[1])-r;return this.addData(Ue.A,t,e,n,n,r,s,0,a?0:1),this._ctx&&this._ctx.arc(t,e,n,r,o,a),this._xi=Pr(o)*n+t,this._yi=Or(o)*n+e,this},i.prototype.arcTo=function(t,e,n,r,o){return this._ctx&&this._ctx.arcTo(t,e,n,r,o),this},i.prototype.rect=function(t,e,n,r){return this._ctx&&this._ctx.rect(t,e,n,r),this.addData(Ue.R,t,e,n,r),this},i.prototype.closePath=function(){this.addData(Ue.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},i.prototype.fill=function(t){t&&t.fill(),this.toStatic()},i.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},i.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},i.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},i.prototype.len=function(){return this._len},i.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!jp||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},i.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,o=0;o<e;o++)n+=t[o].len();for(jp&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n)),o=0;o<e;o++)for(var a=t[o].data,s=0;s<a.length;s++)this.data[r++]=a[s];this._len=r},i.prototype.addData=function(t,e,n,r,o,a,s,l,u){if(this._saveData){var h=this.data;this._len+arguments.length>h.length&&(this._expandData(),h=this.data);for(var c=0;c<arguments.length;c++)h[this._len++]=arguments[c]}},i.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},i.prototype._dashedLineTo=function(t,e){var n,r,o=this._dashSum,a=this._lineDash,s=this._ctx,l=this._dashOffset,u=this._xi,h=this._yi,c=t-u,p=e-h,d=_u(c*c+p*p),f=u,g=h,y=a.length;for(l<0&&(l=o+l),f-=(l%=o)*(c/=d),g-=l*(p/=d);c>0&&f<=t||c<0&&f>=t||c===0&&(p>0&&g<=e||p<0&&g>=e);)f+=c*(n=a[r=this._dashIdx]),g+=p*n,this._dashIdx=(r+1)%y,c>0&&f<u||c<0&&f>u||p>0&&g<h||p<0&&g>h||s[r%2?"moveTo":"lineTo"](c>=0?us(f,t):hs(f,t),p>=0?us(g,e):hs(g,e));c=f-t,p=g-e,this._dashOffset=-_u(c*c+p*p)},i.prototype._dashedBezierTo=function(t,e,n,r,o,a){var s,l,u,h,c,p=this._ctx,d=this._dashSum,f=this._dashOffset,g=this._lineDash,y=this._xi,m=this._yi,v=0,_=this._dashIdx,x=g.length,b=0;for(f<0&&(f=d+f),f%=d,s=0;s<1;s+=.1)l=Qe(y,t,n,o,s+.1)-Qe(y,t,n,o,s),u=Qe(m,e,r,a,s+.1)-Qe(m,e,r,a,s),v+=_u(l*l+u*u);for(;_<x&&!((b+=g[_])>f);_++);for(s=(b-f)/v;s<=1;)h=Qe(y,t,n,o,s),c=Qe(m,e,r,a,s),_%2?p.moveTo(h,c):p.lineTo(h,c),s+=g[_]/v,_=(_+1)%x;_%2!=0&&p.lineTo(o,a),l=o-h,u=a-c,this._dashOffset=-_u(l*l+u*u)},i.prototype._dashedQuadraticTo=function(t,e,n,r){var o=n,a=r;n=(n+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,r,o,a)},i.prototype.toStatic=function(){if(this._saveData){var t=this.data;t instanceof Array&&(t.length=this._len,jp&&this._len>11&&(this.data=new Float32Array(t)))}},i.prototype.getBoundingRect=function(){jn[0]=jn[1]=qn[0]=qn[1]=Number.MAX_VALUE,zi[0]=zi[1]=Kn[0]=Kn[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,r=0,o=0,a=0;for(t=0;t<this._len;){var s=e[t++],l=t===1;switch(l&&(o=n=e[t],a=r=e[t+1]),s){case Ue.M:n=o=e[t++],r=a=e[t++],qn[0]=o,qn[1]=a,Kn[0]=o,Kn[1]=a;break;case Ue.L:n0(n,r,e[t],e[t+1],qn,Kn),n=e[t++],r=e[t++];break;case Ue.C:XC(n,r,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],qn,Kn),n=e[t++],r=e[t++];break;case Ue.Q:ZC(n,r,e[t++],e[t++],e[t],e[t+1],qn,Kn),n=e[t++],r=e[t++];break;case Ue.A:var u=e[t++],h=e[t++],c=e[t++],p=e[t++],d=e[t++],f=e[t++]+d;t+=1;var g=!e[t++];l&&(o=Pr(d)*c+u,a=Or(d)*p+h),jC(u,h,c,p,d,f,g,qn,Kn),n=Pr(f)*c+u,r=Or(f)*p+h;break;case Ue.R:n0(o=n=e[t++],a=r=e[t++],o+e[t++],a+e[t++],qn,Kn);break;case Ue.Z:n=o,r=a}Di(jn,jn,qn),Li(zi,zi,Kn)}return t===0&&(jn[0]=jn[1]=zi[0]=zi[1]=0),new me(jn[0],jn[1],zi[0]-jn[0],zi[1]-jn[1])},i.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,r=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,h=0,c=0,p=0;p<e;){var d=t[p++],f=p===1;f&&(s=o=t[p],l=a=t[p+1]);var g=-1;switch(d){case Ue.M:o=s=t[p++],a=l=t[p++];break;case Ue.L:var y=t[p++],m=(x=t[p++])-a;(hi(k=y-o)>n||hi(m)>r||p===e-1)&&(g=Math.sqrt(k*k+m*m),o=y,a=x);break;case Ue.C:var v=t[p++],_=t[p++],x=(y=t[p++],t[p++]),b=t[p++],w=t[p++];g=UC(o,a,v,_,y,x,b,w,10),o=b,a=w;break;case Ue.Q:g=YC(o,a,v=t[p++],_=t[p++],y=t[p++],x=t[p++],10),o=y,a=x;break;case Ue.A:var S=t[p++],M=t[p++],I=t[p++],T=t[p++],C=t[p++],A=t[p++],L=A+C;p+=1,t[p++],f&&(s=Pr(C)*I+S,l=Or(C)*T+M),g=hs(I,T)*us(Bi,Math.abs(A)),o=Pr(L)*I+S,a=Or(L)*T+M;break;case Ue.R:s=o=t[p++],l=a=t[p++],g=2*t[p++]+2*t[p++];break;case Ue.Z:var k=s-o;m=l-a,g=Math.sqrt(k*k+m*m),o=s,a=l}g>=0&&(u[c++]=g,h+=g)}return this._pathLen=h,h},i.prototype.rebuildPath=function(t,e){var n,r,o,a,s,l,u,h,c=this.data,p=this._ux,d=this._uy,f=this._len,g=e<1,y=0,m=0;if(!g||(this._pathSegLen||this._calculateLength(),u=this._pathSegLen,h=e*this._pathLen))e:for(var v=0;v<f;){var _=c[v++],x=v===1;switch(x&&(n=o=c[v],r=a=c[v+1]),_){case Ue.M:n=o=c[v++],r=a=c[v++],t.moveTo(o,a);break;case Ue.L:if(s=c[v++],l=c[v++],hi(s-o)>p||hi(l-a)>d||v===f-1){if(g){if(y+(Z=u[m++])>h){var b=(h-y)/Z;t.lineTo(o*(1-b)+s*b,a*(1-b)+l*b);break e}y+=Z}t.lineTo(s,l),o=s,a=l}break;case Ue.C:var w=c[v++],S=c[v++],M=c[v++],I=c[v++],T=c[v++],C=c[v++];if(g){if(y+(Z=u[m++])>h){Ro(o,w,M,T,b=(h-y)/Z,Lr),Ro(a,S,I,C,b,kr),t.bezierCurveTo(Lr[1],kr[1],Lr[2],kr[2],Lr[3],kr[3]);break e}y+=Z}t.bezierCurveTo(w,S,M,I,T,C),o=T,a=C;break;case Ue.Q:if(w=c[v++],S=c[v++],M=c[v++],I=c[v++],g){if(y+(Z=u[m++])>h){ls(o,w,M,b=(h-y)/Z,Lr),ls(a,S,I,b,kr),t.quadraticCurveTo(Lr[1],kr[1],Lr[2],kr[2]);break e}y+=Z}t.quadraticCurveTo(w,S,M,I),o=M,a=I;break;case Ue.A:var A=c[v++],L=c[v++],k=c[v++],P=c[v++],O=c[v++],R=c[v++],N=c[v++],E=!c[v++],B=k>P?k:P,G=hi(k-P)>.001,F=O+R,H=!1;if(g&&(y+(Z=u[m++])>h&&(F=O+R*(h-y)/Z,H=!0),y+=Z),G&&t.ellipse?t.ellipse(A,L,k,P,N,O,F,E):t.arc(A,L,B,O,F,E),H)break e;x&&(n=Pr(O)*k+A,r=Or(O)*P+L),o=Pr(F)*k+A,a=Or(F)*P+L;break;case Ue.R:n=o=c[v],r=a=c[v+1],s=c[v++],l=c[v++];var V=c[v++],U=c[v++];if(g){if(y+(Z=u[m++])>h){var Y=h-y;t.moveTo(s,l),t.lineTo(s+us(Y,V),l),(Y-=V)>0&&t.lineTo(s+V,l+us(Y,U)),(Y-=U)>0&&t.lineTo(s+hs(V-Y,0),l+U),(Y-=V)>0&&t.lineTo(s,l+hs(U-Y,0));break e}y+=Z}t.rect(s,l,V,U);break;case Ue.Z:if(g){var Z;if(y+(Z=u[m++])>h){b=(h-y)/Z,t.lineTo(o*(1-b)+n*b,a*(1-b)+r*b);break e}y+=Z}t.closePath(),o=n,a=r}}},i.CMD=Ue,i.initDefaultProps=function(){var t=i.prototype;t._saveData=!0,t._needsDash=!1,t._dashOffset=0,t._dashIdx=0,t._dashSum=0,t._ux=0,t._uy=0}(),i}();function Vi(i,t,e,n,r,o,a){if(r===0)return!1;var s=r,l=0;if(a>t+s&&a>n+s||a<t-s&&a<n-s||o>i+s&&o>e+s||o<i-s&&o<e-s)return!1;if(i===e)return Math.abs(o-i)<=s/2;var u=(l=(t-n)/(i-e))*o-a+(i*n-e*t)/(i-e);return u*u/(l*l+1)<=s/2*s/2}function qC(i,t,e,n,r,o,a,s,l,u,h){if(l===0)return!1;var c=l;return!(h>t+c&&h>n+c&&h>o+c&&h>s+c||h<t-c&&h<n-c&&h<o-c&&h<s-c||u>i+c&&u>e+c&&u>r+c&&u>a+c||u<i-c&&u<e-c&&u<r-c&&u<a-c)&&Qv(i,t,e,n,r,o,a,s,u,h,null)<=c/2}function a0(i,t,e,n,r,o,a,s,l){if(a===0)return!1;var u=a;return!(l>t+u&&l>n+u&&l>o+u||l<t-u&&l<n-u&&l<o-u||s>i+u&&s>e+u&&s>r+u||s<i-u&&s<e-u&&s<r-u)&&t0(i,t,e,n,r,o,s,l,null)<=u/2}var s0=2*Math.PI;function Gi(i){return(i%=s0)<0&&(i+=s0),i}var ps=2*Math.PI;function KC(i,t,e,n,r,o,a,s,l){if(a===0)return!1;var u=a;s-=i,l-=t;var h=Math.sqrt(s*s+l*l);if(h-u>e||h+u<e)return!1;if(Math.abs(n-r)%ps<1e-4)return!0;if(o){var c=n;n=Gi(r),r=Gi(c)}else n=Gi(n),r=Gi(r);n>r&&(r+=ps);var p=Math.atan2(l,s);return p<0&&(p+=ps),p>=n&&p<=r||p+ps>=n&&p+ps<=r}function ci(i,t,e,n,r,o){if(o>t&&o>n||o<t&&o<n||n===t)return 0;var a=(o-t)/(n-t),s=n<t?1:-1;a!==1&&a!==0||(s=n<t?.5:-.5);var l=a*(e-i)+i;return l===r?1/0:l>r?s:0}var Fi=$n.CMD,Rr=2*Math.PI,Nt=[-1,-1,-1],dn=[-1,-1];function $C(i,t,e,n,r,o,a,s,l,u){if(u>t&&u>n&&u>o&&u>s||u<t&&u<n&&u<o&&u<s)return 0;var h,c=Hp(t,n,o,s,u,Nt);if(c===0)return 0;for(var p=0,d=-1,f=void 0,g=void 0,y=0;y<c;y++){var m=Nt[y],v=m===0||m===1?.5:1;Qe(i,e,r,a,m)<l||(d<0&&(d=Jv(t,n,o,s,dn),dn[1]<dn[0]&&d>1&&(h=void 0,h=dn[0],dn[0]=dn[1],dn[1]=h),f=Qe(t,n,o,s,dn[0]),d>1&&(g=Qe(t,n,o,s,dn[1]))),d===2?m<dn[0]?p+=f<t?v:-v:m<dn[1]?p+=g<f?v:-v:p+=s<g?v:-v:m<dn[0]?p+=f<t?v:-v:p+=s<f?v:-v)}return p}function JC(i,t,e,n,r,o,a,s){if(s>t&&s>n&&s>o||s<t&&s<n&&s<o)return 0;var l=function(f,g,y,m,v){var _=f-2*g+y,x=2*(g-f),b=f-m,w=0;if(Ei(_))Kv(x)&&(M=-b/x)>=0&&M<=1&&(v[w++]=M);else{var S=x*x-4*_*b;if(Ei(S))(M=-x/(2*_))>=0&&M<=1&&(v[w++]=M);else if(S>0){var M,I=Ni(S),T=(-x-I)/(2*_);(M=(-x+I)/(2*_))>=0&&M<=1&&(v[w++]=M),T>=0&&T<=1&&(v[w++]=T)}}return w}(t,n,o,s,Nt);if(l===0)return 0;var u=e0(t,n,o);if(u>=0&&u<=1){for(var h=0,c=wt(t,n,o,u),p=0;p<l;p++){var d=Nt[p]===0||Nt[p]===1?.5:1;wt(i,e,r,Nt[p])<a||(Nt[p]<u?h+=c<t?d:-d:h+=o<c?d:-d)}return h}return d=Nt[0]===0||Nt[0]===1?.5:1,wt(i,e,r,Nt[0])<a?0:o<t?d:-d}function QC(i,t,e,n,r,o,a,s){if((s-=t)>e||s<-e)return 0;var l=Math.sqrt(e*e-s*s);Nt[0]=-l,Nt[1]=l;var u=Math.abs(n-r);if(u<1e-4)return 0;if(u>=Rr-1e-4){n=0,r=Rr;var h=o?1:-1;return a>=Nt[0]+i&&a<=Nt[1]+i?h:0}if(n>r){var c=n;n=r,r=c}n<0&&(n+=Rr,r+=Rr);for(var p=0,d=0;d<2;d++){var f=Nt[d];if(f+i>a){var g=Math.atan2(s,f);h=o?1:-1,g<0&&(g=Rr+g),(g>=n&&g<=r||g+Rr>=n&&g+Rr<=r)&&(g>Math.PI/2&&g<1.5*Math.PI&&(h=-h),p+=h)}}return p}function l0(i,t,e,n,r){for(var o,a,s,l,u=i.data,h=i.len(),c=0,p=0,d=0,f=0,g=0,y=0;y<h;){var m=u[y++],v=y===1;switch(m===Fi.M&&y>1&&(e||(c+=ci(p,d,f,g,n,r))),v&&(f=p=u[y],g=d=u[y+1]),m){case Fi.M:p=f=u[y++],d=g=u[y++];break;case Fi.L:if(e){if(Vi(p,d,u[y],u[y+1],t,n,r))return!0}else c+=ci(p,d,u[y],u[y+1],n,r)||0;p=u[y++],d=u[y++];break;case Fi.C:if(e){if(qC(p,d,u[y++],u[y++],u[y++],u[y++],u[y],u[y+1],t,n,r))return!0}else c+=$C(p,d,u[y++],u[y++],u[y++],u[y++],u[y],u[y+1],n,r)||0;p=u[y++],d=u[y++];break;case Fi.Q:if(e){if(a0(p,d,u[y++],u[y++],u[y],u[y+1],t,n,r))return!0}else c+=JC(p,d,u[y++],u[y++],u[y],u[y+1],n,r)||0;p=u[y++],d=u[y++];break;case Fi.A:var _=u[y++],x=u[y++],b=u[y++],w=u[y++],S=u[y++],M=u[y++];y+=1;var I=!!(1-u[y++]);o=Math.cos(S)*b+_,a=Math.sin(S)*w+x,v?(f=o,g=a):c+=ci(p,d,o,a,n,r);var T=(n-_)*w/b+_;if(e){if(KC(_,x,w,S,S+M,I,t,T,r))return!0}else c+=QC(_,x,w,S,S+M,I,T,r);p=Math.cos(S+M)*b+_,d=Math.sin(S+M)*w+x;break;case Fi.R:if(f=p=u[y++],g=d=u[y++],o=f+u[y++],a=g+u[y++],e){if(Vi(f,g,o,g,t,n,r)||Vi(o,g,o,a,t,n,r)||Vi(o,a,f,a,t,n,r)||Vi(f,a,f,g,t,n,r))return!0}else c+=ci(o,g,o,a,n,r),c+=ci(f,a,f,g,n,r);break;case Fi.Z:if(e){if(Vi(p,d,f,g,t,n,r))return!0}else c+=ci(p,d,f,g,n,r);p=f,d=g}}return e||(s=d,l=g,Math.abs(s-l)<1e-4)||(c+=ci(p,d,f,g,n,r)||0),c!==0}var u0=J({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Ar),eA={style:J({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},du.style)},Kp=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],Me=function(i){function t(n){return i.call(this,n)||this}var e;return z(t,i),t.prototype.update=function(){var n=this;i.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new t;o.buildPath===t.prototype.buildPath&&(o.buildPath=function(u){n.buildPath(u,n.shape)}),o.silent=!0;var a=o.style;for(var s in r)a[s]!==r[s]&&(a[s]=r[s]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var l=0;l<Kp.length;++l)o[Kp[l]]=this[Kp[l]];o.__dirty|=cn.REDARAW_BIT}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var r=ke(n);this.shape=this.getDefaultShape();var o=this.getDefaultStyle();o&&this.useStyle(o);for(var a=0;a<r.length;a++){var s=r[a],l=n[s];s==="style"?this.style?X(this.style,l):this.useStyle(l):s==="shape"?X(this.shape,l):i.prototype.attrKV.call(this,s,l)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(be(n)){var r=Za(n,0);return r>.5?op:r>.2?"#eee":ap}if(n)return ap}return op},t.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(be(r)){var o=this.__zr;if(!(!o||!o.isDarkMode())==Za(n,0)<.4)return r}},t.prototype.buildPath=function(n,r,o){},t.prototype.pathUpdated=function(){this.__dirty&=~t.SHAPE_CHANGED_BIT},t.prototype.createPathProxy=function(){this.path=new $n(!1)},t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,o=!n;if(o){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&t.SHAPE_CHANGED_BIT)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),n=s.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var l=this._rectWithStroke||(this._rectWithStroke=n.clone());if(this.__dirty||o){l.copy(n);var u=r.strokeNoScale?this.getLineScale():1,h=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;h=Math.max(h,c==null?4:c)}u>1e-10&&(l.width+=h/u,l.height+=h/u,l.x-=h/u/2,l.y-=h/u/2)}return l}return n},t.prototype.contain=function(n,r){var o=this.transformCoordToLocal(n,r),a=this.getBoundingRect(),s=this.style;if(n=o[0],r=o[1],a.contain(n,r)){var l=this.path;if(this.hasStroke()){var u=s.lineWidth,h=s.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),function(c,p,d,f){return l0(c,p,!0,d,f)}(l,u/h,n,r)))return!0}if(this.hasFill())return function(c,p,d){return l0(c,0,!1,p,d)}(l,n,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=t.SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,r){n==="shape"?this.setShape(r):i.prototype.attrKV.call(this,n,r)},t.prototype.setShape=function(n,r){var o=this.shape;return o||(o=this.shape={}),typeof n=="string"?o[n]=r:X(o,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&t.SHAPE_CHANGED_BIT)},t.prototype.createStyle=function(n){return So(u0,n)},t.prototype._innerSaveToNormal=function(n){i.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=X({},this.shape))},t.prototype._applyStateObj=function(n,r,o,a,s,l){i.prototype._applyStateObj.call(this,n,r,o,a,s,l);var u,h=!(r&&a);if(r&&r.shape?s?a?u=r.shape:(u=X({},o.shape),X(u,r.shape)):(u=X({},a?this.shape:o.shape),X(u,r.shape)):h&&(u=o.shape),u)if(s){this.shape=X({},this.shape);for(var c={},p=ke(u),d=0;d<p.length;d++){var f=p[d];typeof u[f]=="object"?this.shape[f]=u[f]:c[f]=u[f]}this._transitionState(n,{shape:c},l)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var r,o=i.prototype._mergeStates.call(this,n),a=0;a<n.length;a++){var s=n[a];s.shape&&(r=r||{},this._mergeStyle(r,s.shape))}return r&&(o.shape=r),o},t.prototype.getAnimationStyleProps=function(){return eA},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var r=function(a){function s(l){var u=a.call(this,l)||this;return n.init&&n.init.call(u,l),u}return z(s,a),s.prototype.getDefaultStyle=function(){return te(n.style)},s.prototype.getDefaultShape=function(){return te(n.shape)},s}(t);for(var o in n)typeof n[o]=="function"&&(r.prototype[o]=n[o]);return r},t.SHAPE_CHANGED_BIT=4,t.initDefaultProps=((e=t.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=cn.REDARAW_BIT|Xn.STYLE_CHANGED_BIT|t.SHAPE_CHANGED_BIT)),t}(Xn),tA=J({strokeFirst:!0,font:br,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},u0),Nr=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return n!=null&&n!=="none"&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return e!=null&&e!=="none"},t.prototype.createStyle=function(e){return So(tA,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var n=e.text;n!=null?n+="":n="";var r=es(n,e.font,e.textAlign,e.textBaseline);if(r.x+=e.x||0,r.y+=e.y||0,this.hasStroke()){var o=e.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(Xn);Nr.prototype.type="tspan";var nA=J({x:0,y:0},Ar),iA={style:J({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},du.style)},ut=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.createStyle=function(e){return So(nA,e)},t.prototype._getSize=function(e){var n=this.style,r=n[e];if(r!=null)return r;var o,a=(o=n.image)&&typeof o!="string"&&o.width&&o.height?n.image:this.__image;if(!a)return 0;var s=e==="width"?"height":"width",l=n[s];return l==null?a[e]:a[e]/a[s]*l},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return iA},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new me(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Xn);ut.prototype.type="image";var No=Math.round;function h0(i,t,e){if(t){var n=t.x1,r=t.x2,o=t.y1,a=t.y2;i.x1=n,i.x2=r,i.y1=o,i.y2=a;var s=e&&e.lineWidth;return s&&(No(2*n)===No(2*r)&&(i.x1=i.x2=Er(n,s,!0)),No(2*o)===No(2*a)&&(i.y1=i.y2=Er(o,s,!0))),i}}function c0(i,t,e){if(t){var n=t.x,r=t.y,o=t.width,a=t.height;i.x=n,i.y=r,i.width=o,i.height=a;var s=e&&e.lineWidth;return s&&(i.x=Er(n,s,!0),i.y=Er(r,s,!0),i.width=Math.max(Er(n+o,s,!1)-i.x,o===0?0:1),i.height=Math.max(Er(r+a,s,!1)-i.y,a===0?0:1)),i}}function Er(i,t,e){if(!t)return i;var n=No(2*i);return(n+No(t))%2==0?n/2:(n+(e?1:-1))/2}var rA=function(){this.x=0,this.y=0,this.width=0,this.height=0},oA={},Se=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultShape=function(){return new rA},t.prototype.buildPath=function(e,n){var r,o,a,s;if(this.subPixelOptimize){var l=c0(oA,n,this.style);r=l.x,o=l.y,a=l.width,s=l.height,l.r=n.r,n=l}else r=n.x,o=n.y,a=n.width,s=n.height;n.r?function(u,h){var c,p,d,f,g,y=h.x,m=h.y,v=h.width,_=h.height,x=h.r;v<0&&(y+=v,v=-v),_<0&&(m+=_,_=-_),typeof x=="number"?c=p=d=f=x:x instanceof Array?x.length===1?c=p=d=f=x[0]:x.length===2?(c=d=x[0],p=f=x[1]):x.length===3?(c=x[0],p=f=x[1],d=x[2]):(c=x[0],p=x[1],d=x[2],f=x[3]):c=p=d=f=0,c+p>v&&(c*=v/(g=c+p),p*=v/g),d+f>v&&(d*=v/(g=d+f),f*=v/g),p+d>_&&(p*=_/(g=p+d),d*=_/g),c+f>_&&(c*=_/(g=c+f),f*=_/g),u.moveTo(y+c,m),u.lineTo(y+v-p,m),p!==0&&u.arc(y+v-p,m+p,p,-Math.PI/2,0),u.lineTo(y+v,m+_-d),d!==0&&u.arc(y+v-d,m+_-d,d,0,Math.PI/2),u.lineTo(y+f,m+_),f!==0&&u.arc(y+f,m+_-f,f,Math.PI/2,Math.PI),u.lineTo(y,m+c),c!==0&&u.arc(y+c,m+c,c,Math.PI,1.5*Math.PI)}(e,n):e.rect(r,o,a,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Me);Se.prototype.type="rect";var p0={fill:"#000"},aA={style:J({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},du.style)},Ie=function(i){function t(e){var n=i.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=p0,n.attr(e),n}return z(t,i),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}var r=this.attachedTransform;if(r){r.updateTransform();var o=r.transform;o?(this.transform=this.transform||[],To(this.transform,o)):this.transform=null}else i.prototype.update.call(this)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),this.attachedTransform?this.attachedTransform.getComputedTransform():i.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){var e;this._childCursor=0,d0(e=this.style),D(e.rich,d0),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){i.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},t.prototype.removeSelfFromZr=function(e){i.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new me(0,0,0,0),n=this._children,r=[],o=null,a=0;a<n.length;a++){var s=n[a],l=s.getBoundingRect(),u=s.getLocalTransform(r);u?(e.copy(l),e.applyTransform(u),(o=o||e.clone()).union(e)):(o=o||l.clone()).union(l)}this._rect=o||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||p0},t.prototype.setTextContent=function(e){throw new Error("Can't attach text on another text")},t.prototype._mergeStyle=function(e,n){if(!n)return e;var r=n.rich,o=e.rich||r&&{};return X(e,n),r&&o?(this._mergeRich(o,r),e.rich=o):o&&(e.rich=o),e},t.prototype._mergeRich=function(e,n){for(var r=ke(n),o=0;o<r.length;o++){var a=r[o];e[a]=e[a]||{},X(e[a],n[a])}},t.prototype.getAnimationStyleProps=function(){return aA},t.prototype._getOrCreateChild=function(e){var n=this._children[this._childCursor];return n&&n instanceof e||(n=new e),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var e=this.style,n=e.font||br,r=e.padding,o=function(O,R){O!=null&&(O+="");var N,E=R.overflow,B=R.padding,G=R.font,F=E==="truncate",H=su(G),V=we(R.lineHeight,H),U=R.lineOverflow==="truncate",Y=R.width,Z=(N=Y!=null&&E==="break"||E==="breakAll"?O?Xv(O,R.font,Y,E==="breakAll",0).lines:[]:O?O.split(`
`):[]).length*V,K=we(R.height,Z);if(Z>K&&U){var $=Math.floor(K/V);N=N.slice(0,$)}var ne=K,le=Y;if(B&&(ne+=B[0]+B[2],le!=null&&(le+=B[1]+B[3])),O&&F&&le!=null)for(var fe=Wv(Y,G,R.ellipsis,{minChar:R.truncateMinChar,placeholder:R.placeholder}),ge=0;ge<N.length;ge++)N[ge]=Uv(N[ge],fe);if(Y==null){var Fe=0;for(ge=0;ge<N.length;ge++)Fe=Math.max(Kt(N[ge],G),Fe);Y=Fe}return{lines:N,height:K,outerHeight:ne,lineHeight:V,calculatedLineHeight:H,contentHeight:Z,width:Y}}(g0(e),e),a=Jp(e),s=!!e.backgroundColor,l=o.outerHeight,u=o.lines,h=o.lineHeight,c=this._defaultStyle,p=e.x||0,d=e.y||0,f=e.align||c.align||"left",g=e.verticalAlign||c.verticalAlign||"top",y=p,m=ko(d,o.contentHeight,g);if(a||r){var v=o.width;r&&(v+=r[1]+r[3]);var _=ts(p,v,f),x=ko(d,l,g);a&&this._renderBackground(e,e,_,x,v,l)}m+=h/2,r&&(y=f0(p,f,r),g==="top"?m+=r[0]:g==="bottom"&&(m-=r[2]));for(var b,w=0,S=!1,M=(b="fill"in e?e.fill:(S=!0,c.fill))==null||b==="none"?null:b.image||b.colorStops?"#000":b,I=$p("stroke"in e?e.stroke:s||c.autoStroke&&!S?null:(w=2,c.stroke)),T=e.textShadowBlur>0,C=e.width!=null&&(e.overflow==="truncate"||e.overflow==="break"||e.overflow==="breakAll"),A=o.calculatedLineHeight,L=0;L<u.length;L++){var k=this._getOrCreateChild(Nr),P=k.createStyle();k.useStyle(P),P.text=u[L],P.x=y,P.y=m,f&&(P.textAlign=f),P.textBaseline="middle",P.opacity=e.opacity,P.strokeFirst=!0,T&&(P.shadowBlur=e.textShadowBlur||0,P.shadowColor=e.textShadowColor||"transparent",P.shadowOffsetX=e.textShadowOffsetX||0,P.shadowOffsetY=e.textShadowOffsetY||0),I&&(P.stroke=I,P.lineWidth=e.lineWidth||w,P.lineDash=e.lineDash,P.lineDashOffset=e.lineDashOffset||0),M&&(P.fill=M),P.font=n,m+=h,C&&k.setBoundingRect(new me(ts(P.x,e.width,P.textAlign),ko(P.y,A,P.textBaseline),e.width,A))}},t.prototype._updateRichTexts=function(){var e=this.style,n=function(k,P){var O=new FC;if(k!=null&&(k+=""),!k)return O;for(var R,N=P.width,E=P.height,B=P.overflow,G=B!=="break"&&B!=="breakAll"||N==null?null:{width:N,accumWidth:0,breakAll:B==="breakAll"},F=Ep.lastIndex=0;(R=Ep.exec(k))!=null;){var H=R.index;H>F&&zp(O,k.substring(F,H),P,G),zp(O,R[2],P,G,R[1]),F=Ep.lastIndex}F<k.length&&zp(O,k.substring(F,k.length),P,G);var V=[],U=0,Y=0,Z=P.padding,K=B==="truncate",$=P.lineOverflow==="truncate";function ne(pt,qe,Ot){pt.width=qe,pt.lineHeight=Ot,U+=Ot,Y=Math.max(Y,qe)}e:for(var le=0;le<O.lines.length;le++){for(var fe=O.lines[le],ge=0,Fe=0,Ze=0;Ze<fe.tokens.length;Ze++){var Ve=(pe=fe.tokens[Ze]).styleName&&P.rich[pe.styleName]||{},He=pe.textPadding=Ve.padding,Je=He?He[1]+He[3]:0,at=pe.font=Ve.font||P.font;pe.contentHeight=su(at);var jt=we(Ve.height,pe.contentHeight);if(pe.innerHeight=jt,He&&(jt+=He[0]+He[2]),pe.height=jt,pe.lineHeight=Hn(Ve.lineHeight,P.lineHeight,jt),pe.align=Ve&&Ve.align||P.align,pe.verticalAlign=Ve&&Ve.verticalAlign||"middle",$&&E!=null&&U+pe.lineHeight>E){Ze>0?(fe.tokens=fe.tokens.slice(0,Ze),ne(fe,Fe,ge),O.lines=O.lines.slice(0,le+1)):O.lines=O.lines.slice(0,le);break e}var Ft=Ve.width,Ee=Ft==null||Ft==="auto";if(typeof Ft=="string"&&Ft.charAt(Ft.length-1)==="%")pe.percentWidth=Ft,V.push(pe),pe.contentWidth=Kt(pe.text,at);else{if(Ee){var ye=Ve.backgroundColor,Le=ye&&ye.image;Le&&pu(Le=zC(Le))&&(pe.width=Math.max(pe.width,Le.width*jt/Le.height))}var De=K&&N!=null?N-Fe:null;De!=null&&De<pe.width?!Ee||De<Je?(pe.text="",pe.width=pe.contentWidth=0):(pe.text=Hv(pe.text,De-Je,at,P.ellipsis,{minChar:P.truncateMinChar}),pe.width=pe.contentWidth=Kt(pe.text,at)):pe.contentWidth=Kt(pe.text,at)}pe.width+=Je,Fe+=pe.width,Ve&&(ge=Math.max(ge,pe.lineHeight))}ne(fe,Fe,ge)}for(O.outerWidth=O.width=we(N,Y),O.outerHeight=O.height=we(E,U),O.contentHeight=U,O.contentWidth=Y,Z&&(O.outerWidth+=Z[1]+Z[3],O.outerHeight+=Z[0]+Z[2]),le=0;le<V.length;le++){var pe,gt=(pe=V[le]).percentWidth;pe.width=parseInt(gt,10)/100*O.width}return O}(g0(e),e),r=n.width,o=n.outerWidth,a=n.outerHeight,s=e.padding,l=e.x||0,u=e.y||0,h=this._defaultStyle,c=e.align||h.align,p=e.verticalAlign||h.verticalAlign,d=ts(l,o,c),f=ko(u,a,p),g=d,y=f;s&&(g+=s[3],y+=s[0]);var m=g+r;Jp(e)&&this._renderBackground(e,e,d,f,o,a);for(var v=!!e.backgroundColor,_=0;_<n.lines.length;_++){for(var x=n.lines[_],b=x.tokens,w=b.length,S=x.lineHeight,M=x.width,I=0,T=g,C=m,A=w-1,L=void 0;I<w&&(!(L=b[I]).align||L.align==="left");)this._placeToken(L,e,S,y,T,"left",v),M-=L.width,T+=L.width,I++;for(;A>=0&&(L=b[A]).align==="right";)this._placeToken(L,e,S,y,C,"right",v),M-=L.width,C-=L.width,A--;for(T+=(r-(T-g)-(m-C)-M)/2;I<=A;)L=b[I],this._placeToken(L,e,S,y,T+L.width/2,"center",v),T+=L.width,I++;y+=S}},t.prototype._placeToken=function(e,n,r,o,a,s,l){var u=n.rich[e.styleName]||{};u.text=e.text;var h=e.verticalAlign,c=o+r/2;h==="top"?c=o+e.height/2:h==="bottom"&&(c=o+r-e.height/2),!e.isLineHolder&&Jp(u)&&this._renderBackground(u,n,s==="right"?a-e.width:s==="center"?a-e.width/2:a,c-e.height/2,e.width,e.height);var p=!!u.backgroundColor,d=e.textPadding;d&&(a=f0(a,s,d),c-=e.height/2-d[0]-e.innerHeight/2);var f=this._getOrCreateChild(Nr),g=f.createStyle();f.useStyle(g);var y=this._defaultStyle,m=!1,v=0,_=$p("fill"in u?u.fill:"fill"in n?n.fill:(m=!0,y.fill)),x=$p("stroke"in u?u.stroke:"stroke"in n?n.stroke:p||l||y.autoStroke&&!m?null:(v=2,y.stroke)),b=u.textShadowBlur>0||n.textShadowBlur>0;g.text=e.text,g.x=a,g.y=c,b&&(g.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,g.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",g.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,g.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),g.textAlign=s,g.textBaseline="middle",g.font=e.font||br,g.opacity=Hn(u.opacity,n.opacity,1),x&&(g.lineWidth=Hn(u.lineWidth,n.lineWidth,v),g.lineDash=we(u.lineDash,n.lineDash),g.lineDashOffset=n.lineDashOffset||0,g.stroke=x),_&&(g.fill=_);var w=e.contentWidth,S=e.contentHeight;f.setBoundingRect(new me(ts(g.x,w,g.textAlign),ko(g.y,S,g.textBaseline),w,S))},t.prototype._renderBackground=function(e,n,r,o,a,s){var l,u,h,c=e.backgroundColor,p=e.borderWidth,d=e.borderColor,f=be(c),g=e.borderRadius,y=this;if(f||p&&d){(l=this._getOrCreateChild(Se)).useStyle(l.createStyle()),l.style.fill=null;var m=l.shape;m.x=r,m.y=o,m.width=a,m.height=s,m.r=g,l.dirtyShape()}if(f)(h=l.style).fill=c||null,h.fillOpacity=we(e.fillOpacity,1);else if(c&&c.image){(u=this._getOrCreateChild(ut)).onload=function(){y.dirtyStyle()};var v=u.style;v.image=c.image,v.x=r,v.y=o,v.width=a,v.height=s}p&&d&&((h=l.style).lineWidth=p,h.stroke=d,h.strokeOpacity=we(e.strokeOpacity,1),h.lineDash=e.borderDash,h.lineDashOffset=e.borderDashOffset||0,l.strokeContainThreshold=0,l.hasFill()&&l.hasStroke()&&(h.strokeFirst=!0,h.lineWidth*=2));var _=(l||u).style;_.shadowBlur=e.shadowBlur||0,_.shadowColor=e.shadowColor||"transparent",_.shadowOffsetX=e.shadowOffsetX||0,_.shadowOffsetY=e.shadowOffsetY||0,_.opacity=Hn(e.opacity,n.opacity,1)},t.makeFont=function(e){var n="";if(e.fontSize||e.fontFamily||e.fontWeight){var r="";r=typeof e.fontSize!="string"||e.fontSize.indexOf("px")===-1&&e.fontSize.indexOf("rem")===-1&&e.fontSize.indexOf("em")===-1?isNaN(+e.fontSize)?"12px":e.fontSize+"px":e.fontSize,n=[e.fontStyle,e.fontWeight,r,e.fontFamily||"sans-serif"].join(" ")}return n&&Ii(n)||e.textFont||e.font},t}(Xn),sA={left:!0,right:1,center:1},lA={top:1,bottom:1,middle:1};function d0(i){if(i){i.font=Ie.makeFont(i);var t=i.align;t==="middle"&&(t="center"),i.align=t==null||sA[t]?t:"left";var e=i.verticalAlign;e==="center"&&(e="middle"),i.verticalAlign=e==null||lA[e]?e:"top",i.padding&&(i.padding=$l(i.padding))}}function $p(i,t){return i==null||t<=0||i==="transparent"||i==="none"?null:i.image||i.colorStops?"#000":i}function f0(i,t,e){return t==="right"?i-e[1]:t==="center"?i+e[3]/2-e[1]/2:i+e[3]}function g0(i){var t=i.text;return t!=null&&(t+=""),t}function Jp(i){return!!(i.backgroundColor||i.borderWidth&&i.borderColor)}var se=Ne(),y0=1,m0={},v0=Ne(),Qt=["emphasis","blur","select"],ds=["normal","emphasis","blur","select"],uA=10,zr="highlight",xu="downplay",fs="select",bu="unselect",gs="toggleSelect";function Eo(i){return i!=null&&i!=="none"}var _0=new Wa(100);function x0(i){if(typeof i!="string")return i;var t=_0.get(i);return t||(t=ep(i,-.1),_0.put(i,t)),t}function wu(i,t,e){i.onHoverStateChange&&(i.hoverState||0)!==e&&i.onHoverStateChange(t),i.hoverState=e}function b0(i){wu(i,"emphasis",2)}function w0(i){i.hoverState===2&&wu(i,"normal",0)}function Qp(i){wu(i,"blur",1)}function S0(i){i.hoverState===1&&wu(i,"normal",0)}function hA(i){i.selected=!0}function cA(i){i.selected=!1}function M0(i,t,e){t(i,e)}function pi(i,t,e){M0(i,t,e),i.isGroup&&i.traverse(function(n){M0(n,t,e)})}function Su(i,t){switch(t){case"emphasis":i.hoverState=2;break;case"normal":i.hoverState=0;break;case"blur":i.hoverState=1;break;case"select":i.selected=!0}}function ed(i,t){var e=this.states[i];if(this.style){if(i==="emphasis")return function(n,r,o,a){var s=o&&ie(o,"select")>=0,l=!1;if(n instanceof Me){var u=v0(n),h=s&&u.selectFill||u.normalFill,c=s&&u.selectStroke||u.normalStroke;if(Eo(h)||Eo(c)){var p=(a=a||{}).style||{};!Eo(p.fill)&&Eo(h)?(l=!0,a=X({},a),(p=X({},p)).fill=x0(h)):!Eo(p.stroke)&&Eo(c)&&(l||(a=X({},a),p=X({},p)),p.stroke=x0(c)),a.style=p}}if(a&&a.z2==null){l||(a=X({},a));var d=n.z2EmphasisLift;a.z2=n.z2+(d!=null?d:uA)}return a}(this,0,t,e);if(i==="blur")return function(n,r,o){var a=ie(n.currentStates,r)>=0,s=n.style.opacity,l=a?null:function(h,c,p,d){for(var f=h.style,g={},y=0;y<c.length;y++){var m=c[y],v=f[m];g[m]=v==null?d&&d[m]:v}for(y=0;y<h.animators.length;y++){var _=h.animators[y];_.__fromStateTransition&&_.__fromStateTransition.indexOf(p)<0&&_.targetName==="style"&&_.saveFinalToTarget(g,c)}return g}(n,["opacity"],r,{opacity:1}),u=(o=o||{}).style||{};return u.opacity==null&&(o=X({},o),u=X({opacity:a?s:.1*l.opacity},u),o.style=u),o}(this,i,e);if(i==="select")return function(n,r,o){if(o&&o.z2==null){o=X({},o);var a=n.z2SelectLift;o.z2=n.z2+(a!=null?a:9)}return o}(this,0,e)}return e}function Br(i){i.stateProxy=ed;var t=i.getTextContent(),e=i.getTextGuideLine();t&&(t.stateProxy=ed),e&&(e.stateProxy=ed)}function I0(i,t){!k0(i,t)&&!i.__highByOuter&&pi(i,b0)}function T0(i,t){!k0(i,t)&&!i.__highByOuter&&pi(i,w0)}function Jn(i,t){i.__highByOuter|=1<<(t||0),pi(i,b0)}function Qn(i,t){!(i.__highByOuter&=~(1<<(t||0)))&&pi(i,w0)}function C0(i){pi(i,Qp)}function A0(i){pi(i,S0)}function D0(i){pi(i,hA)}function L0(i){pi(i,cA)}function k0(i,t){return i.__highDownSilentOnTouch&&t.zrByTouch}function P0(i){i.getModel().eachComponent(function(t,e){(t==="series"?i.getViewOfSeriesModel(e):i.getViewOfComponentModel(e)).group.traverse(function(n){S0(n)})})}function td(i,t,e,n){var r=n.getModel();function o(u,h){for(var c=0;c<h.length;c++){var p=u.getItemGraphicEl(h[c]);p&&A0(p)}}if(e=e||"coordinateSystem",i!=null&&t&&t!=="none"){var a=r.getSeriesByIndex(i),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(u){var h=a===u,c=u.coordinateSystem;if(c&&c.master&&(c=c.master),!(e==="series"&&!h||e==="coordinateSystem"&&!(c&&s?c===s:h)||t==="series"&&h)){if(n.getViewOfSeriesModel(u).group.traverse(function(f){Qp(f)}),Be(t))o(u.getData(),t);else if(ae(t))for(var p=ke(t),d=0;d<p.length;d++)o(u.getData(p[d]),t[p[d]]);l.push(u)}}),r.eachComponent(function(u,h){if(u!=="series"){var c=n.getViewOfComponentModel(h);c&&c.blurSeries&&c.blurSeries(l,r)}})}}function nd(i,t,e){if(i!=null&&t!=null){var n=e.getModel().getComponent(i,t);if(n){var r=e.getViewOfComponentModel(n);r&&r.focusBlurEnabled&&r.group.traverse(function(o){Qp(o)})}}}function id(i,t,e,n){var r={focusSelf:!1,dispatchers:null};if(i==null||i==="series"||t==null||e==null)return r;var o=n.getModel().getComponent(i,t);if(!o)return r;var a=n.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var s,l=a.findHighDownDispatchers(e),u=0;u<l.length;u++)if(se(l[u]).focus==="self"){s=!0;break}return{focusSelf:s,dispatchers:l}}function O0(i){D(i.getAllData(),function(t){var e=t.data,n=t.type;e.eachItemGraphicEl(function(r,o){i.isSelected(o,n)?D0(r):L0(r)})})}function pA(i){var t=[];return i.eachSeries(function(e){D(e.getAllData(),function(n){n.data;var r=n.type,o=e.getSelectedDataIndices();if(o.length>0){var a={dataIndex:o,seriesIndex:e.seriesIndex};r!=null&&(a.dataType=r),t.push(a)}})}),t}function Ge(i,t,e){zo(i,!0),pi(i,Br),rd(i,t,e)}function rd(i,t,e){var n=se(i);t!=null?(n.focus=t,n.blurScope=e):n.focus&&(n.focus=null)}var R0=["emphasis","blur","select"],dA={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Mt(i,t,e,n){e=e||"itemStyle";for(var r=0;r<R0.length;r++){var o=R0[r],a=t.getModel([o,e]);i.ensureState(o).style=n?n(a):a[dA[e]]()}}function zo(i,t){var e=t===!1,n=i;i.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=i.highDownSilentOnTouch),e&&!n.__highDownDispatcher||(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!e)}function Mu(i){return!(!i||!i.__highDownDispatcher)}function od(i){var t=i.type;return t===fs||t===bu||t===gs}function ad(i){var t=i.type;return t===zr||t===xu}var Bo=$n.CMD,fA=[[],[],[]],N0=Math.sqrt,gA=Math.atan2,sd=Math.sqrt,Iu=Math.sin,Tu=Math.cos,ys=Math.PI;function E0(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function ld(i,t){return(i[0]*t[0]+i[1]*t[1])/(E0(i)*E0(t))}function z0(i,t){return(i[0]*t[1]<i[1]*t[0]?-1:1)*Math.acos(ld(i,t))}function B0(i,t,e,n,r,o,a,s,l,u,h){var c=l*(ys/180),p=Tu(c)*(i-e)/2+Iu(c)*(t-n)/2,d=-1*Iu(c)*(i-e)/2+Tu(c)*(t-n)/2,f=p*p/(a*a)+d*d/(s*s);f>1&&(a*=sd(f),s*=sd(f));var g=(r===o?-1:1)*sd((a*a*(s*s)-a*a*(d*d)-s*s*(p*p))/(a*a*(d*d)+s*s*(p*p)))||0,y=g*a*d/s,m=g*-s*p/a,v=(i+e)/2+Tu(c)*y-Iu(c)*m,_=(t+n)/2+Iu(c)*y+Tu(c)*m,x=z0([1,0],[(p-y)/a,(d-m)/s]),b=[(p-y)/a,(d-m)/s],w=[(-1*p-y)/a,(-1*d-m)/s],S=z0(b,w);if(ld(b,w)<=-1&&(S=ys),ld(b,w)>=1&&(S=0),S<0){var M=Math.round(S/ys*1e6)/1e6;S=2*ys+M%2*ys}h.addData(u,v,_,a,s,x,S,c,o)}var yA=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,mA=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,V0=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.applyTransform=function(e){},t}(Me);function G0(i){return i.setData!=null}function F0(i,t){var e=function(r){var o=new $n;if(!r)return o;var a,s=0,l=0,u=s,h=l,c=$n.CMD,p=r.match(yA);if(!p)return o;for(var d=0;d<p.length;d++){for(var f=p[d],g=f.charAt(0),y=void 0,m=f.match(mA)||[],v=m.length,_=0;_<v;_++)m[_]=parseFloat(m[_]);for(var x=0;x<v;){var b=void 0,w=void 0,S=void 0,M=void 0,I=void 0,T=void 0,C=void 0,A=s,L=l,k=void 0,P=void 0;switch(g){case"l":s+=m[x++],l+=m[x++],y=c.L,o.addData(y,s,l);break;case"L":s=m[x++],l=m[x++],y=c.L,o.addData(y,s,l);break;case"m":s+=m[x++],l+=m[x++],y=c.M,o.addData(y,s,l),u=s,h=l,g="l";break;case"M":s=m[x++],l=m[x++],y=c.M,o.addData(y,s,l),u=s,h=l,g="L";break;case"h":s+=m[x++],y=c.L,o.addData(y,s,l);break;case"H":s=m[x++],y=c.L,o.addData(y,s,l);break;case"v":l+=m[x++],y=c.L,o.addData(y,s,l);break;case"V":l=m[x++],y=c.L,o.addData(y,s,l);break;case"C":y=c.C,o.addData(y,m[x++],m[x++],m[x++],m[x++],m[x++],m[x++]),s=m[x-2],l=m[x-1];break;case"c":y=c.C,o.addData(y,m[x++]+s,m[x++]+l,m[x++]+s,m[x++]+l,m[x++]+s,m[x++]+l),s+=m[x-2],l+=m[x-1];break;case"S":b=s,w=l,k=o.len(),P=o.data,a===c.C&&(b+=s-P[k-4],w+=l-P[k-3]),y=c.C,A=m[x++],L=m[x++],s=m[x++],l=m[x++],o.addData(y,b,w,A,L,s,l);break;case"s":b=s,w=l,k=o.len(),P=o.data,a===c.C&&(b+=s-P[k-4],w+=l-P[k-3]),y=c.C,A=s+m[x++],L=l+m[x++],s+=m[x++],l+=m[x++],o.addData(y,b,w,A,L,s,l);break;case"Q":A=m[x++],L=m[x++],s=m[x++],l=m[x++],y=c.Q,o.addData(y,A,L,s,l);break;case"q":A=m[x++]+s,L=m[x++]+l,s+=m[x++],l+=m[x++],y=c.Q,o.addData(y,A,L,s,l);break;case"T":b=s,w=l,k=o.len(),P=o.data,a===c.Q&&(b+=s-P[k-4],w+=l-P[k-3]),s=m[x++],l=m[x++],y=c.Q,o.addData(y,b,w,s,l);break;case"t":b=s,w=l,k=o.len(),P=o.data,a===c.Q&&(b+=s-P[k-4],w+=l-P[k-3]),s+=m[x++],l+=m[x++],y=c.Q,o.addData(y,b,w,s,l);break;case"A":S=m[x++],M=m[x++],I=m[x++],T=m[x++],C=m[x++],B0(A=s,L=l,s=m[x++],l=m[x++],T,C,S,M,I,y=c.A,o);break;case"a":S=m[x++],M=m[x++],I=m[x++],T=m[x++],C=m[x++],B0(A=s,L=l,s+=m[x++],l+=m[x++],T,C,S,M,I,y=c.A,o)}}g!=="z"&&g!=="Z"||(y=c.Z,o.addData(y),s=u,l=h),a=y}return o.toStatic(),o}(i),n=X({},t);return n.buildPath=function(r){if(G0(r))r.setData(e.data),(o=r.getContext())&&r.rebuildPath(o,1);else{var o=r;e.rebuildPath(o,1)}},n.applyTransform=function(r){(function(o,a){var s,l,u,h,c,p,d=o.data,f=o.len(),g=Bo.M,y=Bo.C,m=Bo.L,v=Bo.R,_=Bo.A,x=Bo.Q;for(u=0,h=0;u<f;){switch(s=d[u++],h=u,l=0,s){case g:case m:l=1;break;case y:l=3;break;case x:l=2;break;case _:var b=a[4],w=a[5],S=N0(a[0]*a[0]+a[1]*a[1]),M=N0(a[2]*a[2]+a[3]*a[3]),I=gA(-a[1]/M,a[0]/S);d[u]*=S,d[u++]+=b,d[u]*=M,d[u++]+=w,d[u++]*=S,d[u++]*=M,d[u++]+=I,d[u++]+=I,h=u+=2;break;case v:p[0]=d[u++],p[1]=d[u++],mt(p,p,a),d[h++]=p[0],d[h++]=p[1],p[0]+=d[u++],p[1]+=d[u++],mt(p,p,a),d[h++]=p[0],d[h++]=p[1]}for(c=0;c<l;c++){var T=fA[c];T[0]=d[u++],T[1]=d[u++],mt(T,T,a),d[h++]=T[0],d[h++]=T[1]}}o.increaseVersion()})(e,r),this.dirtyShape()},n}function H0(i,t){return new V0(F0(i,t))}var vA=function(){this.cx=0,this.cy=0,this.r=0},fn=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultShape=function(){return new vA},t.prototype.buildPath=function(e,n,r){r&&e.moveTo(n.cx+n.r,n.cy),e.arc(n.cx,n.cy,n.r,0,2*Math.PI)},t}(Me);fn.prototype.type="circle";var _A=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},ms=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultShape=function(){return new _A},t.prototype.buildPath=function(e,n){var r=.5522848,o=n.cx,a=n.cy,s=n.rx,l=n.ry,u=s*r,h=l*r;e.moveTo(o-s,a),e.bezierCurveTo(o-s,a-h,o-u,a-l,o,a-l),e.bezierCurveTo(o+u,a-l,o+s,a-h,o+s,a),e.bezierCurveTo(o+s,a+h,o+u,a+l,o,a+l),e.bezierCurveTo(o-u,a+l,o-s,a+h,o-s,a),e.closePath()},t}(Me);ms.prototype.type="ellipse";var W0=Math.PI,xA=2*W0,Vr=Math.sin,Vo=Math.cos,bA=Math.acos,At=Math.atan2,U0=Math.abs,vs=Math.sqrt,ud=Math.max,Cu=Math.min,Rn=1e-4;function Au(i,t,e,n,r,o,a){var s=i-e,l=t-n,u=(a?o:-o)/vs(s*s+l*l),h=u*l,c=-u*s,p=i+h,d=t+c,f=e+h,g=n+c,y=(p+f)/2,m=(d+g)/2,v=f-p,_=g-d,x=v*v+_*_,b=r-o,w=p*g-f*d,S=(_<0?-1:1)*vs(ud(0,b*b*x-w*w)),M=(w*_-v*S)/x,I=(-w*v-_*S)/x,T=(w*_+v*S)/x,C=(-w*v+_*S)/x,A=M-y,L=I-m,k=T-y,P=C-m;return A*A+L*L>k*k+P*P&&(M=T,I=C),{cx:M,cy:I,x01:-h,y01:-c,x11:M*(r/b-1),y11:I*(r/b-1)}}function wA(i,t){var e=ud(t.r,0),n=ud(t.r0||0,0),r=e>0;if(r||n>0){if(r||(e=n,n=0),n>e){var o=e;e=n,n=o}var a,s=!!t.clockwise,l=t.startAngle,u=t.endAngle;if(l===u)a=0;else{var h=[l,u];o0(h,!s),a=U0(h[0]-h[1])}var c=t.cx,p=t.cy,d=t.cornerRadius||0,f=t.innerCornerRadius||0;if(e>Rn)if(a>xA-Rn)i.moveTo(c+e*Vo(l),p+e*Vr(l)),i.arc(c,p,e,l,u,!s),n>Rn&&(i.moveTo(c+n*Vo(u),p+n*Vr(u)),i.arc(c,p,n,u,l,s));else{var g=U0(e-n)/2,y=Cu(g,d),m=Cu(g,f),v=m,_=y,x=e*Vo(l),b=e*Vr(l),w=n*Vo(u),S=n*Vr(u),M=void 0,I=void 0,T=void 0,C=void 0;if((y>Rn||m>Rn)&&(M=e*Vo(u),I=e*Vr(u),T=n*Vo(l),C=n*Vr(l),a<W0)){var A=function(G,F,H,V,U,Y,Z,K){var $=H-G,ne=V-F,le=Z-U,fe=K-Y,ge=fe*$-le*ne;if(!(ge*ge<Rn))return[G+(ge=(le*(F-Y)-fe*(G-U))/ge)*$,F+ge*ne]}(x,b,T,C,M,I,w,S);if(A){var L=x-A[0],k=b-A[1],P=M-A[0],O=I-A[1],R=1/Vr(bA((L*P+k*O)/(vs(L*L+k*k)*vs(P*P+O*O)))/2),N=vs(A[0]*A[0]+A[1]*A[1]);v=Cu(m,(n-N)/(R-1)),_=Cu(y,(e-N)/(R+1))}}if(a>Rn)if(_>Rn){var E=Au(T,C,x,b,e,_,s),B=Au(M,I,w,S,e,_,s);i.moveTo(c+E.cx+E.x01,p+E.cy+E.y01),_<y?i.arc(c+E.cx,p+E.cy,_,At(E.y01,E.x01),At(B.y01,B.x01),!s):(i.arc(c+E.cx,p+E.cy,_,At(E.y01,E.x01),At(E.y11,E.x11),!s),i.arc(c,p,e,At(E.cy+E.y11,E.cx+E.x11),At(B.cy+B.y11,B.cx+B.x11),!s),i.arc(c+B.cx,p+B.cy,_,At(B.y11,B.x11),At(B.y01,B.x01),!s))}else i.moveTo(c+x,p+b),i.arc(c,p,e,l,u,!s);else i.moveTo(c+x,p+b);n>Rn&&a>Rn?v>Rn?(E=Au(w,S,M,I,n,-v,s),B=Au(x,b,T,C,n,-v,s),i.lineTo(c+E.cx+E.x01,p+E.cy+E.y01),v<m?i.arc(c+E.cx,p+E.cy,v,At(E.y01,E.x01),At(B.y01,B.x01),!s):(i.arc(c+E.cx,p+E.cy,v,At(E.y01,E.x01),At(E.y11,E.x11),!s),i.arc(c,p,n,At(E.cy+E.y11,E.cx+E.x11),At(B.cy+B.y11,B.cx+B.x11),s),i.arc(c+B.cx,p+B.cy,v,At(B.y11,B.x11),At(B.y01,B.x01),!s))):(i.lineTo(c+w,p+S),i.arc(c,p,n,u,l,s)):i.lineTo(c+w,p+S)}else i.moveTo(c,p);i.closePath()}}var SA=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0},Et=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultShape=function(){return new SA},t.prototype.buildPath=function(e,n){wA(e,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Me);Et.prototype.type="sector";var MA=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Go=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultShape=function(){return new MA},t.prototype.buildPath=function(e,n){var r=n.cx,o=n.cy,a=2*Math.PI;e.moveTo(r+n.r,o),e.arc(r,o,n.r,0,a,!1),e.moveTo(r+n.r0,o),e.arc(r,o,n.r0,0,a,!0)},t}(Me);function Y0(i,t,e,n,r,o,a){var s=.5*(e-i),l=.5*(n-t);return(2*(t-e)+s+l)*a+(-3*(t-e)-2*s-l)*o+s*r+t}function X0(i,t,e){var n=t.smooth,r=t.points;if(r&&r.length>=2){if(n&&n!=="spline"){var o=function(p,d,f,g){var y,m,v,_,x=[],b=[],w=[],S=[];if(g){v=[1/0,1/0],_=[-1/0,-1/0];for(var M=0,I=p.length;M<I;M++)Di(v,v,p[M]),Li(_,_,p[M]);Di(v,v,g[0]),Li(_,_,g[1])}for(M=0,I=p.length;M<I;M++){var T=p[M];if(f)y=p[M?M-1:I-1],m=p[(M+1)%I];else{if(M===0||M===I-1){x.push(Wn(p[M]));continue}y=p[M-1],m=p[M+1]}Ci(b,m,y),Ql(b,b,d);var C=Ga(T,y),A=Ga(T,m),L=C+A;L!==0&&(C/=L,A/=L),Ql(w,b,-C),Ql(S,b,A);var k=Ec([],T,w),P=Ec([],T,S);g&&(Li(k,k,v),Di(k,k,_),Li(P,P,v),Di(P,P,_)),x.push(k),x.push(P)}return f&&x.push(x.shift()),x}(r,n,e,t.smoothConstraint);i.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(e?a:a-1);s++){var l=o[2*s],u=o[2*s+1],h=r[(s+1)%a];i.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{n==="spline"&&(r=function(p,d){for(var f=p.length,g=[],y=0,m=1;m<f;m++)y+=Ga(p[m-1],p[m]);var v=y/2;for(v=v<f?f:v,m=0;m<v;m++){var _=m/(v-1)*(d?f:f-1),x=Math.floor(_),b=_-x,w=void 0,S=p[x%f],M=void 0,I=void 0;d?(w=p[(x-1+f)%f],M=p[(x+1)%f],I=p[(x+2)%f]):(w=p[x===0?x:x-1],M=p[x>f-2?f-1:x+1],I=p[x>f-3?f-1:x+2]);var T=b*b,C=b*T;g.push([Y0(w[0],S[0],M[0],I[0],b,T,C),Y0(w[1],S[1],M[1],I[1],b,T,C)])}return g}(r,e)),i.moveTo(r[0][0],r[0][1]),s=1;for(var c=r.length;s<c;s++)i.lineTo(r[s][0],r[s][1])}e&&i.closePath()}}Go.prototype.type="ring";var IA=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},Dt=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultShape=function(){return new IA},t.prototype.buildPath=function(e,n){X0(e,n,!0)},t}(Me);Dt.prototype.type="polygon";var TA=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},zt=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new TA},t.prototype.buildPath=function(e,n){X0(e,n,!1)},t}(Me);zt.prototype.type="polyline";var CA={},AA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},ft=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new AA},t.prototype.buildPath=function(e,n){var r,o,a,s;if(this.subPixelOptimize){var l=h0(CA,n,this.style);r=l.x1,o=l.y1,a=l.x2,s=l.y2}else r=n.x1,o=n.y1,a=n.x2,s=n.y2;var u=n.percent;u!==0&&(e.moveTo(r,o),u<1&&(a=r*(1-u)+a*u,s=o*(1-u)+s*u),e.lineTo(a,s))},t.prototype.pointAt=function(e){var n=this.shape;return[n.x1*(1-e)+n.x2*e,n.y1*(1-e)+n.y2*e]},t}(Me);ft.prototype.type="line";var Yt=[],DA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function Z0(i,t,e){var n=i.cpx2,r=i.cpy2;return n===null||r===null?[(e?$v:Qe)(i.x1,i.cpx1,i.cpx2,i.x2,t),(e?$v:Qe)(i.y1,i.cpy1,i.cpy2,i.y2,t)]:[(e?Wp:wt)(i.x1,i.cpx1,i.x2,t),(e?Wp:wt)(i.y1,i.cpy1,i.y2,t)]}var Fo=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new DA},t.prototype.buildPath=function(e,n){var r=n.x1,o=n.y1,a=n.x2,s=n.y2,l=n.cpx1,u=n.cpy1,h=n.cpx2,c=n.cpy2,p=n.percent;p!==0&&(e.moveTo(r,o),h==null||c==null?(p<1&&(ls(r,l,a,p,Yt),l=Yt[1],a=Yt[2],ls(o,u,s,p,Yt),u=Yt[1],s=Yt[2]),e.quadraticCurveTo(l,u,a,s)):(p<1&&(Ro(r,l,h,a,p,Yt),l=Yt[1],h=Yt[2],a=Yt[3],Ro(o,u,c,s,p,Yt),u=Yt[1],c=Yt[2],s=Yt[3]),e.bezierCurveTo(l,u,h,c,a,s)))},t.prototype.pointAt=function(e){return Z0(this.shape,e,!1)},t.prototype.tangentAt=function(e){var n=Z0(this.shape,e,!0);return Mo(n,n)},t}(Me);Fo.prototype.type="bezier-curve";var LA=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},_s=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new LA},t.prototype.buildPath=function(e,n){var r=n.cx,o=n.cy,a=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,u=n.clockwise,h=Math.cos(s),c=Math.sin(s);e.moveTo(h*a+r,c*a+o),e.arc(r,o,a,s,l,!u)},t}(Me);_s.prototype.type="arc";var hd=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="compound",e}return z(t,i),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,n=this.shapeChanged(),r=0;r<e.length;r++)n=n||e[r].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],n=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(n[0],n[1],e[r].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,n){for(var r=n.paths||[],o=0;o<r.length;o++)r[o].buildPath(e,r[o].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],n=0;n<e.length;n++)e[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Me.prototype.getBoundingRect.call(this)},t}(Me),j0=function(){function i(t){this.colorStops=t||[]}return i.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},i}(),Ho=function(i){function t(e,n,r,o,a,s){var l=i.call(this,a)||this;return l.x=e==null?0:e,l.y=n==null?0:n,l.x2=r==null?1:r,l.y2=o==null?0:o,l.type="linear",l.global=s||!1,l}return z(t,i),t}(j0),cd=function(i){function t(e,n,r,o,a){var s=i.call(this,o)||this;return s.x=e==null?.5:e,s.y=n==null?.5:n,s.r=r==null?.5:r,s.type="radial",s.global=a||!1,s}return z(t,i),t}(j0),Gr=[0,0],Fr=[0,0],Du=new xe,Lu=new xe,ku=function(){function i(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new xe;for(n=0;n<2;n++)this._axes[n]=new xe;t&&this.fromBoundingRect(t,e)}return i.prototype.fromBoundingRect=function(t,e){var n=this._corners,r=this._axes,o=t.x,a=t.y,s=o+t.width,l=a+t.height;if(n[0].set(o,a),n[1].set(s,a),n[2].set(s,l),n[3].set(o,l),e)for(var u=0;u<4;u++)n[u].transform(e);for(xe.sub(r[0],n[1],n[0]),xe.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize(),u=0;u<2;u++)this._origin[u]=r[u].dot(n[0])},i.prototype.intersect=function(t,e){var n=!0,r=!e;return Du.set(1/0,1/0),Lu.set(0,0),!this._intersectCheckOneSide(this,t,Du,Lu,r,1)&&(n=!1,r)||!this._intersectCheckOneSide(t,this,Du,Lu,r,-1)&&(n=!1,r)||r||xe.copy(e,n?Du:Lu),n},i.prototype._intersectCheckOneSide=function(t,e,n,r,o,a){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,Gr),this._getProjMinMaxOnAxis(l,e._corners,Fr),Gr[1]<Fr[0]||Gr[0]>Fr[1]){if(s=!1,o)return s;var h=Math.abs(Fr[0]-Gr[1]),c=Math.abs(Gr[0]-Fr[1]);Math.min(h,c)>r.len()&&(h<c?xe.scale(r,u,-h*a):xe.scale(r,u,c*a))}else n&&(h=Math.abs(Fr[0]-Gr[1]),c=Math.abs(Gr[0]-Fr[1]),Math.min(h,c)<n.len()&&(h<c?xe.scale(n,u,h*a):xe.scale(n,u,-c*a)))}return s},i.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var r=this._axes[t],o=this._origin,a=e[0].dot(r)+o[t],s=a,l=a,u=1;u<e.length;u++){var h=e[u].dot(r)+o[t];s=Math.min(h,s),l=Math.max(h,l)}n[0]=s,n[1]=l},i}(),kA=[],xs=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return z(t,i),t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,n){n?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,n){n=n||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var n=this._cursor;n<this._displayables.length;n++)e&&e(this._displayables[n]);for(n=0;n<this._temporaryDisplayables.length;n++)e&&e(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(n=this._displayables[e]).parent=this,n.update(),n.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var n;(n=this._temporaryDisplayables[e]).parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new me(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var r=this._displayables[n],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(kA)),e.union(o)}this._rect=e}return this._rect},t.prototype.contain=function(e,n){var r=this.transformCoordToLocal(e,n);if(this.getBoundingRect().contain(r[0],r[1])){for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(e,n))return!0}return!1},t}(Xn),Pu=Math.max,Ou=Math.min,pd={};function q0(i){return Me.extend(i)}var PA=function(t,e){var n=F0(t,e);return function(r){function o(a){var s=r.call(this,a)||this;return s.applyTransform=n.applyTransform,s.buildPath=n.buildPath,s}return z(o,r),o}(V0)};function K0(i,t){return PA(i,t)}function gn(i,t){pd[i]=t}function Ru(i){if(pd.hasOwnProperty(i))return pd[i]}function bs(i,t,e,n){var r=H0(i,t);return e&&(n==="center"&&(e=$0(e,r.getBoundingRect())),fd(r,e)),r}function dd(i,t,e){var n=new ut({style:{image:i,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(o){if(e==="center"){var a={width:o.width,height:o.height};n.setStyle($0(t,a))}}});return n}function $0(i,t){var e,n=t.width/t.height,r=i.height*n;return e=r<=i.width?i.height:(r=i.width)/n,{x:i.x+i.width/2-r/2,y:i.y+i.height/2-e/2,width:r,height:e}}var en=function(t,e){for(var n=[],r=t.length,o=0;o<r;o++){var a=t[o];a.path||a.createPathProxy(),a.shapeChanged()&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}var s=new Me(e);return s.createPathProxy(),s.buildPath=function(l){if(G0(l)){l.appendPath(n);var u=l.getContext();u&&l.rebuildPath(u,1)}},s};function fd(i,t){if(i.applyTransform){var e=i.getBoundingRect().calculateTransform(t);i.applyTransform(e)}}var Nu=Er;function gd(i,t,e,n,r,o,a){var s,l=!1;typeof r=="function"?(a=o,o=r,r=null):ae(r)&&(o=r.cb,a=r.during,l=r.isFrom,s=r.removeOpt,r=r.dataIndex);var u,h=i==="update",c=i==="remove";if(n&&n.ecModel){var p=n.ecModel.getUpdatePayload();u=p&&p.animation}var d=n&&n.isAnimationEnabled();if(c||t.stopAnimation("remove"),d){var f=void 0,g=void 0,y=void 0;u?(f=u.duration||0,g=u.easing||"cubicOut",y=u.delay||0):c?(f=we((s=s||{}).duration,200),g=we(s.easing,"cubicOut"),y=0):(f=n.getShallow(h?"animationDurationUpdate":"animationDuration"),g=n.getShallow(h?"animationEasingUpdate":"animationEasing"),y=n.getShallow(h?"animationDelayUpdate":"animationDelay")),typeof y=="function"&&(y=y(r,n.getAnimationDelayParams?n.getAnimationDelayParams(t,r):null)),typeof f=="function"&&(f=f(r)),f>0?l?t.animateFrom(e,{duration:f,delay:y||0,easing:g,done:o,force:!!o||!!a,scope:i,during:a}):t.animateTo(e,{duration:f,delay:y||0,easing:g,done:o,force:!!o||!!a,setToFinal:!0,scope:i,during:a}):(t.stopAnimation(),!l&&t.attr(e),o&&o())}else t.stopAnimation(),!l&&t.attr(e),a&&a(1),o&&o()}function Te(i,t,e,n,r,o){gd("update",i,t,e,n,r,o)}function $e(i,t,e,n,r,o){gd("init",i,t,e,n,r,o)}function Hi(i,t,e,n,r,o){Wo(i)||gd("remove",i,t,e,n,r,o)}function J0(i,t,e,n){i.removeTextContent(),i.removeTextGuideLine(),Hi(i,{style:{opacity:0}},t,e,n)}function ws(i,t,e){function n(){i.parent&&i.parent.remove(i)}i.isGroup?i.traverse(function(r){r.isGroup||J0(r,t,e,n)}):J0(i,t,e,n)}function Wo(i){if(!i.__zr)return!0;for(var t=0;t<i.animators.length;t++)if(i.animators[t].scope==="remove")return!0;return!1}function Wi(i,t){for(var e=dr([]);i&&i!==t;)ki(e,i.getLocalTransform(),e),i=i.parent;return e}function Nn(i,t,e){return t&&!Be(t)&&(t=ui.getLocalTransform(t)),e&&(t=fr([],t)),mt([],i,t)}function Eu(i,t,e){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),r=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),o=[i==="left"?-n:i==="right"?n:0,i==="top"?-r:i==="bottom"?r:0];return o=Nn(o,t,e),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function Q0(i){return!i.isGroup}function Ss(i,t,e){if(i&&t){var n,r=(n={},i.traverse(function(a){Q0(a)&&a.anid&&(n[a.anid]=a)}),n);t.traverse(function(a){if(Q0(a)&&a.anid){var s=r[a.anid];if(s){var l=o(a);a.attr(o(s)),Te(a,l,e,se(a).dataIndex)}}})}function o(a){var s={x:a.x,y:a.y,rotation:a.rotation};return function(l){return l.shape!=null}(a)&&(s.shape=X({},a.shape)),s}}function yd(i,t){return j(i,function(e){var n=e[0];n=Pu(n,t.x),n=Ou(n,t.x+t.width);var r=e[1];return r=Pu(r,t.y),[n,r=Ou(r,t.y+t.height)]})}function e1(i,t){var e=Pu(i.x,t.x),n=Ou(i.x+i.width,t.x+t.width),r=Pu(i.y,t.y),o=Ou(i.y+i.height,t.y+t.height);if(n>=e&&o>=r)return{x:e,y:r,width:n-e,height:o-r}}function Uo(i,t,e){var n=X({rectHover:!0},t),r=n.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},i)return i.indexOf("image://")===0?(r.image=i.slice(8),J(r,e),new ut(n)):bs(i.replace("path://",""),n,e,"center")}function Ms(i,t,e,n,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(t1(i,t,e,n,s[0],s[1],a[0],a[1]))return!0;a=s}}function t1(i,t,e,n,r,o,a,s){var l,u=e-i,h=n-t,c=a-r,p=s-o,d=md(c,p,u,h);if((l=d)<=1e-6&&l>=-1e-6)return!1;var f=i-r,g=t-o,y=md(f,g,u,h)/d;if(y<0||y>1)return!1;var m=md(f,g,c,p)/d;return!(m<0||m>1)}function md(i,t,e,n){return i*n-e*t}function Yo(i){var t=i.itemTooltipOption,e=i.componentModel,n=i.itemName,r=be(t)?{formatter:t}:t,o=e.mainType,a=e.componentIndex,s={componentType:o,name:n,$vars:["name"]};s[o+"Index"]=a;var l=i.formatterParamsExtra;l&&D(ke(l),function(h){ee(s,h)||(s[h]=l[h],s.$vars.push(h))});var u=se(i.el);u.componentMainType=o,u.componentIndex=a,u.tooltipConfig={name:n,option:J({content:n,formatterParams:s},r)}}gn("circle",fn),gn("ellipse",ms),gn("sector",Et),gn("ring",Go),gn("polygon",Dt),gn("polyline",zt),gn("rect",Se),gn("line",ft),gn("bezierCurve",Fo),gn("arc",_s);var Is=Object.freeze({__proto__:null,extendShape:q0,extendPath:K0,registerShape:gn,getShapeClass:Ru,makePath:bs,makeImage:dd,mergePath:en,resizePath:fd,subPixelOptimizeLine:function(t){return h0(t.shape,t.shape,t.style),t},subPixelOptimizeRect:function(t){return c0(t.shape,t.shape,t.style),t},subPixelOptimize:Nu,updateProps:Te,initProps:$e,removeElement:Hi,removeElementWithFadeOut:ws,isElementRemoved:Wo,getTransform:Wi,applyTransform:Nn,transformDirection:Eu,groupTransition:Ss,clipPointsByRect:yd,clipRectByRect:e1,createIcon:Uo,linePolygonIntersect:Ms,lineLineIntersect:t1,setTooltipConfig:Yo,Group:oe,Image:ut,Text:Ie,Circle:fn,Ellipse:ms,Sector:Et,Ring:Go,Polygon:Dt,Polyline:zt,Rect:Se,Line:ft,BezierCurve:Fo,Arc:_s,IncrementalDisplayable:xs,CompoundPath:hd,LinearGradient:Ho,RadialGradient:cd,BoundingRect:me,OrientedBoundingRect:ku,Point:xe,Path:Me}),zu={};function n1(i,t){for(var e=0;e<Qt.length;e++){var n=Qt[e],r=t[n],o=i.ensureState(n);o.style=o.style||{},o.style.text=r}var a=i.currentStates.slice();i.clearStates(!0),i.setStyle({text:t.normal}),i.useStates(a,!0)}function vd(i,t,e){var n,r=i.labelFetcher,o=i.labelDataIndex,a=i.labelDimIndex,s=t.normal;r&&(n=r.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),e!=null?{interpolatedValue:e}:null)),n==null&&(n=Pe(i.defaultText)?i.defaultText(o,i,e):i.defaultText);for(var l={normal:n},u=0;u<Qt.length;u++){var h=Qt[u],c=t[h];l[h]=we(r?r.getFormattedLabel(o,h,null,a,c&&c.get("formatter")):null,n)}return l}function Lt(i,t,e,n){e=e||zu;for(var r=i instanceof Ie,o=!1,a=0;a<ds.length;a++)if((p=t[ds[a]])&&p.getShallow("show")){o=!0;break}var s=r?i:i.getTextContent();if(o){r||(s||(s=new Ie,i.setTextContent(s)),i.stateProxy&&(s.stateProxy=i.stateProxy));var l=vd(e,t),u=t.normal,h=!!u.getShallow("show"),c=nt(u,n&&n.normal,e,!1,!r);for(c.text=l.normal,r||i.setTextConfig(Bu(u,e,!1)),a=0;a<Qt.length;a++){var p,d=Qt[a];if(p=t[d]){var f=s.ensureState(d),g=!!we(p.getShallow("show"),h);g!==h&&(f.ignore=!g),f.style=nt(p,n&&n[d],e,!0,!r),f.style.text=l[d],!r&&(i.ensureState(d).textConfig=Bu(p,e,!0))}}s.silent=!!u.getShallow("silent"),s.style.x!=null&&(c.x=s.style.x),s.style.y!=null&&(c.y=s.style.y),s.ignore=!h,s.useStyle(c),s.dirty(),e.enableTextSetter&&(Ts(s).setLabelText=function(y){var m=vd(e,t,y);n1(s,m)})}else s&&(s.ignore=!0);i.dirty()}function St(i,t){t=t||"label";for(var e={normal:i.getModel(t)},n=0;n<Qt.length;n++){var r=Qt[n];e[r]=i.getModel([r,t])}return e}function nt(i,t,e,n,r){var o={};return function(a,s,l,u,h){l=l||zu;var c,p=s.ecModel,d=p&&p.option.textStyle,f=function(_){for(var x;_&&_!==_.ecModel;){var b=(_.option||zu).rich;if(b){x=x||{};for(var w=ke(b),S=0;S<w.length;S++)x[w[S]]=1}_=_.parentModel}return x}(s);if(f){for(var g in c={},f)if(f.hasOwnProperty(g)){var y=s.getModel(["rich",g]);a1(c[g]={},y,d,l,u,h,!1,!0)}}c&&(a.rich=c);var m=s.get("overflow");m&&(a.overflow=m);var v=s.get("minMargin");v!=null&&(a.margin=v),a1(a,s,d,l,u,h,!0,!1)}(o,i,e,n,r),t&&X(o,t),o}function Bu(i,t,e){t=t||{};var n,r={},o=i.getShallow("rotate"),a=we(i.getShallow("distance"),e?null:5),s=i.getShallow("offset");return(n=i.getShallow("position")||(e?null:"inside"))==="outside"&&(n=t.defaultOutsidePosition||"top"),n!=null&&(r.position=n),s!=null&&(r.offset=s),o!=null&&(o*=Math.PI/180,r.rotation=o),a!=null&&(r.distance=a),r.outsideFill=i.get("color")==="inherit"?t.inheritColor||null:"auto",r}var i1=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],r1=["align","lineHeight","width","height","tag","verticalAlign"],o1=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function a1(i,t,e,n,r,o,a,s){e=!r&&e||zu;var l=n&&n.inheritColor,u=t.getShallow("color"),h=t.getShallow("textBorderColor"),c=we(t.getShallow("opacity"),e.opacity);u!=="inherit"&&u!=="auto"||(u=l||null),h!=="inherit"&&h!=="auto"||(h=l||null),o||(u=u||e.color,h=h||e.textBorderColor),u!=null&&(i.fill=u),h!=null&&(i.stroke=h);var p=we(t.getShallow("textBorderWidth"),e.textBorderWidth);p!=null&&(i.lineWidth=p);var d=we(t.getShallow("textBorderType"),e.textBorderType);d!=null&&(i.lineDash=d);var f=we(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);f!=null&&(i.lineDashOffset=f),r||c!=null||s||(c=n&&n.defaultOpacity),c!=null&&(i.opacity=c),r||o||i.fill==null&&n.inheritColor&&(i.fill=n.inheritColor);for(var g=0;g<i1.length;g++){var y=i1[g];(v=we(t.getShallow(y),e[y]))!=null&&(i[y]=v)}for(g=0;g<r1.length;g++)y=r1[g],(v=t.getShallow(y))!=null&&(i[y]=v);if(i.verticalAlign==null){var m=t.getShallow("baseline");m!=null&&(i.verticalAlign=m)}if(!a||!n.disableBox){for(g=0;g<o1.length;g++){var v;y=o1[g],(v=t.getShallow(y))!=null&&(i[y]=v)}var _=t.getShallow("borderType");_!=null&&(i.borderDash=_),i.backgroundColor!=="auto"&&i.backgroundColor!=="inherit"||!l||(i.backgroundColor=l),i.borderColor!=="auto"&&i.borderColor!=="inherit"||!l||(i.borderColor=l)}}function s1(i,t){var e=t&&t.getModel("textStyle");return Ii([i.fontStyle||e&&e.getShallow("fontStyle")||"",i.fontWeight||e&&e.getShallow("fontWeight")||"",(i.fontSize||e&&e.getShallow("fontSize")||12)+"px",i.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Ts=Ne();function l1(i,t,e,n){if(i){var r=Ts(i);r.prevValue=r.value,r.value=e;var o=t.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=n,r.statesModels=t)}}function u1(i,t,e,n,r){var o=Ts(i);if(o.valueAnimation){var a=o.defaultInterpolatedText,s=we(o.interpolatedValue,o.prevValue),l=o.value;(s==null?$e:Te)(i,{},n,t,null,function(u){var h=Vv(e,o.precision,s,l,u);o.interpolatedValue=u===1?null:h;var c=vd({labelDataIndex:t,labelFetcher:r,defaultText:a?a(h):h+""},o.statesModels,h);n1(i,c)})}}var _d,xd,OA=["textStyle","color"],bd=new Ie,RA=function(){function i(){}return i.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(OA):null)},i.prototype.getFont=function(){return s1({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},i.prototype.getTextRect=function(t){return bd.useStyle({text:t,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),bd.update(),bd.getBoundingRect()},i}(),wd=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],NA=Cr(wd),EA=function(){function i(){}return i.prototype.getLineStyle=function(t){return NA(this,t)},i}(),Sd=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],zA=Cr(Sd),BA=function(){function i(){}return i.prototype.getItemStyle=function(t,e){return zA(this,t,e)},i}(),Ae=function(){function i(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return i.prototype.init=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},i.prototype.mergeOption=function(t,e){de(this.option,t,!0)},i.prototype.get=function(t,e){return t==null?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},i.prototype.getShallow=function(t,e){var n=this.option,r=n==null?n:n[t];if(r==null&&!e){var o=this.parentModel;o&&(r=o.getShallow(t))}return r},i.prototype.getModel=function(t,e){var n=t!=null,r=n?this.parsePath(t):null;return new i(n?this._doGet(r):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},i.prototype.isEmpty=function(){return this.option==null},i.prototype.restoreData=function(){},i.prototype.clone=function(){return new this.constructor(te(this.option))},i.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},i.prototype.resolveParentPath=function(t){return t},i.prototype.isAnimationEnabled=function(){if(!ue.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},i.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var r=0;r<t.length&&(!t[r]||(n=n&&typeof n=="object"?n[t[r]]:null)!=null);r++);return n==null&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},i}();Op(Ae),_d=Ae,xd=["__\0is_clz",PC++].join("_"),_d.prototype[xd]=!0,_d.isInstance=function(i){return!(!i||!i[xd])},We(Ae,EA),We(Ae,BA),We(Ae,EC),We(Ae,RA);var VA=Math.round(10*Math.random());function Xo(i){return[i||"",VA++].join("_")}function Ui(i,t){return de(de({},i,!0),t,!0)}var Vu="ZH",Md="EN",GA=Md,Gu={},Id={},h1=ue.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(Vu)>-1?Vu:GA;function Td(i,t){i=i.toUpperCase(),Id[i]=new Ae(t),Gu[i]=t}Td(Md,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Guage",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Td(Vu,{time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}});var c1=1e3,p1=6e4,d1=36e5,Cs=864e5,f1=31536e6,As={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{hh}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss} {SSS}"},FA="{yyyy}-{MM}-{dd}",g1={year:"{yyyy}",month:"{yyyy}-{MM}",day:FA,hour:"{yyyy}-{MM}-{dd} "+As.hour,minute:"{yyyy}-{MM}-{dd} "+As.minute,second:"{yyyy}-{MM}-{dd} "+As.second,millisecond:As.none},Cd=["year","month","day","hour","minute","second","millisecond"],y1=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function tn(i,t){return"0000".substr(0,t-(i+="").length)+i}function Zo(i){switch(i){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return i}}function HA(i){return i===Zo(i)}function Ds(i,t,e,n){var r=Jt(i),o=r[Ad(e)](),a=r[jo(e)]()+1,s=Math.floor((a-1)/4)+1,l=r[Fu(e)](),u=r["get"+(e?"UTC":"")+"Day"](),h=r[Ls(e)](),c=(h-1)%12+1,p=r[Hu(e)](),d=r[Wu(e)](),f=r[Uu(e)](),g=(n instanceof Ae?n:function(x){return Id[x]}(n||h1)||Id.EN).getModel("time"),y=g.get("month"),m=g.get("monthAbbr"),v=g.get("dayOfWeek"),_=g.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,y[a-1]).replace(/{MMM}/g,m[a-1]).replace(/{MM}/g,tn(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,tn(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,v[u]).replace(/{ee}/g,_[u]).replace(/{e}/g,u+"").replace(/{HH}/g,tn(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,tn(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,tn(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,tn(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,tn(f,3)).replace(/{S}/g,f+"")}function m1(i,t){var e=Jt(i),n=e[jo(t)]()+1,r=e[Fu(t)](),o=e[Ls(t)](),a=e[Hu(t)](),s=e[Wu(t)](),l=e[Uu(t)]()===0,u=l&&s===0,h=u&&a===0,c=h&&o===0,p=c&&r===1;return p&&n===1?"year":p?"month":c?"day":h?"hour":u?"minute":l?"second":"millisecond"}function v1(i,t,e){var n=typeof i=="number"?Jt(i):i;switch(t=t||m1(i,e)){case"year":return n[Ad(e)]();case"half-year":return n[jo(e)]()>=6?1:0;case"quarter":return Math.floor((n[jo(e)]()+1)/4);case"month":return n[jo(e)]();case"day":return n[Fu(e)]();case"half-day":return n[Ls(e)]()/24;case"hour":return n[Ls(e)]();case"minute":return n[Hu(e)]();case"second":return n[Wu(e)]();case"millisecond":return n[Uu(e)]()}}function Ad(i){return i?"getUTCFullYear":"getFullYear"}function jo(i){return i?"getUTCMonth":"getMonth"}function Fu(i){return i?"getUTCDate":"getDate"}function Ls(i){return i?"getUTCHours":"getHours"}function Hu(i){return i?"getUTCMinutes":"getMinutes"}function Wu(i){return i?"getUTCSeconds":"getSeconds"}function Uu(i){return i?"getUTCSeconds":"getSeconds"}function WA(i){return i?"setUTCFullYear":"setFullYear"}function _1(i){return i?"setUTCMonth":"setMonth"}function x1(i){return i?"setUTCDate":"setDate"}function b1(i){return i?"setUTCHours":"setHours"}function w1(i){return i?"setUTCMinutes":"setMinutes"}function S1(i){return i?"setUTCSeconds":"setSeconds"}function M1(i){return i?"setUTCSeconds":"setSeconds"}function Dd(i){if(!Dp(i))return be(i)?i:"-";var t=(i+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Ld(i,t){return i=(i||"").toLowerCase().replace(/-(.)/g,function(e,n){return n.toUpperCase()}),t&&i&&(i=i.charAt(0).toUpperCase()+i.slice(1)),i}var Hr=$l,UA=/([&<>"'])/g,YA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Xt(i){return i==null?"":(i+"").replace(UA,function(t,e){return YA[e]})}function Yu(i,t,e){function n(u){return u&&Ii(u)?u:"-"}function r(u){return!(u==null||isNaN(u)||!isFinite(u))}var o=t==="time",a=i instanceof Date;if(o||a){var s=o?Jt(i):i;if(!isNaN(+s))return Ds(s,"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}",e);if(a)return"-"}if(t==="ordinal")return jl(i)?n(i):ql(i)&&r(i)?i+"":"-";var l=Un(i);return r(l)?Dd(l):jl(i)?n(i):"-"}var I1=["a","b","c","d","e","f","g"],kd=function(t,e){return"{"+t+(e==null?"":e)+"}"};function Pd(i,t,e){W(t)||(t=[t]);var n=t.length;if(!n)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=I1[o];i=i.replace(kd(a),kd(a,0))}for(var s=0;s<n;s++)for(var l=0;l<r.length;l++){var u=t[s][r[l]];i=i.replace(kd(I1[l],s),e?Xt(u):u)}return i}function T1(i,t){var e=be(i)?{color:i,extraCssText:t}:i||{},n=e.color,r=e.type;t=e.extraCssText;var o=e.renderMode||"html";return n?o==="html"?r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Xt(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Xt(n)+";"+(t||"")+'"></span>':{renderMode:o,content:"{"+(e.markerId||"markerX")+"|}  ",style:r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}:""}function Wr(i,t){return t=t||"transparent",be(i)?i:ae(i)&&i.colorStops&&(i.colorStops[0]||{}).color||t}function Xu(i,t){if(t==="_blank"||t==="blank"){var e=window.open();e.opener=null,e.location.href=i}else window.open(i,t)}var Zu=D,C1=["left","right","top","bottom","width","height"],Ur=[["width","left","right"],["height","top","bottom"]];function Od(i,t,e,n,r){var o=0,a=0;n==null&&(n=1/0),r==null&&(r=1/0);var s=0;t.eachChild(function(l,u){var h,c,p=l.getBoundingRect(),d=t.childAt(u+1),f=d&&d.getBoundingRect();if(i==="horizontal"){var g=p.width+(f?-f.x+p.x:0);(h=o+g)>n||l.newline?(o=0,h=g,a+=s+e,s=p.height):s=Math.max(s,p.height)}else{var y=p.height+(f?-f.y+p.y:0);(c=a+y)>r||l.newline?(o+=s+e,a=0,c=y,s=p.width):s=Math.max(s,p.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),i==="horizontal"?o=h+e:a=c+e)})}var Yr=Od;he(Od,"vertical"),he(Od,"horizontal");function ht(i,t,e){e=Hr(e||0);var n=t.width,r=t.height,o=q(i.left,n),a=q(i.top,r),s=q(i.right,n),l=q(i.bottom,r),u=q(i.width,n),h=q(i.height,r),c=e[2]+e[0],p=e[1]+e[3],d=i.aspect;switch(isNaN(u)&&(u=n-s-p-o),isNaN(h)&&(h=r-l-c-a),d!=null&&(isNaN(u)&&isNaN(h)&&(d>n/r?u=.8*n:h=.8*r),isNaN(u)&&(u=d*h),isNaN(h)&&(h=u/d)),isNaN(o)&&(o=n-s-u-p),isNaN(a)&&(a=r-l-h-c),i.left||i.right){case"center":o=n/2-u/2-e[3];break;case"right":o=n-u-p}switch(i.top||i.bottom){case"middle":case"center":a=r/2-h/2-e[0];break;case"bottom":a=r-h-c}o=o||0,a=a||0,isNaN(u)&&(u=n-p-o-(s||0)),isNaN(h)&&(h=r-c-a-(l||0));var f=new me(o+e[3],a+e[0],u,h);return f.margin=e,f}function ju(i,t,e,n,r){var o=!r||!r.hv||r.hv[0],a=!r||!r.hv||r.hv[1],s=r&&r.boundingMode||"all";if(o||a){var l;if(s==="raw")l=i.type==="group"?new me(0,0,+t.width||0,+t.height||0):i.getBoundingRect();else if(l=i.getBoundingRect(),i.needLocalTransform()){var u=i.getLocalTransform();(l=l.clone()).applyTransform(u)}var h=ht(J({width:l.width,height:l.height},t),e,n),c=o?h.x-l.x:0,p=a?h.y-l.y:0;s==="raw"?(i.x=c,i.y=p):(i.x+=c,i.y+=p),i.markRedraw()}}function ks(i){var t=i.layoutMode||i.constructor.layoutMode;return ae(t)?t:t?{type:t}:null}function Yi(i,t,e){var n=e&&e.ignoreSize;!W(n)&&(n=[n,n]);var r=a(Ur[0],0),o=a(Ur[1],1);function a(h,c){var p={},d=0,f={},g=0;if(Zu(h,function(v){f[v]=i[v]}),Zu(h,function(v){s(t,v)&&(p[v]=f[v]=t[v]),l(p,v)&&d++,l(f,v)&&g++}),n[c])return l(t,h[1])?f[h[2]]=null:l(t,h[2])&&(f[h[1]]=null),f;if(g!==2&&d){if(d>=2)return p;for(var y=0;y<h.length;y++){var m=h[y];if(!s(p,m)&&s(i,m)){p[m]=i[m];break}}return p}return f}function s(h,c){return h.hasOwnProperty(c)}function l(h,c){return h[c]!=null&&h[c]!=="auto"}function u(h,c,p){Zu(h,function(d){c[d]=p[d]})}u(Ur[0],i,r),u(Ur[1],i,o)}function qo(i){return A1({},i)}function A1(i,t){return t&&i&&Zu(C1,function(e){t.hasOwnProperty(e)&&(i[e]=t[e])}),i}var XA=Ne(),ve=function(i){function t(e,n,r){var o=i.call(this,e,n,r)||this;return o.uid=Xo("ec_cpt_model"),o}return z(t,i),t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r)},t.prototype.mergeDefaultAndTheme=function(e,n){var r=ks(this),o=r?qo(e):{};de(e,n.getTheme().get(this.mainType)),de(e,this.getDefaultOption()),r&&Yi(e,o,r)},t.prototype.mergeOption=function(e,n){de(this.option,e,!0);var r=ks(this);r&&Yi(this.option,e,r)},t.prototype.optionUpdated=function(e,n){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!function(u){return!(!u||!u[Gv])}(e))return e.defaultOption;var n=XA(this);if(!n.defaultOption){for(var r=[],o=e;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var s={},l=r.length-1;l>=0;l--)s=de(s,r[l],!0);n.defaultOption=s}return n.defaultOption},t.prototype.getReferringComponents=function(e,n){var r=e+"Index",o=e+"Id";return ss(this.ecModel,e,{index:this.get(r,!0),id:this.get(o,!0)},n)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(Ae);Fv(ve,Ae),cu(ve),function(i){var t={};i.registerSubTypeDefaulter=function(e,n){var r=Yn(e);t[r.main]=n},i.determineSubType=function(e,n){var r=n.type;if(!r){var o=Yn(e).main;i.hasSubTypes(e)&&t[o]&&(r=t[o](n))}return r}}(ve),function(i,t){function e(n,r){return n[r]||(n[r]={predecessor:[],successor:[]}),n[r]}i.topologicalTravel=function(n,r,o,a){if(n.length){var s=function(y){var m={},v=[];return D(y,function(_){var x=e(m,_),b=function(w,S){var M=[];return D(w,function(I){ie(S,I)>=0&&M.push(I)}),M}(x.originalDeps=t(_),y);x.entryCount=b.length,x.entryCount===0&&v.push(_),D(b,function(w){ie(x.predecessor,w)<0&&x.predecessor.push(w);var S=e(m,w);ie(S.successor,w)<0&&S.successor.push(_)})}),{graph:m,noEntryList:v}}(r),l=s.graph,u=s.noEntryList,h={};for(D(n,function(y){h[y]=!0});u.length;){var c=u.pop(),p=l[c],d=!!h[c];d&&(o.call(a,c,p.originalDeps.slice()),delete h[c]),D(p.successor,d?g:f)}D(h,function(){var y="";throw new Error(y)})}function f(y){l[y].entryCount--,l[y].entryCount===0&&u.push(y)}function g(y){h[y]=!0,f(y)}}}(ve,function(i){var t=[];return D(ve.getClassesByMainType(i),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=j(t,function(e){return Yn(e).main}),i!=="dataset"&&ie(t,"dataset")<=0&&t.unshift("dataset"),t});var D1="";typeof navigator!="undefined"&&(D1=navigator.platform||"");var Ko="rgba(0, 0, 0, 0.2)",ZA={darkMode:"auto",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Ko,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Ko,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Ko,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Ko,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Ko,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Ko,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:D1.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},L1=re(["tooltip","label","itemName","itemId","seriesName"]),$o="original",di="arrayRows",Xr="objectRows",Ps="keyedColumns",Jo="typedArray",k1="unknown",Zr="column",Rd="row",Nd=1,P1=2,En=3,O1=Ne();function R1(i,t,e){var n={},r=zd(t);if(!r||!i)return n;var o,a,s=[],l=[],u=t.ecModel,h=O1(u).datasetMap,c=r.uid+"_"+e.seriesLayoutBy;D(i=i.slice(),function(g,y){var m=ae(g)?g:i[y]={name:g};m.type==="ordinal"&&o==null&&(o=y,a=f(m)),n[m.name]=[]});var p=h.get(c)||h.set(c,{categoryWayDim:a,valueWayDim:0});function d(g,y,m){for(var v=0;v<m;v++)g.push(y+v)}function f(g){var y=g.dimsDef;return y?y.length:1}return D(i,function(g,y){var m=g.name,v=f(g);if(o==null){var _=p.valueWayDim;d(n[m],_,v),d(l,_,v),p.valueWayDim+=v}else o===y?(d(n[m],0,v),d(s,0,v)):(_=p.categoryWayDim,d(n[m],_,v),d(l,_,v),p.categoryWayDim+=v)}),s.length&&(n.itemName=s),l.length&&(n.seriesName=l),n}function Ed(i,t,e){var n={};if(!zd(i))return n;var r,o=t.sourceFormat,a=t.dimensionsDefine;o!==Xr&&o!==Ps||D(a,function(u,h){(ae(u)?u.name:u)==="name"&&(r=h)});var s=function(){for(var u={},h={},c=[],p=0,d=Math.min(5,e);p<d;p++){var f=N1(t.data,o,t.seriesLayoutBy,a,t.startIndex,p);c.push(f);var g=f===En;if(g&&u.v==null&&p!==r&&(u.v=p),(u.n==null||u.n===u.v||!g&&c[u.n]===En)&&(u.n=p),y(u)&&c[u.n]!==En)return u;g||(f===P1&&h.v==null&&p!==r&&(h.v=p),h.n!=null&&h.n!==h.v||(h.n=p))}function y(m){return m.v!=null&&m.n!=null}return y(u)?u:y(h)?h:null}();if(s){n.value=[s.v];var l=r!=null?r:s.n;n.itemName=[l],n.seriesName=[l]}return n}function zd(i){if(!i.get("data",!0))return ss(i.ecModel,"dataset",{index:i.get("datasetIndex",!0),id:i.get("datasetId",!0)},lt).models[0]}function jA(i,t){return N1(i.data,i.sourceFormat,i.seriesLayoutBy,i.dimensionsDefine,i.startIndex,t)}function N1(i,t,e,n,r,o){var a,s,l;if(Ht(i))return En;if(n){var u=n[o];ae(u)?(s=u.name,l=u.type):be(u)&&(s=u)}if(l!=null)return l==="ordinal"?Nd:En;if(t===di){var h=i;if(e===Rd){for(var c=h[o],p=0;p<(c||[]).length&&p<5;p++)if((a=v(c[r+p]))!=null)return a}else for(p=0;p<h.length&&p<5;p++){var d=h[r+p];if(d&&(a=v(d[o]))!=null)return a}}else if(t===Xr){var f=i;if(!s)return En;for(p=0;p<f.length&&p<5;p++)if((y=f[p])&&(a=v(y[s]))!=null)return a}else if(t===Ps){if(!s||!(c=i[s])||Ht(c))return En;for(p=0;p<c.length&&p<5;p++)if((a=v(c[p]))!=null)return a}else if(t===$o){var g=i;for(p=0;p<g.length&&p<5;p++){var y,m=rs(y=g[p]);if(!W(m))return En;if((a=v(m[o]))!=null)return a}}function v(_){var x=be(_);return _!=null&&isFinite(_)&&_!==""?x?P1:En:x&&_!=="-"?Nd:void 0}return En}var Bd=re(),qu,Os,E1,z1=Ne(),qA=Ne(),Vd=function(){function i(){}return i.prototype.getColorFromPalette=function(t,e,n){var r=je(this.get("color",!0)),o=this.get("colorLayer",!0);return B1(this,z1,r,o,t,e,n)},i.prototype.clearColorPalette=function(){(function(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}})(this,z1)},i}();function Gd(i,t,e,n){var r=je(i.get(["aria","decal","decals"]));return B1(i,qA,r,null,t,e,n)}function B1(i,t,e,n,r,o,a){var s=t(o=o||i),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var h=a!=null&&n?function(p,d){for(var f=p.length,g=0;g<f;g++)if(p[g].length>d)return p[g];return p[f-1]}(n,a):e;if((h=h||e)&&h.length){var c=h[l];return r&&(u[r]=c),s.paletteIdx=(l+1)%h.length,c}}var Fd=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.init=function(e,n,r,o,a,s){o=o||{},this.option=null,this._theme=new Ae(o),this._locale=new Ae(a),this._optionManager=s},t.prototype.setOption=function(e,n,r){var o=F1(n);this._optionManager.setOption(e,r,o),this._resetOption(null,o)},t.prototype.resetOption=function(e,n){return this._resetOption(e,F1(n))},t.prototype._resetOption=function(e,n){var r=!1,o=this._optionManager;if(!e||e==="recreate"){var a=o.mountOption(e==="recreate");this.option&&e!=="recreate"?(this.restoreData(),this._mergeOption(a,n)):E1(this,a),r=!0}if(e!=="timeline"&&e!=="media"||this.restoreData(),!e||e==="recreate"||e==="timeline"){var s=o.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,n))}if(!e||e==="recreate"||e==="media"){var l=o.getMediaOption(this);l.length&&D(l,function(u){r=!0,this._mergeOption(u,n)},this)}return r},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,n){var r=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=re(),u=n&&n.replaceMergeMainTypeMap;O1(this).datasetMap=re(),D(e,function(h,c){h!=null&&(ve.hasClass(c)?c&&(s.push(c),l.set(c,!0)):r[c]=r[c]==null?te(h):de(r[c],h,!0))}),u&&u.each(function(h,c){ve.hasClass(c)&&!l.get(c)&&(s.push(c),l.set(c,!0))}),ve.topologicalTravel(s,ve.getAllClassMainTypes(),function(h){var c=function(v,_,x){var b=Bd.get(_);if(!b)return x;var w=b(v);return w?x.concat(w):x}(this,h,je(e[h])),p=o.get(h),d=p?u&&u.get(h)?"replaceMerge":"normalMerge":"replaceAll",f=Ev(p,c,d);(function(v,_,x){D(v,function(b){var w=b.newOption;ae(w)&&(b.keyInfo.mainType=_,b.keyInfo.subType=function(S,M,I,T){return M.type?M.type:I?I.subType:T.determineSubType(S,M)}(_,w,b.existing,x))})})(f,h,ve),r[h]=null,o.set(h,null),a.set(h,0);var g=[],y=[],m=0;D(f,function(v,_){var x=v.existing,b=v.newOption;if(b){var w=h==="series",S=ve.getClass(h,v.keyInfo.subType,!w);if(!S)return;if(x&&x.constructor===S)x.name=v.keyInfo.name,x.mergeOption(b,this),x.optionUpdated(b,!1);else{var M=X({componentIndex:_},v.keyInfo);X(x=new S(b,this,this,M),M),v.brandNew&&(x.__requireNewView=!0),x.init(b,this,this),x.optionUpdated(null,!0)}}else x&&(x.mergeOption({},this),x.optionUpdated({},!1));x?(g.push(x.option),y.push(x),m++):(g.push(void 0),y.push(void 0))},this),r[h]=g,o.set(h,y),a.set(h,m),h==="series"&&qu(this)},this),this._seriesIndices||qu(this)},t.prototype.getOption=function(){var e=te(this.option);return D(e,function(n,r){if(ve.hasClass(r)){for(var o=je(n),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!as(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,e[r]=o}}),delete e["\0_ec_inner"],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.getLocale=function(e){return this.getLocaleModel().get(e)},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,n){var r=this._componentsMap.get(e);if(r){var o=r[n||0];if(o)return o;if(n==null){for(var a=0;a<r.length;a++)if(r[a])return r[a]}}},t.prototype.queryComponents=function(e){var n=e.mainType;if(!n)return[];var r,o=e.index,a=e.id,s=e.name,l=this._componentsMap.get(n);return l&&l.length?(o!=null?(r=[],D(je(o),function(u){l[u]&&r.push(l[u])})):r=a!=null?V1("id",a,l):s!=null?V1("name",s,l):Ke(l,function(u){return!!u}),G1(r,e)):[]},t.prototype.findComponents=function(e){var n,r,o,a,s,l=e.query,u=e.mainType,h=(r=u+"Index",o=u+"Id",a=u+"Name",!(n=l)||n[r]==null&&n[o]==null&&n[a]==null?null:{mainType:u,index:n[r],id:n[o],name:n[a]}),c=h?this.queryComponents(h):Ke(this._componentsMap.get(u),function(p){return!!p});return s=G1(c,e),e.filter?Ke(s,e.filter):s},t.prototype.eachComponent=function(e,n,r){var o=this._componentsMap;if(Pe(e)){var a=n,s=e;o.each(function(c,p){for(var d=0;c&&d<c.length;d++){var f=c[d];f&&s.call(a,p,f,f.componentIndex)}})}else for(var l=be(e)?o.get(e):ae(e)?this.findComponents(e):null,u=0;l&&u<l.length;u++){var h=l[u];h&&n.call(r,h,h.componentIndex)}},t.prototype.getSeriesByName=function(e){var n=dt(e,null);return Ke(this._componentsMap.get("series"),function(r){return!!r&&n!=null&&r.name===n})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Ke(this._componentsMap.get("series"),function(n){return!!n&&n.subType===e})},t.prototype.getSeries=function(){return Ke(this._componentsMap.get("series").slice(),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,n){Os(this),D(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];e.call(n,o,r)},this)},t.prototype.eachRawSeries=function(e,n){D(this._componentsMap.get("series"),function(r){r&&e.call(n,r,r.componentIndex)})},t.prototype.eachSeriesByType=function(e,n,r){Os(this),D(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===e&&n.call(r,a,o)},this)},t.prototype.eachRawSeriesByType=function(e,n,r){return D(this.getSeriesByType(e),n,r)},t.prototype.isSeriesFiltered=function(e){return Os(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,n){Os(this);var r=[];D(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];e.call(n,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=re(r)},t.prototype.restoreData=function(e){qu(this);var n=this._componentsMap,r=[];n.each(function(o,a){ve.hasClass(a)&&r.push(a)}),ve.topologicalTravel(r,ve.getAllClassMainTypes(),function(o){D(n.get(o),function(a){!a||o==="series"&&function(s,l){if(l){var u=l.seriesIndex,h=l.seriesId,c=l.seriesName;return u!=null&&s.componentIndex!==u||h!=null&&s.id!==h||c!=null&&s.name!==c}}(a,e)||a.restoreData()})})},t.internalField=(qu=function(n){var r=n._seriesIndices=[];D(n._componentsMap.get("series"),function(o){o&&r.push(o.componentIndex)}),n._seriesIndicesMap=re(r)},Os=function(n){},void(E1=function(n,r){n.option={},n.option["\0_ec_inner"]=1,n._componentsMap=re({series:[]}),n._componentsCount=re();var o=r.aria;ae(o)&&o.enabled==null&&(o.enabled=!0),function(a,s){var l=a.color&&!a.colorLayer;D(s,function(u,h){h==="colorLayer"&&l||ve.hasClass(h)||(typeof u=="object"?a[h]=a[h]?de(a[h],u,!1):te(u):a[h]==null&&(a[h]=u))})}(r,n._theme.option),de(r,ZA,!1),n._mergeOption(r,null)})),t}(Ae);function V1(i,t,e){if(W(t)){var n=re();return D(t,function(o){o!=null&&dt(o,null)!=null&&n.set(o,!0)}),Ke(e,function(o){return o&&n.get(o[i])})}var r=dt(t,null);return Ke(e,function(o){return o&&r!=null&&o[i]===r})}function G1(i,t){return t.hasOwnProperty("subType")?Ke(i,function(e){return e&&e.subType===t.subType}):i}function F1(i){var t=re();return i&&D(je(i.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}We(Fd,Vd);var KA=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],H1=function(t){D(KA,function(e){this[e]=Q(t[e],t)},this)},Hd={},Qo=function(){function i(){this._coordinateSystems=[]}return i.prototype.create=function(t,e){var n=[];D(Hd,function(r,o){var a=r.create(t,e);n=n.concat(a||[])}),this._coordinateSystems=n},i.prototype.update=function(t,e){D(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},i.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},i.register=function(t,e){Hd[t]=e},i.get=function(t){return Hd[t]},i}(),$A=/^(min|max)?(.+)$/,JA=function(){function i(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return i.prototype.setOption=function(t,e,n){t&&(D(je(t.series),function(a){a&&a.data&&Ht(a.data)&&Ba(a.data)}),D(je(t.dataset),function(a){a&&a.source&&Ht(a.source)&&Ba(a.source)})),t=te(t);var r=this._optionBackup,o=function(a,s,l){var u,h,c=[],p=a.baseOption,d=a.timeline,f=a.options,g=a.media,y=!!a.media,m=!!(f||d||p&&p.timeline);p?(h=p).timeline||(h.timeline=d):((m||y)&&(a.options=a.media=null),h=a),y&&W(g)&&D(g,function(_){_&&_.option&&(_.query?c.push(_):u||(u=_))});function v(_){D(s,function(x){x(_,l)})}return v(h),D(f,function(_){return v(_)}),D(c,function(_){return v(_.option)}),{baseOption:h,timelineOptions:f||[],mediaDefault:u,mediaList:c}}(t,e,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},i.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],te(t?e.baseOption:this._newBaseOption)},i.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=te(n[r.getCurrentIndex()]))}return e},i.prototype.getMediaOption=function(t){var e,n,r=this._api.getWidth(),o=this._api.getHeight(),a=this._mediaList,s=this._mediaDefault,l=[],u=[];if(!a.length&&!s)return u;for(var h=0,c=a.length;h<c;h++)QA(a[h].query,r,o)&&l.push(h);return!l.length&&s&&(l=[-1]),l.length&&(e=l,n=this._currentMediaIndices,e.join(",")!==n.join(","))&&(u=j(l,function(p){return te(p===-1?s.option:a[p].option)})),this._currentMediaIndices=l,u},i}();function QA(i,t,e){var n={width:t,height:e,aspectratio:t/e},r=!0;return D(i,function(o,a){var s=a.match($A);if(s&&s[1]&&s[2]){var l=s[1],u=s[2].toLowerCase();(function(h,c,p){return p==="min"?h>=c:p==="max"?h<=c:h===c})(n[u],o,l)||(r=!1)}}),r}var zn=D,Rs=ae,W1=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Wd(i){var t=i&&i.itemStyle;if(t)for(var e=0,n=W1.length;e<n;e++){var r=W1[e],o=t.normal,a=t.emphasis;o&&o[r]&&(i[r]=i[r]||{},i[r].normal?de(i[r].normal,o[r]):i[r].normal=o[r],o[r]=null),a&&a[r]&&(i[r]=i[r]||{},i[r].emphasis?de(i[r].emphasis,a[r]):i[r].emphasis=a[r],a[r]=null)}}function kt(i,t,e){if(i&&i[t]&&(i[t].normal||i[t].emphasis)){var n=i[t].normal,r=i[t].emphasis;n&&(e?(i[t].normal=i[t].emphasis=null,J(i[t],n)):i[t]=n),r&&(i.emphasis=i.emphasis||{},i.emphasis[t]=r,r.focus&&(i.emphasis.focus=r.focus),r.blurScope&&(i.emphasis.blurScope=r.blurScope))}}function Ns(i){kt(i,"itemStyle"),kt(i,"lineStyle"),kt(i,"areaStyle"),kt(i,"label"),kt(i,"labelLine"),kt(i,"upperLabel"),kt(i,"edgeLabel")}function ct(i,t){var e=Rs(i)&&i[t],n=Rs(e)&&e.textStyle;if(n)for(var r=0,o=Nv.length;r<o;r++){var a=Nv[r];n.hasOwnProperty(a)&&(e[a]=n[a])}}function yn(i){i&&(Ns(i),ct(i,"label"),i.emphasis&&ct(i.emphasis,"label"))}function fi(i){return W(i)?i:i?[i]:[]}function U1(i){return(W(i)?i[0]:i)||{}}function eD(i,t){zn(fi(i.series),function(n){Rs(n)&&function(r){if(Rs(r)){Wd(r),Ns(r),ct(r,"label"),ct(r,"upperLabel"),ct(r,"edgeLabel"),r.emphasis&&(ct(r.emphasis,"label"),ct(r.emphasis,"upperLabel"),ct(r.emphasis,"edgeLabel"));var o=r.markPoint;o&&(Wd(o),yn(o));var a=r.markLine;a&&(Wd(a),yn(a));var s=r.markArea;s&&yn(s);var l=r.data;if(r.type==="graph"){l=l||r.nodes;var u=r.links||r.edges;if(u&&!Ht(u))for(var h=0;h<u.length;h++)yn(u[h]);D(r.categories,function(d){Ns(d)})}if(l&&!Ht(l))for(h=0;h<l.length;h++)yn(l[h]);if((o=r.markPoint)&&o.data){var c=o.data;for(h=0;h<c.length;h++)yn(c[h])}if((a=r.markLine)&&a.data){var p=a.data;for(h=0;h<p.length;h++)W(p[h])?(yn(p[h][0]),yn(p[h][1])):yn(p[h])}r.type==="gauge"?(ct(r,"axisLabel"),ct(r,"title"),ct(r,"detail")):r.type==="treemap"?(kt(r.breadcrumb,"itemStyle"),D(r.levels,function(d){Ns(d)})):r.type==="tree"&&Ns(r.leaves)}}(n)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),zn(e,function(n){zn(fi(i[n]),function(r){r&&(ct(r,"axisLabel"),ct(r.axisPointer,"label"))})}),zn(fi(i.parallel),function(n){var r=n&&n.parallelAxisDefault;ct(r,"axisLabel"),ct(r&&r.axisPointer,"label")}),zn(fi(i.calendar),function(n){kt(n,"itemStyle"),ct(n,"dayLabel"),ct(n,"monthLabel"),ct(n,"yearLabel")}),zn(fi(i.radar),function(n){ct(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),zn(fi(i.geo),function(n){Rs(n)&&(yn(n),zn(fi(n.regions),function(r){yn(r)}))}),zn(fi(i.timeline),function(n){yn(n),kt(n,"label"),kt(n,"itemStyle"),kt(n,"controlStyle",!0);var r=n.data;W(r)&&D(r,function(o){ae(o)&&(kt(o,"label"),kt(o,"itemStyle"))})}),zn(fi(i.toolbox),function(n){kt(n,"iconStyle"),zn(n.feature,function(r){kt(r,"iconStyle")})}),ct(U1(i.axisPointer),"label"),ct(U1(i.tooltip).axisPointer,"label")}function Y1(i){i&&D(tD,function(t){t[0]in i&&!(t[1]in i)&&(i[t[1]]=i[t[0]])})}var tD=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],nD=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Ud=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Es(i){var t=i&&i.itemStyle;if(t)for(var e=0;e<Ud.length;e++){var n=Ud[e][1],r=Ud[e][0];t[n]!=null&&(t[r]=t[n])}}function X1(i){i&&i.alignTo==="edge"&&i.margin!=null&&i.edgeDistance==null&&(i.edgeDistance=i.margin)}function Z1(i){i&&i.downplay&&!i.blur&&(i.blur=i.downplay)}function j1(i,t){if(i)for(var e=0;e<i.length;e++)t(i[e]),i[e]&&j1(i[e].children,t)}function q1(i,t){eD(i,t),i.series=je(i.series),D(i.series,function(e){if(ae(e)){var n=e.type;if(n==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(n==="pie"||n==="gauge"){if(e.clockWise!=null&&(e.clockwise=e.clockWise),X1(e.label),(a=e.data)&&!Ht(a))for(var r=0;r<a.length;r++)X1(a[r]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(n==="gauge"){var o=function(l,u){for(var h=u.split(","),c=l,p=0;p<h.length&&(c=c&&c[h[p]])!=null;p++);return c}(e,"pointer.color");o!=null&&function(l,u,h,c){for(var p,d=u.split(","),f=l,g=0;g<d.length-1;g++)f[p=d[g]]==null&&(f[p]={}),f=f[p];(c||f[d[g]]==null)&&(f[d[g]]=h)}(e,"itemStyle.color",o)}else if(n==="bar"){var a;if(Es(e),Es(e.backgroundStyle),Es(e.emphasis),(a=e.data)&&!Ht(a))for(r=0;r<a.length;r++)typeof a[r]=="object"&&(Es(a[r]),Es(a[r]&&a[r].emphasis))}else if(n==="sunburst"){var s=e.highlightPolicy;s&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=s)),Z1(e),j1(e.data,Z1)}else n==="graph"||n==="sankey"?function(l){l&&l.focusNodeAdjacency!=null&&(l.emphasis=l.emphasis||{},l.emphasis.focus==null&&(l.emphasis.focus="adjacency"))}(e):n==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&J(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),Y1(e)}}),i.dataRange&&(i.visualMap=i.dataRange),D(nD,function(e){var n=i[e];n&&(W(n)||(n=[n]),D(n,function(r){Y1(r)}))})}function iD(i){D(i,function(t,e){var n=[],r=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],a=t.data,s=t.isStackedByIndex,l=a.map(o,function(u,h,c){var p,d,f=a.get(t.stackedDimension,c);if(isNaN(f))return r;s?d=a.getRawIndex(c):p=a.get(t.stackedByDimension,c);for(var g=NaN,y=e-1;y>=0;y--){var m=i[y];if(s||(d=m.data.rawIndexOf(m.stackedByDimension,p)),d>=0){var v=m.data.getByRawIndex(m.stackResultDimension,d);if(f>=0&&v>0||f<=0&&v<0){f+=v,g=v;break}}}return n[0]=f,n[1]=g,n});a.hostModel.setData(l),t.data=l})}var ea,ta,na,K1,$1,Ku=function(t){this.data=t.data||(t.sourceFormat===Ps?{}:[]),this.sourceFormat=t.sourceFormat||k1,this.seriesLayoutBy=t.seriesLayoutBy||Zr,this.startIndex=t.startIndex||0,this.dimensionsDefine=t.dimensionsDefine,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.encodeDefine=t.encodeDefine,this.metaRawOption=t.metaRawOption};function $u(i){return i instanceof Ku}function Yd(i,t,e,n){e=e||Q1(i);var r=t.seriesLayoutBy,o=function(a,s,l,u,h){var c,p;if(!a)return{dimensionsDefine:e_(h),startIndex:p,dimensionsDetectedCount:c};if(s===di){var d=a;u==="auto"||u==null?t_(function(g){g!=null&&g!=="-"&&(be(g)?p==null&&(p=1):p=0)},l,d,10):p=ql(u)?u:u?1:0,h||p!==1||(h=[],t_(function(g,y){h[y]=g!=null?g+"":""},l,d,1/0)),c=h?h.length:l===Rd?d.length:d[0]?d[0].length:null}else if(s===Xr)h||(h=function(g){for(var y,m=0;m<g.length&&!(y=g[m++]););if(y){var v=[];return D(y,function(_,x){v.push(x)}),v}}(a));else if(s===Ps)h||(h=[],D(a,function(g,y){h.push(y)}));else if(s===$o){var f=rs(a[0]);c=W(f)&&f.length||1}return{startIndex:p,dimensionsDefine:e_(h),dimensionsDetectedCount:c}}(i,e,r,t.sourceHeader,t.dimensions);return new Ku({data:i,sourceFormat:e,seriesLayoutBy:r,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,encodeDefine:J1(n),metaRawOption:te(t)})}function Xd(i){return new Ku({data:i,sourceFormat:Ht(i)?Jo:$o})}function J1(i){return i?re(i):null}function Q1(i){var t=k1;if(Ht(i))t=Jo;else if(W(i)){i.length===0&&(t=di);for(var e=0,n=i.length;e<n;e++){var r=i[e];if(r!=null){if(W(r)){t=di;break}if(ae(r)){t=Xr;break}}}}else if(ae(i)){for(var o in i)if(ee(i,o)&&Be(i[o])){t=Ps;break}}return t}function e_(i){if(i){var t=re();return j(i,function(e,n){var r={name:(e=ae(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var o=t.get(r.name);return o?r.name+="-"+o.count++:t.set(r.name,{count:1}),r})}}function t_(i,t,e,n){if(t===Rd)for(var r=0;r<e.length&&r<n;r++)i(e[r]?e[r][0]:null,r);else{var o=e[0]||[];for(r=0;r<o.length&&r<n;r++)i(o[r],r)}}var rD=function(){function i(t,e){var n=$u(t)?t:Xd(t);this._source=n;var r=this._data=n.data;n.sourceFormat===Jo&&(this._offset=0,this._dimSize=e,this._data=r),$1(this,r,n)}return i.prototype.getSource=function(){return this._source},i.prototype.count=function(){return 0},i.prototype.getItem=function(t,e){},i.prototype.appendData=function(t){},i.prototype.clean=function(){},i.protoInitialize=function(){var t=i.prototype;t.pure=!1,t.persistent=!0}(),i.internalField=function(){var t;$1=function(s,l,u){var h=u.sourceFormat,c=u.seriesLayoutBy,p=u.startIndex,d=u.dimensionsDefine,f=K1[jd(h,c)];if(X(s,f),h===Jo)s.getItem=e,s.count=r,s.fillStorage=n;else{var g=i_(h,c);s.getItem=Q(g,null,l,p,d);var y=o_(h,c);s.count=Q(y,null,l,p,d)}};var e=function(s,l){s-=this._offset,l=l||[];for(var u=this._data,h=this._dimSize,c=h*s,p=0;p<h;p++)l[p]=u[c+p];return l},n=function(s,l,u,h){for(var c=this._data,p=this._dimSize,d=0;d<p;d++){for(var f=h[d],g=f[0]==null?1/0:f[0],y=f[1]==null?-1/0:f[1],m=l-s,v=u[d],_=0;_<m;_++){var x=c[_*p+d];v[s+_]=x,x<g&&(g=x),x>y&&(y=x)}f[0]=g,f[1]=y}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}(t={}).arrayRows_column={pure:!0,appendData:o},t.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t.objectRows={pure:!0,appendData:o},t.keyedColumns={pure:!0,appendData:function(s){var l=this._data;D(s,function(u,h){for(var c=l[h]||(l[h]=[]),p=0;p<(u||[]).length;p++)c.push(u[p])})}},t.original={appendData:o},t.typedArray={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},K1=t}(),i}(),n_=function(t,e,n,r){return t[r]},oD=((ea={}).arrayRows_column=function(i,t,e,n){return i[n+t]},ea.arrayRows_row=function(i,t,e,n){n+=t;for(var r=[],o=i,a=0;a<o.length;a++){var s=o[a];r.push(s?s[n]:null)}return r},ea.objectRows=n_,ea.keyedColumns=function(i,t,e,n){for(var r=[],o=0;o<e.length;o++){var a=e[o].name,s=i[a];r.push(s?s[n]:null)}return r},ea.original=n_,ea);function i_(i,t){var e=oD[jd(i,t)];return e}var r_=function(t,e,n){return t.length},aD=((ta={}).arrayRows_column=function(i,t,e){return Math.max(0,i.length-t)},ta.arrayRows_row=function(i,t,e){var n=i[0];return n?Math.max(0,n.length-t):0},ta.objectRows=r_,ta.keyedColumns=function(i,t,e){var n=e[0].name,r=i[n];return r?r.length:0},ta.original=r_,ta);function o_(i,t){var e=aD[jd(i,t)];return e}var Zd=function(t,e,n){return e!=null?t[e]:t},sD=((na={}).arrayRows=Zd,na.objectRows=function(i,t,e){return t!=null?i[e]:i},na.keyedColumns=Zd,na.original=function(i,t,e){var n=rs(i);return t!=null&&n instanceof Array?n[t]:n},na.typedArray=Zd,na);function a_(i){var t=sD[i];return t}function jd(i,t){return i===di?i+"_"+t:i}function jr(i,t,e){if(i){var n=i.getRawDataItem(t);if(n!=null){var r,o,a=i.getProvider().getSource().sourceFormat,s=i.getDimensionInfo(e);return s&&(r=s.name,o=s.index),a_(a)(n,o,r)}}}var lD=/\{@(.+?)\}/g,qd=function(){function i(){}return i.prototype.getDataParams=function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),o=n.getRawIndex(t),a=n.getName(t),s=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),u=l&&l[n.getItemVisual(t,"drawType")||"fill"],h=l&&l.stroke,c=this.mainType,p=c==="series",d=n.userOutput;return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:a,dataIndex:o,data:s,dataType:e,value:r,color:u,borderColor:h,dimensionNames:d?d.dimensionNames:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},i.prototype.getFormattedLabel=function(t,e,n,r,o,a){e=e||"normal";var s=this.getData(n),l=this.getDataParams(t,n);return a&&(l.value=a.interpolatedValue),r!=null&&W(l.value)&&(l.value=l.value[r]),o||(o=s.getItemModel(t).get(e==="normal"?["label","formatter"]:[e,"label","formatter"])),typeof o=="function"?(l.status=e,l.dimensionIndex=r,o(l)):typeof o=="string"?Pd(o,l).replace(lD,function(u,h){var c=h.length,p=h.charAt(0)==="["&&h.charAt(c-1)==="]"?+h.slice(1,c-1):h,d=jr(s,t,p);if(a&&W(a.interpolatedValue)){var f=s.getDimensionInfo(p);f&&(d=a.interpolatedValue[f.index])}return d!=null?d+"":""}):void 0},i.prototype.getRawValue=function(t,e){return jr(this.getData(e),t)},i.prototype.formatTooltip=function(t,e,n){},i}();function s_(i){var t,e;return ae(i)?i.type&&(e=i):t=i,{markupText:t,markupFragment:e}}function zs(i){return new uD(i)}var uD=function(){function i(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return i.prototype.perform=function(t){var e,n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var a,s=c(this._modBy),l=this._modDataCount||0,u=c(t&&t.modBy),h=t&&t.modDataCount||0;function c(v){return!(v>=1)&&(v=1),v}s===u&&l===h||(e="reset"),(this._dirty||e==="reset")&&(this._dirty=!1,a=this._doReset(r)),this._modBy=u,this._modDataCount=h;var p=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(p!=null?this._dueIndex+p:1/0,this._dueEnd);if(!r&&(a||d<f)){var g=this._progress;if(W(g))for(var y=0;y<g.length;y++)this._doProgress(g[y],d,f,u,h);else this._doProgress(g,d,f,u,h)}this._dueIndex=f;var m=this._settedOutputEnd!=null?this._settedOutputEnd:f;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},i.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},i.prototype._doProgress=function(t,e,n,r,o){l_.reset(e,n,r,o),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:l_.next},this.context)},i.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(n=e.forceFirstProgress,e=e.progress),W(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},i.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},i.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},i.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},i.prototype.getUpstream=function(){return this._upstream},i.prototype.getDownstream=function(){return this._downstream},i.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},i}(),l_=function(){var i,t,e,n,r,o={reset:function(u,h,c,p){t=u,i=h,e=c,n=p,r=Math.ceil(n/e),o.next=e>1&&n>0?s:a}};return o;function a(){return t<i?t++:null}function s(){var l=t%r*e+Math.ceil(t/r),u=t>=i?null:l<n?l:t;return t++,u}}();function Ju(i,t){var e=t&&t.type;if(e==="ordinal"){var n=t&&t.ordinalMeta;return n?n.parseAndCollect(i):i}return e==="time"&&typeof i!="number"&&i!=null&&i!=="-"&&(i=+Jt(i)),i==null||i===""?NaN:+i}var hD=re({number:function(t){return parseFloat(t)},time:function(t){return+Jt(t)},trim:function(t){return typeof t=="string"?Ii(t):t}});function u_(i){return hD.get(i)}var h_={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},cD=function(){function i(t,e){if(typeof e!="number"){var n="";Ce(n)}this._opFn=h_[t],this._rvalFloat=Un(e)}return i.prototype.evaluate=function(t){return typeof t=="number"?this._opFn(t,this._rvalFloat):this._opFn(Un(t),this._rvalFloat)},i}(),c_=function(){function i(t,e){var n=t==="desc";this._resultLT=n?1:-1,e==null&&(e=n?"min":"max"),this._incomparable=e==="min"?-1/0:1/0}return i.prototype.evaluate=function(t,e){var n=typeof t,r=typeof e,o=n==="number"?t:Un(t),a=r==="number"?e:Un(e),s=isNaN(o),l=isNaN(a);if(s&&(o=this._incomparable),l&&(a=this._incomparable),s&&l){var u=n==="string",h=r==="string";u&&(o=h?t:0),h&&(a=u?e:0)}return o<a?this._resultLT:o>a?-this._resultLT:0},i}(),pD=function(){function i(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Un(e)}return i.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||n!=="number"&&this._rvalTypeof!=="number"||(e=Un(t)===this._rvalFloat)}return this._isEQ?e:!e},i}();function dD(i,t){return i==="eq"||i==="ne"?new pD(i==="eq",t):ee(h_,i)?new cD(i,t):null}var fD=function(){function i(){}return i.prototype.getRawData=function(){throw new Error("not supported")},i.prototype.getRawDataItem=function(t){throw new Error("not supported")},i.prototype.cloneRawData=function(){},i.prototype.getDimensionInfo=function(t){},i.prototype.cloneAllDimensionInfo=function(){},i.prototype.count=function(){},i.prototype.retrieveValue=function(t,e){},i.prototype.retrieveValueFromItem=function(t,e){},i.prototype.convertValue=function(t,e){return Ju(t,e)},i}();function gD(i){var t=i.sourceFormat;if(!Kd(t)){var e="";Ce(e)}return i.data}function yD(i){var t=i.sourceFormat,e=i.data;if(!Kd(t)){var n="";Ce(n)}if(t===di){for(var r=[],o=0,a=e.length;o<a;o++)r.push(e[o].slice());return r}if(t===Xr){for(r=[],o=0,a=e.length;o<a;o++)r.push(X({},e[o]));return r}}function mD(i,t,e){if(e!=null)return typeof e=="number"||!isNaN(e)&&!ee(t,e)?i[e]:ee(t,e)?t[e]:void 0}function vD(i){return te(i)}var p_=re();function _D(i,t,e,n){var r="";t.length||Ce(r),ae(i)||Ce(r);var o=i.type,a=p_.get(o);a||Ce(r);var s=j(t,function(u){return function(h,c){var p=new fD,d=h.data,f=p.sourceFormat=h.sourceFormat,g=h.startIndex,y="";h.seriesLayoutBy!==Zr&&Ce(y);var m=[],v={},_=h.dimensionsDefine;if(_)D(_,function(I,T){var C=I.name,A={index:T,name:C,displayName:I.displayName};if(m.push(A),C!=null){var L="";ee(v,C)&&Ce(L),v[C]=A}});else for(var x=0;x<h.dimensionsDetectedCount;x++)m.push({index:x});var b=i_(f,Zr);c.__isBuiltIn&&(p.getRawDataItem=function(I){return b(d,g,m,I)},p.getRawData=Q(gD,null,h)),p.cloneRawData=Q(yD,null,h);var w=o_(f,Zr);p.count=Q(w,null,d,g,m);var S=a_(f);p.retrieveValue=function(I,T){var C=b(d,g,m,I);return M(C,T)};var M=p.retrieveValueFromItem=function(I,T){if(I!=null){var C=m[T];return C?S(I,T,C.name):void 0}};return p.getDimensionInfo=Q(mD,null,m,v),p.cloneAllDimensionInfo=Q(vD,null,m),p}(u,a)}),l=je(a.transform({upstream:s[0],upstreamList:s,config:te(i.config)}));return j(l,function(u,h){var c,p="";ae(u)||Ce(p),u.data||Ce(p),Kd(Q1(u.data))||Ce(p);var d=t[0];if(d&&h===0&&!u.dimensions){var f=d.startIndex;f&&(u.data=d.data.slice(0,f).concat(u.data)),c={seriesLayoutBy:Zr,sourceHeader:f,dimensions:d.metaRawOption.dimensions}}else c={seriesLayoutBy:Zr,sourceHeader:0,dimensions:u.dimensions};return Yd(u.data,c,null,null)})}function Kd(i){return i===di||i===Xr}var d_=function(){function i(t){this._sourceList=[],this._upstreamSignList=[],this._versionSignBase=0,this._sourceHost=t}return i.prototype.dirty=function(){this._setLocalSource([],[])},i.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},i.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},i.prototype.prepareSource=function(){this._isDirty()&&this._createSource()},i.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length;if($d(n)){var a=n,s=void 0,l=void 0,u=void 0;if(o){var h=r[0];h.prepareSource(),s=(u=h.getSource()).data,l=u.sourceFormat,e=[h._getVersionSign()]}else l=Ht(s=a.get("data",!0))?Jo:$o,e=[];var c=this._getSourceMetaRawOption(),p=u?u.metaRawOption:null;t=[Yd(s,{seriesLayoutBy:we(c.seriesLayoutBy,p?p.seriesLayoutBy:null),sourceHeader:we(c.sourceHeader,p?p.sourceHeader:null),dimensions:we(c.dimensions,p?p.dimensions:null)},l,a.get("encode",!0))]}else{var d=n;if(o){var f=this._applyTransform(r);t=f.sourceList,e=f.upstreamSignList}else t=[Yd(d.get("source",!0),this._getSourceMetaRawOption(),null,null)],e=[]}this._setLocalSource(t,e)},i.prototype._applyTransform=function(t){var e,n=this._sourceHost,r=n.get("transform",!0),o=n.get("fromTransformResult",!0);if(o!=null){var a="";t.length!==1&&g_(a)}var s,l=[],u=[];return D(t,function(h){h.prepareSource();var c=h.getSource(o||0),p="";o==null||c||g_(p),l.push(c),u.push(h._getVersionSign())}),r?e=function(h,c,p){var d=je(h),f=d.length,g="";f||Ce(g);for(var y=0,m=f;y<m;y++)c=_D(d[y],c),y!==m-1&&(c.length=Math.max(c.length,1));return c}(r,l,n.componentIndex):o!=null&&(e=[(s=l[0],new Ku({data:s.data,sourceFormat:s.sourceFormat,seriesLayoutBy:s.seriesLayoutBy,dimensionsDefine:te(s.dimensionsDefine),startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount,encodeDefine:J1(s.encodeDefine)}))]),{sourceList:e,upstreamSignList:u}},i.prototype._isDirty=function(){if(!this._sourceList.length)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},i.prototype.getSource=function(t){return this._sourceList[t||0]},i.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if($d(t)){var e=zd(t);return e?[e.getSourceManager()]:[]}return j(function(n){return n.get("transform",!0)||n.get("fromTransformResult",!0)?ss(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},lt).models:[]}(t),function(n){return n.getSourceManager()})},i.prototype._getSourceMetaRawOption=function(){var t,e,n,r=this._sourceHost;if($d(r))t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),n=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=r;t=o.get("seriesLayoutBy",!0),e=o.get("sourceHeader",!0),n=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},i}();function f_(i){i.option.transform&&Ba(i.option.transform)}function $d(i){return i.mainType==="series"}function g_(i){throw new Error(i)}function y_(i,t){var e=i.color||"#6e7079",n=i.fontSize||12,r=i.fontWeight||"400",o=i.color||"#464646",a=i.fontSize||14,s=i.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+Xt(n+"")+"px;color:"+Xt(e)+";font-weight:"+Xt(r+""),valueStyle:"font-size:"+Xt(a+"")+"px;color:"+Xt(o)+";font-weight:"+Xt(s+"")}:{nameStyle:{fontSize:n,fill:e,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var xD=[0,10,20,30],bD=["",`
`,`

`,`


`];function _t(i,t){return t.type=i,t}function Jd(i){return ee(m_,i.type)&&m_[i.type]}var m_={section:{planLayout:function(t){var e=t.blocks.length,n=e>1||e>0&&!t.noHeader,r=0;D(t.blocks,function(o){Jd(o).planLayout(o);var a=o.__gapLevelBetweenSubBlocks;a>=r&&(r=a+(!n||a&&(o.type!=="section"||o.noHeader)?0:1))}),t.__gapLevelBetweenSubBlocks=r},build:function(t,e,n,r){var o=e.noHeader,a=__(e),s=function(h,c,p,d){var f=[],g=c.blocks||[];Tt(!g||W(g)),g=g||[];var y=h.orderMode;if(c.sortBlocks&&y){g=g.slice();var m={valueAsc:"asc",valueDesc:"desc"};if(ee(m,y)){var v=new c_(m[y],null);g.sort(function(x,b){return v.evaluate(x.sortParam,b.sortParam)})}else y==="seriesDesc"&&g.reverse()}var _=__(c);if(D(g,function(x,b){var w=Jd(x).build(h,x,b>0?_.html:0,d);w!=null&&f.push(w)}),!!f.length)return h.renderMode==="richText"?f.join(_.richText):Qd(f.join(""),p)}(t,e,o?n:a.html,r);if(o)return s;var l=Yu(e.header,"ordinal",t.useUTC),u=y_(r,t.renderMode).nameStyle;return t.renderMode==="richText"?x_(t,l,u)+a.richText+s:Qd('<div style="'+u+';line-height:1;">'+Xt(l)+"</div>"+s,n)}},nameValue:{planLayout:function(t){t.__gapLevelBetweenSubBlocks=0},build:function(t,e,n,r){var o=t.renderMode,a=e.noName,s=e.noValue,l=!e.markerType,u=e.name,h=e.value,c=t.useUTC;if(!a||!s){var p=l?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",o),d=a?"":Yu(u,"ordinal",c),f=e.valueType,g=s?[]:W(h)?j(h,function(b,w){return Yu(b,W(f)?f[w]:f,c)}):[Yu(h,W(f)?f[0]:f,c)],y=!l||!a,m=!l&&a,v=y_(r,o),_=v.nameStyle,x=v.valueStyle;return o==="richText"?(l?"":p)+(a?"":x_(t,d,_))+(s?"":function(b,w,S,M,I){var T=[I],C=M?10:20;return S&&T.push({padding:[0,0,0,C],align:"right"}),b.markupStyleCreator.wrapRichTextStyle(w.join("  "),T)}(t,g,y,m,x)):Qd((l?"":p)+(a?"":function(b,w,S){return'<span style="'+S+";"+(w?"margin-left:2px":"")+'">'+Xt(b)+"</span>"}(d,!l,_))+(s?"":function(b,w,S,M){var I=S?"10px":"20px";return'<span style="'+(w?"float:right;margin-left:"+I:"")+";"+M+'">'+j(b,function(T){return Xt(T)}).join("&nbsp;&nbsp;")+"</span>"}(g,y,m,x)),n)}}}};function v_(i,t,e,n,r,o){if(i){var a=Jd(i);a.planLayout(i);var s={useUTC:r,renderMode:e,orderMode:n,markupStyleCreator:t};return a.build(s,i,0,o)}}function __(i){var t=i.__gapLevelBetweenSubBlocks;return{html:xD[t],richText:bD[t]}}function Qd(i,t){return'<div style="'+("margin: "+t+"px 0 0")+';line-height:1;">'+i+'<div style="clear:both"></div></div>'}function x_(i,t,e){return i.markupStyleCreator.wrapRichTextStyle(t,e)}function b_(i,t){return Wr(i.getData().getItemVisual(t,"style")[i.visualDrawType])}function w_(i,t){var e=i.get("padding");return e!=null?e:t==="richText"?[8,10]:10}var ef=function(){function i(){this.richTextStyles={},this._nextStyleNameId=Dv()}return i.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},i.prototype.makeTooltipMarker=function(t,e,n){var r=n==="richText"?this._generateStyleName():null,o=T1({color:e,type:t,renderMode:n,markerId:r});return be(o)?o:(this.richTextStyles[r]=o.style,o.content)},i.prototype.wrapRichTextStyle=function(t,e){var n={};W(e)?D(e,function(o){return X(n,o)}):X(n,e);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+t+"}"},i}();function S_(i){var t,e,n,r,o=i.series,a=i.dataIndex,s=i.multipleSeries,l=o.getData(),u=l.mapDimensionsAll("defaultedTooltip"),h=u.length,c=o.getRawValue(a),p=W(c),d=b_(o,a);if(h>1||p&&!h){var f=function(x,b,w,S,M){var I=b.getData(),T=An(x,function(P,O,R){var N=I.getDimensionInfo(R);return P||N&&N.tooltip!==!1&&N.displayName!=null},!1),C=[],A=[],L=[];function k(P,O){var R=I.getDimensionInfo(O);R&&R.otherDims.tooltip!==!1&&(T?L.push(_t("nameValue",{markerType:"subItem",markerColor:M,name:R.displayName,value:P,valueType:R.type})):(C.push(P),A.push(R.type)))}return S.length?D(S,function(P){k(jr(I,w,P),P)}):D(x,k),{inlineValues:C,inlineValueTypes:A,blocks:L}}(c,o,a,u,d);t=f.inlineValues,e=f.inlineValueTypes,n=f.blocks,r=f.inlineValues[0]}else if(h){var g=l.getDimensionInfo(u[0]);r=t=jr(l,a,u[0]),e=g.type}else r=t=p?c[0]:c;var y=Lp(o),m=y&&o.name||"",v=l.getName(a),_=s?m:v;return _t("section",{header:m,noHeader:s||!y,sortParam:r,blocks:[_t("nameValue",{markerType:"item",markerColor:d,name:_,noName:!Ii(_),value:t,valueType:e})].concat(n||[])})}var Xi=Ne();function Qu(i,t){return i.getName(t)||i.getId(t)}var ze=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return z(t,i),t.prototype.init=function(e,n,r){this.seriesIndex=this.componentIndex,this.dataTask=zs({count:wD,reset:SD}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),(Xi(this).sourceManager=new d_(this)).prepareSource();var o=this.getInitialData(e,r);I_(o,this),this.dataTask.context.data=o,Xi(this).dataBeforeProcessed=o,M_(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,n){var r=ks(this),o=r?qo(e):{},a=this.subType;ve.hasClass(a)&&(a+="Series"),de(e,n.getTheme().get(this.subType)),de(e,this.getDefaultOption()),Sr(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&Yi(e,o,r)},t.prototype.mergeOption=function(e,n){e=de(this.option,e,!0),this.fillDataTextStyle(e.data);var r=ks(this);r&&Yi(this.option,e,r);var o=Xi(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(e,n);I_(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,Xi(this).dataBeforeProcessed=a,M_(this),this._initSelectedMapFromData(a)},t.prototype.fillDataTextStyle=function(e){if(e&&!Ht(e))for(var n=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&Sr(e[r],"label",n)},t.prototype.getInitialData=function(e,n){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var n=tf(this);if(n){var r=n.context.data;return e==null?r:r.getLinkedData(e)}return Xi(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var n=tf(this);if(n){var r=n.context;r.outputData=e,n!==this.dataTask&&(r.data=e)}Xi(this).data=e},t.prototype.getSource=function(){return Xi(this).sourceManager.getSource()},t.prototype.getRawData=function(){return Xi(this).dataBeforeProcessed},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,n,r){return S_({series:this,dataIndex:e,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){if(ue.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,n,r){var o=this.ecModel,a=Vd.prototype.getColorFromPalette.call(this,e,n,r);return a||(a=o.getColorFromPalette(e,n,r)),a},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,n){this._innerSelect(this.getData(n),e)},t.prototype.unselect=function(e,n){var r=this.option.selectedMap;if(r)for(var o=this.getData(n),a=0;a<e.length;a++){var s=Qu(o,e[a]);r[s]=!1,this._selectedDataIndicesMap[s]=-1}},t.prototype.toggleSelect=function(e,n){for(var r=[],o=0;o<e.length;o++)r[0]=e[o],this.isSelected(e[o],n)?this.unselect(r,n):this.select(r,n)},t.prototype.getSelectedDataIndices=function(){for(var e=this._selectedDataIndicesMap,n=ke(e),r=[],o=0;o<n.length;o++){var a=e[n[o]];a>=0&&r.push(a)}return r},t.prototype.isSelected=function(e,n){var r=this.option.selectedMap;return r&&r[Qu(this.getData(n),e)]||!1},t.prototype._innerSelect=function(e,n){var r,o,a=this.option.selectedMode,s=n.length;if(a&&s){if(a==="multiple")for(var l=this.option.selectedMap||(this.option.selectedMap={}),u=0;u<s;u++){var h=n[u];l[p=Qu(e,h)]=!0,this._selectedDataIndicesMap[p]=e.getRawIndex(h)}else if(a==="single"||a===!0){var c=n[s-1],p=Qu(e,c);this.option.selectedMap=((r={})[p]=!0,r),this._selectedDataIndicesMap=((o={})[p]=e.getRawIndex(c),o)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var n=[];e.hasItemOption&&e.each(function(r){var o=e.getRawDataItem(r);o&&o.selected&&n.push(r)}),n.length>0&&this._innerSelect(e,n)}},t.registerClass=function(e){return ve.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.useColorPaletteOnData=!1,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}(ve);function M_(i){var t=i.name;Lp(i)||(i.name=function(e){var n=e.getRawData(),r=n.mapDimensionsAll("seriesName"),o=[];return D(r,function(a){var s=n.getDimensionInfo(a);s.displayName&&o.push(s.displayName)}),o.join(" ")}(i)||t)}function wD(i){return i.model.getRawData().count()}function SD(i){var t=i.model;return t.setData(t.getRawData().cloneShallow()),MD}function MD(i,t){t.outputData&&i.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function I_(i,t){D(Yl(i.CHANGABLE_METHODS,i.DOWNSAMPLE_METHODS),function(e){i.wrapMethod(e,he(ID,t))})}function ID(i,t){var e=tf(i);return e&&e.setOutputEnd((t||this).count()),t}function tf(i){var t=(i.ecModel||{}).scheduler,e=t&&t.getPipeline(i.uid);if(e){var n=e.currentTask;if(n){var r=n.agentStubMap;r&&(n=r.get(i.uid))}return n}}We(ze,qd),We(ze,Vd),Fv(ze,ve);var Ye=function(){function i(){this.group=new oe,this.uid=Xo("viewComponent")}return i.prototype.init=function(t,e){},i.prototype.render=function(t,e,n,r){},i.prototype.dispose=function(t,e){},i.prototype.updateView=function(t,e,n,r){},i.prototype.updateLayout=function(t,e,n,r){},i.prototype.updateVisual=function(t,e,n,r){},i.prototype.blurSeries=function(t,e){},i}();function ia(){var i=Ne();return function(t){var e=i(t),n=t.pipelineContext,r=!!e.large,o=!!e.progressiveRender,a=e.large=!(!n||!n.large),s=e.progressiveRender=!(!n||!n.progressiveRender);return!(r===a&&o===s)&&"reset"}}Op(Ye),cu(Ye);var T_=Ne(),TD=ia(),Re=function(){function i(){this.group=new oe,this.uid=Xo("viewChart"),this.renderTask=zs({plan:CD,reset:AD}),this.renderTask.context={view:this}}return i.prototype.init=function(t,e){},i.prototype.render=function(t,e,n,r){},i.prototype.highlight=function(t,e,n,r){A_(t.getData(),r,"emphasis")},i.prototype.downplay=function(t,e,n,r){A_(t.getData(),r,"normal")},i.prototype.remove=function(t,e){this.group.removeAll()},i.prototype.dispose=function(t,e){},i.prototype.updateView=function(t,e,n,r){this.render(t,e,n,r)},i.prototype.updateLayout=function(t,e,n,r){this.render(t,e,n,r)},i.prototype.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},i.markUpdateMethod=function(t,e){T_(t).updateMethod=e},i.protoInitialize=void(i.prototype.type="chart"),i}();function C_(i,t,e){i&&(t==="emphasis"?Jn:Qn)(i,e)}function A_(i,t,e){var n=Mr(i,t),r=t&&t.highlightKey!=null?function(o){var a=m0[o];return a==null&&y0<=32&&(a=m0[o]=y0++),a}(t.highlightKey):null;n!=null?D(je(n),function(o){C_(i.getItemGraphicEl(o),e,r)}):i.eachItemGraphicEl(function(o){C_(o,e,r)})}function CD(i){return TD(i.model)}function AD(i){var t=i.model,e=i.ecModel,n=i.api,r=i.payload,o=t.pipelineContext.progressiveRender,a=i.view,s=r&&T_(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return l!=="render"&&a[l](t,e,n,r),DD[l]}Op(Re),cu(Re);var DD={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},eh="\0__throttleOriginMethod",D_="\0__throttleRate",L_="\0__throttleType";function th(i,t,e){var n,r,o,a,s,l=0,u=0,h=null;function c(){u=new Date().getTime(),h=null,i.apply(o,a||[])}t=t||0;var p=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];n=new Date().getTime(),o=this,a=f;var y=s||t,m=s||e;s=null,r=n-(m?l:u)-y,clearTimeout(h),m?h=setTimeout(c,y):r>=0?c():h=setTimeout(c,-r),l=n};return p.clear=function(){h&&(clearTimeout(h),h=null)},p.debounceNextCall=function(d){s=d},p}function Bs(i,t,e,n){var r=i[t];if(r){var o=r[eh]||r,a=r[L_];if(r[D_]!==e||a!==n){if(e==null||!n)return i[t]=o;(r=i[t]=th(o,e,n==="debounce"))[eh]=o,r[L_]=n,r[D_]=e}return r}}var k_=Ne(),P_={itemStyle:Cr(Sd,!0),lineStyle:Cr(wd,!0)},LD={lineStyle:"stroke",itemStyle:"fill"};function O_(i,t){var e=i.visualStyleMapper||P_[t];return e||(console.warn("Unkown style type '"+t+"'."),P_.itemStyle)}function R_(i,t){var e=i.visualDrawType||LD[t];return e||(console.warn("Unkown style type '"+t+"'."),"fill")}var kD={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",o=t.getModel(r),a=O_(t,r)(o),s=o.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=R_(t,r),u=a[l],h=Pe(u)?u:null,c=a.fill==="auto"||a.stroke==="auto";if(!a[l]||h||c){var p=t.getColorFromPalette(t.name,null,e.getSeriesCount());a[l]||(a[l]=p,n.setVisual("colorFromPalette",!0)),a.fill=a.fill==="auto"||typeof a.fill=="function"?p:a.fill,a.stroke=a.stroke==="auto"||typeof a.stroke=="function"?p:a.stroke}if(n.setVisual("style",a),n.setVisual("drawType",l),!e.isSeriesFiltered(t)&&h)return n.setVisual("colorFromPalette",!1),{dataEach:function(f,g){var y=t.getDataParams(g),m=X({},a);m[l]=h(y),f.setItemVisual(g,"style",m)}}}},Vs=new Ae,PD={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",o=O_(t,r),a=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(s,l){var u=s.getRawDataItem(l);if(u&&u[r]){Vs.option=u[r];var h=o(Vs);X(s.ensureUniqueItemVisual(l,"style"),h),Vs.option.decal&&(s.setItemVisual(l,"decal",Vs.option.decal),Vs.option.decal.dirty=!0),a in h&&s.setItemVisual(l,"colorFromPalette",!1)}}:null}}}},OD={performRawSeries:!0,overallReset:function(t){var e=re();t.eachSeries(function(n){if(n.useColorPaletteOnData){var r=e.get(n.type);r||(r={},e.set(n.type,r)),k_(n).scope=r}}),t.eachSeries(function(n){if(n.useColorPaletteOnData&&!t.isSeriesFiltered(n)){var r=n.getRawData(),o={},a=n.getData(),s=k_(n).scope,l=n.visualStyleAccessPath||"itemStyle",u=R_(n,l);a.each(function(h){var c=a.getRawIndex(h);o[c]=h}),r.each(function(h){var c=o[h];if(a.getItemVisual(c,"colorFromPalette")){var p=a.ensureUniqueItemVisual(c,"style"),d=r.getName(h)||h+"",f=r.count();p[u]=n.getColorFromPalette(d,s,f)}})}})}},nh=Math.PI,N_=function(){function i(t,e,n,r){this._stageTaskMap=re(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return i.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(n){var r=n.overallTask;r&&r.dirty()})},i.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,o=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,a=r&&r.modDataCount;return{step:o,modBy:a!=null?Math.ceil(a/o):null,modDataCount:a}}},i.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},i.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData().count(),o=n.progressiveEnabled&&e.incrementalPrepareRender&&r>=n.threshold,a=t.get("large")&&r>=t.get("largeThreshold"),s=t.get("progressiveChunkMode")==="mod"?r:null;t.pipelineContext=n.context={progressiveRender:o,modDataCount:s,large:a}},i.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=re();t.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;n.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),e._pipe(r,r.dataTask)})},i.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;D(this._allHandlers,function(r){var o=t.get(r.uid)||t.set(r.uid,{}),a="";Tt(!(r.reset&&r.overallReset),a),r.reset&&this._createSeriesStageTask(r,o,e,n),r.overallReset&&this._createOverallStageTask(r,o,e,n)},this)},i.prototype.prepareView=function(t,e,n,r){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=n,a.api=r,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},i.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},i.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},i.prototype._performStageTasks=function(t,e,n,r){r=r||{};var o=!1,a=this;function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}D(t,function(l,u){if(!r.visualType||r.visualType===l.visualType){var h=a._stageTaskMap.get(l.uid),c=h.seriesTaskMap,p=h.overallTask;if(p){var d,f=p.agentStubMap;f.each(function(y){s(r,y)&&(y.dirty(),d=!0)}),d&&p.dirty(),a.updatePayload(p,n);var g=a.getPerformArgs(p,r.block);f.each(function(y){y.perform(g)}),p.perform(g)&&(o=!0)}else c&&c.each(function(y,m){s(r,y)&&y.dirty();var v=a.getPerformArgs(y,r.block);v.skip=!l.performRawSeries&&e.isSeriesFiltered(y.context.model),a.updatePayload(y,n),y.perform(v)&&(o=!0)})}}),this.unfinished=o||this.unfinished},i.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(n){e=n.dataTask.perform()||e}),this.unfinished=e||this.unfinished},i.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},i.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)},i.prototype._createSeriesStageTask=function(t,e,n,r){var o=this,a=e.seriesTaskMap,s=e.seriesTaskMap=re(),l=t.seriesType,u=t.getTargetSeries;function h(c){var p=c.uid,d=s.set(p,a&&a.get(p)||zs({plan:BD,reset:VD,count:FD}));d.context={model:c,ecModel:n,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(c,d)}t.createOnAllSeries?n.eachRawSeries(h):l?n.eachRawSeriesByType(l,h):u&&u(n,r).each(h)},i.prototype._createOverallStageTask=function(t,e,n,r){var o=this,a=e.overallTask=e.overallTask||zs({reset:RD});a.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=re(),u=t.seriesType,h=t.getTargetSeries,c=!0,p=!1,d="";function f(g){var y=g.uid,m=l.set(y,s&&s.get(y)||(p=!0,zs({reset:ND,onDirty:zD})));m.context={model:g,overallProgress:c},m.agent=a,m.__block=c,o._pipe(g,m)}Tt(!t.createOnAllSeries,d),u?n.eachRawSeriesByType(u,f):h?h(n,r).each(f):(c=!1,D(n.getSeries(),f)),p&&a.dirty()},i.prototype._pipe=function(t,e){var n=t.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},i.wrapStageHandler=function(t,e){return Pe(t)&&(t={overallReset:t,seriesType:HD(t)}),t.uid=Xo("stageHandler"),e&&(t.visualType=e),t},i}();function RD(i){i.overallReset(i.ecModel,i.api,i.payload)}function ND(i){return i.overallProgress&&ED}function ED(){this.agent.dirty(),this.getDownstream().dirty()}function zD(){this.agent&&this.agent.dirty()}function BD(i){return i.plan?i.plan(i.model,i.ecModel,i.api,i.payload):null}function VD(i){i.useClearVisual&&i.data.clearAllVisual();var t=i.resetDefines=je(i.reset(i.model,i.ecModel,i.api,i.payload));return t.length>1?j(t,function(e,n){return E_(n)}):GD}var GD=E_(0);function E_(i){return function(t,e){var n=e.data,r=e.resetDefines[i];if(r&&r.dataEach)for(var o=t.start;o<t.end;o++)r.dataEach(n,o);else r&&r.progress&&r.progress(t,n)}}function FD(i){return i.data.count()}function HD(i){ih=null;try{i(Gs,z_)}catch(t){}return ih}var ih,Gs={},z_={};function B_(i,t){for(var e in t.prototype)i[e]=sn}B_(Gs,Fd),B_(z_,H1),Gs.eachSeriesByType=Gs.eachRawSeriesByType=function(i){ih=i},Gs.eachComponent=function(i){i.mainType==="series"&&i.subType&&(ih=i.subType)};var V_=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],WD={color:V_,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],V_]},Bt="#B9B8CE",G_="#100C2A",rh=function(){return{axisLine:{lineStyle:{color:Bt}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},F_=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],H_={darkMode:!0,color:F_,backgroundColor:G_,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Bt}},textStyle:{color:Bt},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Bt}},dataZoom:{borderColor:"#71708A",textStyle:{color:Bt},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Bt}},timeline:{lineStyle:{color:Bt},label:{color:Bt},controlStyle:{color:Bt,borderColor:Bt}},calendar:{itemStyle:{color:G_},dayLabel:{color:Bt},monthLabel:{color:Bt},yearLabel:{color:Bt}},timeAxis:rh(),logAxis:rh(),valueAxis:rh(),categoryAxis:rh(),line:{symbol:"circle"},graph:{color:F_},gauge:{title:{color:Bt},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Bt},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};H_.categoryAxis.splitLine.show=!1;var UD=function(){function i(){}return i.prototype.normalizeQuery=function(t){var e={},n={},r={};if(be(t)){var o=Yn(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};D(t,function(l,u){for(var h=!1,c=0;c<a.length;c++){var p=a[c],d=u.lastIndexOf(p);if(d>0&&d===u.length-p.length){var f=u.slice(0,d);f!=="data"&&(e.mainType=f,e[p.toLowerCase()]=l,h=!0)}}s.hasOwnProperty(u)&&(n[u]=l,h=!0),h||(r[u]=l)})}return{cptQuery:e,dataQuery:n,otherQuery:r}},i.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,o=n.packedEvent,a=n.model,s=n.view;if(!a||!s)return!0;var l=e.cptQuery,u=e.dataQuery;return h(l,a,"mainType")&&h(l,a,"subType")&&h(l,a,"index","componentIndex")&&h(l,a,"name")&&h(l,a,"id")&&h(u,o,"name")&&h(u,o,"dataIndex")&&h(u,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,r,o));function h(c,p,d,f){return c[d]==null||p[f||d]===c[d]}},i.prototype.afterTrigger=function(){this.eventInfo=null},i}(),YD={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendSymbol&&n.setVisual("legendSymbol",t.legendSymbol),t.hasSymbolVisual){var r=t.get("symbol"),o=t.get("symbolSize"),a=t.get("symbolKeepAspect"),s=t.get("symbolRotate"),l=t.get("symbolOffset"),u=Pe(r),h=Pe(o),c=Pe(s),p=Pe(l),d=u||h||c||p,f=!u&&r?r:t.defaultSymbol,g=h?null:o,y=c?null:s,m=p?null:l;if(n.setVisual({legendSymbol:t.legendSymbol||f,symbol:f,symbolSize:g,symbolKeepAspect:a,symbolRotate:y,symbolOffset:m}),!e.isSeriesFiltered(t))return{dataEach:d?function(v,_){var x=t.getRawValue(_),b=t.getDataParams(_);u&&v.setItemVisual(_,"symbol",r(x,b)),h&&v.setItemVisual(_,"symbolSize",o(x,b)),c&&v.setItemVisual(_,"symbolRotate",s(x,b)),p&&v.setItemVisual(_,"symbolOffset",l(x,b))}:null}}}};function nf(i,t,e){switch(e){case"color":return i.getItemVisual(t,"style")[i.getVisual("drawType")];case"opacity":return i.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getItemVisual(t,e);default:}}function Fs(i,t){switch(t){case"color":return i.getVisual("style")[i.getVisual("drawType")];case"opacity":return i.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getVisual(t);default:}}function W_(i,t,e,n){switch(e){case"color":i.ensureUniqueItemVisual(t,"style")[i.getVisual("drawType")]=n,i.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":i.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":i.setItemVisual(t,e,n);break;default:}}var Hs=2*Math.PI,qr=$n.CMD,XD=["top","right","bottom","left"];function ZD(i,t,e,n,r){var o=e.width,a=e.height;switch(i){case"top":n.set(e.x+o/2,e.y-t),r.set(0,-1);break;case"bottom":n.set(e.x+o/2,e.y+a+t),r.set(0,1);break;case"left":n.set(e.x-t,e.y+a/2),r.set(-1,0);break;case"right":n.set(e.x+o+t,e.y+a/2),r.set(1,0)}}function jD(i,t,e,n,r,o,a,s,l){a-=i,s-=t;var u=Math.sqrt(a*a+s*s),h=(a/=u)*e+i,c=(s/=u)*e+t;if(Math.abs(n-r)%Hs<1e-4)return l[0]=h,l[1]=c,u-e;if(o){var p=n;n=Gi(r),r=Gi(p)}else n=Gi(n),r=Gi(r);n>r&&(r+=Hs);var d=Math.atan2(s,a);if(d<0&&(d+=Hs),d>=n&&d<=r||d+Hs>=n&&d+Hs<=r)return l[0]=h,l[1]=c,u-e;var f=e*Math.cos(n)+i,g=e*Math.sin(n)+t,y=e*Math.cos(r)+i,m=e*Math.sin(r)+t,v=(f-a)*(f-a)+(g-s)*(g-s),_=(y-a)*(y-a)+(m-s)*(m-s);return v<_?(l[0]=f,l[1]=g,Math.sqrt(v)):(l[0]=y,l[1]=m,Math.sqrt(_))}function oh(i,t,e,n,r,o,a,s){var l=r-i,u=o-t,h=e-i,c=n-t,p=Math.sqrt(h*h+c*c),d=(l*(h/=p)+u*(c/=p))/p;s&&(d=Math.min(Math.max(d,0),1)),d*=p;var f=a[0]=i+d*h,g=a[1]=t+d*c;return Math.sqrt((f-r)*(f-r)+(g-o)*(g-o))}function U_(i,t,e,n,r,o,a){e<0&&(i+=e,e=-e),n<0&&(t+=n,n=-n);var s=i+e,l=t+n,u=a[0]=Math.min(Math.max(r,i),s),h=a[1]=Math.min(Math.max(o,t),l);return Math.sqrt((u-r)*(u-r)+(h-o)*(h-o))}var Bn=[];function qD(i,t,e){var n=U_(t.x,t.y,t.width,t.height,i.x,i.y,Bn);return e.set(Bn[0],Bn[1]),n}function KD(i,t,e){for(var n,r,o=0,a=0,s=0,l=0,u=1/0,h=t.data,c=i.x,p=i.y,d=0;d<h.length;){var f=h[d++];d===1&&(s=o=h[d],l=a=h[d+1]);var g=u;switch(f){case qr.M:o=s=h[d++],a=l=h[d++];break;case qr.L:g=oh(o,a,h[d],h[d+1],c,p,Bn,!0),o=h[d++],a=h[d++];break;case qr.C:g=Qv(o,a,h[d++],h[d++],h[d++],h[d++],h[d],h[d+1],c,p,Bn),o=h[d++],a=h[d++];break;case qr.Q:g=t0(o,a,h[d++],h[d++],h[d],h[d+1],c,p,Bn),o=h[d++],a=h[d++];break;case qr.A:var y=h[d++],m=h[d++],v=h[d++],_=h[d++],x=h[d++],b=h[d++];d+=1;var w=!!(1-h[d++]);n=Math.cos(x)*v+y,r=Math.sin(x)*_+m,d<=1&&(s=n,l=r),g=jD(y,m,_,x,x+b,w,(c-y)*_/v+y,p,Bn),o=Math.cos(x+b)*v+y,a=Math.sin(x+b)*_+m;break;case qr.R:g=U_(s=o=h[d++],l=a=h[d++],h[d++],h[d++],c,p,Bn);break;case qr.Z:g=oh(o,a,s,l,c,p,Bn,!0),o=s,a=l}g<u&&(u=g,e.set(Bn[0],Bn[1]))}return u}var Vn=new xe,Xe=new xe,rt=new xe,ei=new xe,ti=new xe;function Y_(i,t){if(i){var e=i.getTextGuideLine(),n=i.getTextContent();if(n&&e){var r=i.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||XD,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,u=r.anchor,h=i.getComputedTransform(),c=h&&fr([],h),p=t.get("length2")||0;u&&rt.copy(u);for(var d=0;d<a.length;d++){ZD(a[d],0,s,Vn,ei),xe.scaleAndAdd(Xe,Vn,ei,p),Xe.transform(c);var f=i.getBoundingRect(),g=u?u.distance(Xe):i instanceof Me?KD(Xe,i.path,rt):qD(Xe,f,rt);g<l&&(l=g,Xe.transform(h),rt.transform(h),rt.toArray(o[0]),Xe.toArray(o[1]),Vn.toArray(o[2]))}X_(o,t.get("minTurnAngle")),e.setShape({points:o})}}}var ah=[],Vt=new xe;function X_(i,t){if(t<=180&&t>0){t=t/180*Math.PI,Vn.fromArray(i[0]),Xe.fromArray(i[1]),rt.fromArray(i[2]),xe.sub(ei,Vn,Xe),xe.sub(ti,rt,Xe);var e=ei.len(),n=ti.len();if(!(e<.001||n<.001)){ei.scale(1/e),ti.scale(1/n);var r=ei.dot(ti);if(Math.cos(t)<r){var o=oh(Xe.x,Xe.y,rt.x,rt.y,Vn.x,Vn.y,ah,!1);Vt.fromArray(ah),Vt.scaleAndAdd(ti,o/Math.tan(Math.PI-t));var a=rt.x!==Xe.x?(Vt.x-Xe.x)/(rt.x-Xe.x):(Vt.y-Xe.y)/(rt.y-Xe.y);if(isNaN(a))return;a<0?xe.copy(Vt,Xe):a>1&&xe.copy(Vt,rt),Vt.toArray(i[1])}}}}function $D(i,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Vn.fromArray(i[0]),Xe.fromArray(i[1]),rt.fromArray(i[2]),xe.sub(ei,Xe,Vn),xe.sub(ti,rt,Xe);var n=ei.len(),r=ti.len();if(!(n<.001||r<.001)&&(ei.scale(1/n),ti.scale(1/r),ei.dot(t)<Math.cos(e))){var o=oh(Xe.x,Xe.y,rt.x,rt.y,Vn.x,Vn.y,ah,!1);Vt.fromArray(ah);var a=Math.PI/2,s=a+Math.acos(ti.dot(t))-e;if(s>=a)xe.copy(Vt,rt);else{Vt.scaleAndAdd(ti,o/Math.tan(Math.PI/2-s));var l=rt.x!==Xe.x?(Vt.x-Xe.x)/(rt.x-Xe.x):(Vt.y-Xe.y)/(rt.y-Xe.y);if(isNaN(l))return;l<0?xe.copy(Vt,Xe):l>1&&xe.copy(Vt,rt)}Vt.toArray(i[1])}}}function Z_(i,t,e,n){var r=e==="normal",o=r?i:i.ensureState(e);o.ignore=t;var a=n.get("smooth");a&&a===!0&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=n.getModel("lineStyle").getLineStyle();r?i.useStyle(s):o.style=s}function JD(i,t){var e=t.smooth,n=t.points;if(n)if(i.moveTo(n[0][0],n[0][1]),e>0&&n.length>=3){var r=si(n[0],n[1]),o=si(n[1],n[2]);if(!r||!o)return i.lineTo(n[1][0],n[1][1]),void i.lineTo(n[2][0],n[2][1]);var a=Math.min(r,o)*e,s=Fa([],n[1],n[0],a/r),l=Fa([],n[1],n[2],a/o),u=Fa([],s,l,.5);i.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),i.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var h=1;h<n.length;h++)i.lineTo(n[h][0],n[h][1])}function rf(i,t,e){var n=i.getTextGuideLine(),r=i.getTextContent();if(r){for(var o=t.normal,a=o.get("show"),s=r.ignore,l=0;l<ds.length;l++){var u=ds[l],h=t[u],c=u==="normal";if(h){var p=h.get("show");if((c?s:we(r.states[u]&&r.states[u].ignore,s))||!we(p,a)){var d=c?n:n&&n.states.normal;d&&(d.ignore=!0);continue}n||(n=new zt,i.setTextGuideLine(n),c||!s&&a||Z_(n,!0,"normal",t.normal),i.stateProxy&&(n.stateProxy=i.stateProxy)),Z_(n,!1,u,h)}}if(n){J(n.style,e),n.style.fill=null;var f=o.get("showAbove");(i.textGuideLineConfig=i.textGuideLineConfig||{}).showAbove=f||!1,n.buildPath=JD}}else n&&i.removeTextGuideLine()}function of(i,t){t=t||"labelLine";for(var e={normal:i.getModel(t)},n=0;n<Qt.length;n++){var r=Qt[n];e[r]=i.getModel([r,t])}return e}function j_(i,t,e,n,r,o){var a=i.length;if(!(a<2)){i.sort(function(S,M){return S.rect[t]-M.rect[t]});for(var s,l=0,u=!1,h=0,c=0;c<a;c++){var p=i[c],d=p.rect;(s=d[t]-l)<0&&(d[t]-=s,p.label[t]-=s,u=!0),h+=Math.max(-s,0),l=d[t]+d[e]}h>0&&o&&x(-h/a,0,a);var f,g,y=i[0],m=i[a-1];return v(),f<0&&b(-f,.8),g<0&&b(g,.8),v(),_(f,g,1),_(g,f,-1),v(),f<0&&w(-f),g<0&&w(g),u}function v(){f=y.rect[t]-n,g=r-m.rect[t]-m.rect[e]}function _(S,M,I){if(S<0){var T=Math.min(M,-S);if(T>0){x(T*I,0,a);var C=T+S;C<0&&b(-C*I,1)}else b(-S*I,1)}}function x(S,M,I){S!==0&&(u=!0);for(var T=M;T<I;T++){var C=i[T];C.rect[t]+=S,C.label[t]+=S}}function b(S,M){for(var I=[],T=0,C=1;C<a;C++){var A=i[C-1].rect,L=Math.max(i[C].rect[t]-A[t]-A[e],0);I.push(L),T+=L}if(T){var k=Math.min(Math.abs(S)/T,M);if(S>0)for(C=0;C<a-1;C++)x(I[C]*k,0,C+1);else for(C=a-1;C>0;C--)x(-(I[C-1]*k),C,a)}}function w(S){var M=S<0?-1:1;S=Math.abs(S);for(var I=Math.ceil(S/(a-1)),T=0;T<a-1;T++)if(M>0?x(I,0,T+1):x(-I,a-T-1,a),(S-=I)<=0)return}}function q_(i,t,e,n){return j_(i,"y","height",t,e,n)}function QD(i){if(i){for(var t=[],e=0;e<i.length;e++)t.push(i[e].slice());return t}}function eL(i,t){var e=i.label,n=t&&t.getTextGuideLine();return{dataIndex:i.dataIndex,dataType:i.dataType,seriesIndex:i.seriesModel.seriesIndex,text:i.label.style.text,rect:i.hostRect,labelRect:i.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:QD(n&&n.shape.points)}}var K_=["align","verticalAlign","width","height","fontSize"],nn=new ui,af=Ne(),tL=Ne();function sh(i,t,e){for(var n=0;n<e.length;n++){var r=e[n];t[r]!=null&&(i[r]=t[r])}}var lh=["x","y","rotation"],nL=function(){function i(){this._labelList=[],this._chartViewList=[]}return i.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},i.prototype._addLabel=function(t,e,n,r,o){var a=r.style,s=r.__hostTarget.textConfig||{},l=r.getComputedTransform(),u=r.getBoundingRect().plain();me.applyTransform(u,u,l),l?nn.setLocalTransform(l):(nn.x=nn.y=nn.rotation=nn.originX=nn.originY=0,nn.scaleX=nn.scaleY=1);var h,c=r.__hostTarget;if(c){h=c.getBoundingRect().plain();var p=c.getComputedTransform();me.applyTransform(h,h,p)}var d=h&&c.getTextGuideLine();this._labelList.push({label:r,labelLine:d,seriesModel:n,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:d&&d.ignore,x:nn.x,y:nn.y,scaleX:nn.scaleX,scaleY:nn.scaleY,rotation:nn.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:s.position,attachedRot:s.rotation}})},i.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,r=n.get("labelLayout");(Pe(r)||ke(r).length)&&t.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),s=se(o);a&&!a.disableLabelLayout&&e._addLabel(s.dataIndex,s.dataType,n,a,r)})},i.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function r(m,v){return function(){Y_(m,v)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],s=a.label,l=s.__hostTarget,u=a.defaultAttr,h=void 0;h=(h=typeof a.layoutOption=="function"?a.layoutOption(eL(a,l)):a.layoutOption)||{},a.computedLayoutOption=h;var c=Math.PI/180;l&&l.setTextConfig({local:!1,position:h.x!=null||h.y!=null?null:u.attachedPos,rotation:h.rotate!=null?h.rotate*c:u.attachedRot,offset:[h.dx||0,h.dy||0]});var p=!1;if(h.x!=null?(s.x=q(h.x,e),s.setStyle("x",0),p=!0):(s.x=u.x,s.setStyle("x",u.style.x)),h.y!=null?(s.y=q(h.y,n),s.setStyle("y",0),p=!0):(s.y=u.y,s.setStyle("y",u.style.y)),h.labelLinePoints){var d=l.getTextGuideLine();d&&(d.setShape({points:h.labelLinePoints}),p=!1)}af(s).needsUpdateLabelLine=p,s.rotation=h.rotate!=null?h.rotate*c:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var f=0;f<K_.length;f++){var g=K_[f];s.setStyle(g,h[g]!=null?h[g]:u.style[g])}if(h.draggable){if(s.draggable=!0,s.cursor="move",l){var y=a.seriesModel;a.dataIndex!=null&&(y=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex)),s.on("drag",r(l,y.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},i.prototype.layout=function(t){var e,n=t.getWidth(),r=t.getHeight(),o=function(l){for(var u=[],h=0;h<l.length;h++){var c=l[h];if(!c.defaultAttr.ignore){var p=c.label,d=p.getComputedTransform(),f=p.getBoundingRect(),g=!d||d[1]<1e-5&&d[2]<1e-5,y=p.style.margin||0,m=f.clone();m.applyTransform(d),m.x-=y/2,m.y-=y/2,m.width+=y,m.height+=y;var v=g?new ku(f,d):null;u.push({label:p,labelLine:c.labelLine,rect:m,localRect:f,obb:v,priority:c.priority,defaultAttr:c.defaultAttr,layoutOption:c.computedLayoutOption,axisAligned:g,transform:d})}}return u}(this._labelList),a=Ke(o,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=Ke(o,function(l){return l.layoutOption.moveOverlap==="shiftY"});j_(a,"x","width",0,n,e),q_(s,0,r),function(l){var u=[];l.sort(function(S,M){return M.priority-S.priority});var h=new me(0,0,0,0);function c(S){if(!S.ignore){var M=S.ensureState("emphasis");M.ignore==null&&(M.ignore=!1)}S.ignore=!0}for(var p=0;p<l.length;p++){var d=l[p],f=d.axisAligned,g=d.localRect,y=d.transform,m=d.label,v=d.labelLine;h.copy(d.rect),h.width-=.1,h.height-=.1,h.x+=.05,h.y+=.05;for(var _=d.obb,x=!1,b=0;b<u.length;b++){var w=u[b];if(h.intersect(w.rect)){if(f&&w.axisAligned){x=!0;break}if(w.obb||(w.obb=new ku(w.localRect,w.transform)),_||(_=new ku(g,y)),_.intersect(w.obb)){x=!0;break}}}x?(c(m),v&&c(v)):(m.attr("ignore",d.defaultAttr.ignore),v&&v.attr("ignore",d.defaultAttr.labelGuideIgnore),u.push(d))}}(Ke(o,function(l){return l.layoutOption.hideOverlap}))},i.prototype.processLabelsOverall=function(){var t=this;D(this._chartViewList,function(e){var n=e.__model,r=e.ignoreLabelLineUpdate,o=n.isAnimationEnabled();e.group.traverse(function(a){if(a.ignore)return!0;var s=!r,l=a.getTextContent();!s&&l&&(s=af(l).needsUpdateLabelLine),s&&t._updateLabelLine(a,n),o&&t._animateLabels(a,n)})})},i.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),r=se(t),o=r.dataIndex;if(n&&o!=null){var a=e.getData(r.dataType),s=a.getItemModel(o),l={},u=a.getItemVisual(o,"style"),h=a.getVisual("drawType");l.stroke=u[h];var c=s.getModel("labelLine");rf(t,of(s),l),Y_(t,c)}},i.prototype._animateLabels=function(t,e){var n=t.getTextContent(),r=t.getTextGuideLine();if(n&&!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Wo(t)){var o=(f=af(n)).oldLayout,a=se(t),s=a.dataIndex,l={x:n.x,y:n.y,rotation:n.rotation},u=e.getData(a.dataType);if(o){n.attr(o);var h=t.prevStates;h&&(ie(h,"select")>=0&&n.attr(f.oldLayoutSelect),ie(h,"emphasis")>=0&&n.attr(f.oldLayoutEmphasis)),Te(n,l,e,s)}else if(n.attr(l),!Ts(n).valueAnimation){var c=we(n.style.opacity,1);n.style.opacity=0,$e(n,{style:{opacity:c}},e,s)}if(f.oldLayout=l,n.states.select){var p=f.oldLayoutSelect={};sh(p,l,lh),sh(p,n.states.select,lh)}if(n.states.emphasis){var d=f.oldLayoutEmphasis={};sh(d,l,lh),sh(d,n.states.emphasis,lh)}u1(n,s,u,e,e)}if(r&&!r.ignore&&!r.invisible){o=(f=tL(r)).oldLayout;var f,g={points:r.shape.points};o?(r.attr({shape:o}),Te(r,{shape:g},e)):(r.setShape(g),r.style.strokePercent=0,$e(r,{style:{strokePercent:1}},e)),f.oldLayout=g}},i}();function $_(i,t){function e(n,r){var o=[];return n.eachComponent({mainType:"series",subType:i,query:r},function(a){o.push(a.seriesIndex)}),o}D([[i+"ToggleSelect","toggleSelect"],[i+"Select","select"],[i+"UnSelect","unselect"]],function(n){t(n[0],function(r,o,a){r=X({},r),a.dispatchAction(X(r,{type:n[1],seriesIndex:e(o,r)}))})})}function ra(i,t,e,n,r){var o=i+t;e.isSilent(o)||n.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=r.selected,u=0;u<l.length;u++)if(l[u].seriesIndex===s){var h=a.getData(),c=Mr(h,r.fromActionPayload);e.trigger(o,{type:o,seriesId:a.id,name:W(c)?h.getName(c[0]):h.getName(c),selected:X({},a.option.selectedMap)})}})}function oa(i,t,e){for(var n;i&&(!t(i)||(n=i,!e));)i=i.__hostTarget||i.parent;return n}var iL=Math.round(9*Math.random()),J_=function(){function i(){this._id="__ec_inner_"+iL++}return i.prototype.get=function(t){return this._guard(t)[this._id]},i.prototype.set=function(t,e){var n=this._guard(t);return typeof Object.defineProperty=="function"?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},i.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},i.prototype.has=function(t){return!!this._guard(t)[this._id]},i.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},i}(),rL=Me.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,o=e.width/2,a=e.height/2;t.moveTo(n,r-a),t.lineTo(n+o,r+a),t.lineTo(n-o,r+a),t.closePath()}}),oL=Me.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,o=e.width/2,a=e.height/2;t.moveTo(n,r-a),t.lineTo(n+o,r),t.lineTo(n,r+a),t.lineTo(n-o,r),t.closePath()}}),aL=Me.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,o=e.width/5*3,a=Math.max(o,e.height),s=o/2,l=s*s/(a-s),u=r-a+s+l,h=Math.asin(l/s),c=Math.cos(h)*s,p=Math.sin(h),d=Math.cos(h),f=.6*s,g=.7*s;t.moveTo(n-c,u+l),t.arc(n,u,s,Math.PI-h,2*Math.PI+h),t.bezierCurveTo(n+c-p*f,u+l+d*f,n,r-g,n,r),t.bezierCurveTo(n,r-g,n-c+p*f,u+l+d*f,n-c,u+l),t.closePath()}}),sL=Me.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,o=e.x,a=e.y,s=r/3*2;t.moveTo(o,a),t.lineTo(o+s,a+n),t.lineTo(o,a+n/4*3),t.lineTo(o-s,a+n),t.lineTo(o,a),t.closePath()}}),lL={line:function(t,e,n,r,o){o.x1=t,o.y1=e+r/2,o.x2=t+n,o.y2=e+r/2},rect:function(t,e,n,r,o){o.x=t,o.y=e,o.width=n,o.height=r},roundRect:function(t,e,n,r,o){o.x=t,o.y=e,o.width=n,o.height=r,o.r=Math.min(n,r)/4},square:function(t,e,n,r,o){var a=Math.min(n,r);o.x=t,o.y=e,o.width=a,o.height=a},circle:function(t,e,n,r,o){o.cx=t+n/2,o.cy=e+r/2,o.r=Math.min(n,r)/2},diamond:function(t,e,n,r,o){o.cx=t+n/2,o.cy=e+r/2,o.width=n,o.height=r},pin:function(t,e,n,r,o){o.x=t+n/2,o.y=e+r/2,o.width=n,o.height=r},arrow:function(t,e,n,r,o){o.x=t+n/2,o.y=e+r/2,o.width=n,o.height=r},triangle:function(t,e,n,r,o){o.cx=t+n/2,o.cy=e+r/2,o.width=n,o.height=r}},uh={};D({line:ft,rect:Se,roundRect:Se,square:Se,circle:fn,diamond:oL,pin:aL,arrow:sL,triangle:rL},function(i,t){uh[t]=new i});var uL=Me.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var r=dv(t,e,n),o=this.shape;return o&&o.symbolType==="pin"&&e.position==="inside"&&(r.y=n.y+.4*n.height),r},buildPath:function(t,e,n){var r=e.symbolType;if(r!=="none"){var o=uh[r];o||(o=uh[r="rect"]),lL[r](e.x,e.y,e.width,e.height,o.shape),o.buildPath(t,o.shape,n)}}});function hL(i,t){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=i,e.fill=t||"#fff",e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=i:e.fill=i,this.markRedraw()}}function ot(i,t,e,n,r,o,a){var s,l=i.indexOf("empty")===0;return l&&(i=i.substr(5,1).toLowerCase()+i.substr(6)),(s=i.indexOf("image://")===0?dd(i.slice(8),new me(t,e,n,r),a?"center":"cover"):i.indexOf("path://")===0?bs(i.slice(7),{},new me(t,e,n,r),a?"center":"cover"):new uL({shape:{symbolType:i,x:t,y:e,width:n,height:r}})).__isEmptyBrush=l,s.setColor=hL,o&&s.setColor(o),s}function sf(i,t,e){for(var n=t.type==="radial"?function(a,s,l){var u=l.width,h=l.height,c=Math.min(u,h),p=s.x==null?.5:s.x,d=s.y==null?.5:s.y,f=s.r==null?.5:s.r;return s.global||(p=p*u+l.x,d=d*h+l.y,f*=c),a.createRadialGradient(p,d,0,p,d,f)}(i,t,e):function(a,s,l){var u=s.x==null?0:s.x,h=s.x2==null?1:s.x2,c=s.y==null?0:s.y,p=s.y2==null?0:s.y2;return s.global||(u=u*l.width+l.x,h=h*l.width+l.x,c=c*l.height+l.y,p=p*l.height+l.y),u=isNaN(u)?0:u,h=isNaN(h)?1:h,c=isNaN(c)?0:c,p=isNaN(p)?0:p,a.createLinearGradient(u,c,h,p)}(i,t,e),r=t.colorStops,o=0;o<r.length;o++)n.addColorStop(r[o].offset,r[o].color);return n}function Q_(i,t){if(i===t||!i&&!t)return!1;if(!i||!t||i.length!==t.length)return!0;for(var e=0;e<i.length;e++)if(i[e]!==t[e])return!0;return!1}function lf(i,t){return i&&i!=="solid"&&t>0?(t=t||1,i==="dashed"?[4*t,2*t]:i==="dotted"?[t]:ql(i)?[i]:W(i)?i:null):null}var cL=new $n(!0);function hh(i){var t=i.stroke;return!(t==null||t==="none"||!(i.lineWidth>0))}function ch(i){var t=i.fill;return t!=null&&t!=="none"}function ex(i,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var e=i.globalAlpha;i.globalAlpha=t.fillOpacity*t.opacity,i.fill(),i.globalAlpha=e}else i.fill()}function tx(i,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var e=i.globalAlpha;i.globalAlpha=t.strokeOpacity*t.opacity,i.stroke(),i.globalAlpha=e}else i.stroke()}function uf(i,t,e){var n=Np(t.image,t.__image,e);if(pu(n)){var r=i.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&r.setTransform){var o=new DOMMatrix;o.rotateSelf(0,0,(t.rotation||0)/Math.PI*180),o.scaleSelf(t.scaleX||1,t.scaleY||1),o.translateSelf(t.x||0,t.y||0),r.setTransform(o)}return r}}var nx=["shadowBlur","shadowOffsetX","shadowOffsetY"],ix=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function rx(i,t,e,n,r){var o=!1;if(!n&&t===(e=e||{}))return!1;if(n||t.opacity!==e.opacity){o||(Zt(i,r),o=!0);var a=Math.max(Math.min(t.opacity,1),0);i.globalAlpha=isNaN(a)?Ar.opacity:a}(n||t.blend!==e.blend)&&(o||(Zt(i,r),o=!0),i.globalCompositeOperation=t.blend||Ar.blend);for(var s=0;s<nx.length;s++){var l=nx[s];(n||t[l]!==e[l])&&(o||(Zt(i,r),o=!0),i[l]=i.dpr*(t[l]||0))}return(n||t.shadowColor!==e.shadowColor)&&(o||(Zt(i,r),o=!0),i.shadowColor=t.shadowColor||Ar.shadowColor),o}function ox(i,t,e,n,r){var o=Ws(t,r.inHover),a=n?null:e&&Ws(e,r.inHover)||{};if(o===a)return!1;var s=rx(i,o,a,n,r);if((n||o.fill!==a.fill)&&(s||(Zt(i,r),s=!0),i.fillStyle=o.fill),(n||o.stroke!==a.stroke)&&(s||(Zt(i,r),s=!0),i.strokeStyle=o.stroke),(n||o.opacity!==a.opacity)&&(s||(Zt(i,r),s=!0),i.globalAlpha=o.opacity==null?1:o.opacity),t.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1);i.lineWidth!==l&&(s||(Zt(i,r),s=!0),i.lineWidth=l)}for(var u=0;u<ix.length;u++){var h=ix[u],c=h[0];(n||o[c]!==a[c])&&(s||(Zt(i,r),s=!0),i[c]=o[c]||h[1])}return s}function ax(i,t){var e=t.transform,n=i.dpr||1;e?i.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):i.setTransform(n,0,0,n,0,0)}function Zt(i,t){t.batchFill&&i.fill(),t.batchStroke&&i.stroke(),t.batchFill="",t.batchStroke=""}function Ws(i,t){return t&&i.__hoverStyle||i.style}function hf(i,t){Zi(i,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Zi(i,t,e,n){var r=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return t.__dirty&=~cn.REDARAW_BIT,void(t.__isRendered=!1);var o=t.__clipPaths,a=e.prevElClipPaths,s=!1,l=!1;if(a&&!Q_(o,a)||(a&&a.length&&(Zt(i,e),i.restore(),l=s=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),o&&o.length&&(Zt(i,e),i.save(),function(f,g,y){for(var m=!1,v=0;v<f.length;v++){var _=f[v];m=m||_.isZeroArea(),ax(g,_),g.beginPath(),_.buildPath(g,_.shape),g.clip()}y.allClipped=m}(o,i,e),s=!0),e.prevElClipPaths=o),e.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=e.prevEl;u||(l=s=!0);var h,c,p=t instanceof Me&&t.autoBatch&&function(f){var g=ch(f),y=hh(f);return!(f.lineDash||!(+g^+y)||g&&typeof f.fill!="string"||y&&typeof f.stroke!="string"||f.strokePercent<1||f.strokeOpacity<1||f.fillOpacity<1)}(t.style);s||(h=r,c=u.transform,h&&c?h[0]!==c[0]||h[1]!==c[1]||h[2]!==c[2]||h[3]!==c[3]||h[4]!==c[4]||h[5]!==c[5]:h||c)?(Zt(i,e),ax(i,t)):p||Zt(i,e);var d=Ws(t,e.inHover);t instanceof Me?(e.lastDrawType!==1&&(l=!0,e.lastDrawType=1),ox(i,t,u,l,e),p&&(e.batchFill||e.batchStroke)||i.beginPath(),function(f,g,y,m){var v=hh(y),_=ch(y),x=y.strokePercent,b=x<1,w=!g.path;g.silent&&!b||!w||g.createPathProxy();var S=g.path||cL;if(!m){var M=y.fill,I=y.stroke,T=_&&!!M.colorStops,C=v&&!!I.colorStops,A=_&&!!M.image,L=v&&!!I.image,k=void 0,P=void 0,O=void 0,R=void 0,N=void 0;(T||C)&&(N=g.getBoundingRect()),T&&(k=g.__dirty?sf(f,M,N):g.__canvasFillGradient,g.__canvasFillGradient=k),C&&(P=g.__dirty?sf(f,I,N):g.__canvasStrokeGradient,g.__canvasStrokeGradient=P),A&&(O=g.__dirty||!g.__canvasFillPattern?uf(f,M,g):g.__canvasFillPattern,g.__canvasFillPattern=O),L&&(R=g.__dirty||!g.__canvasStrokePattern?uf(f,I,g):g.__canvasStrokePattern,g.__canvasStrokePattern=O),T?f.fillStyle=k:A&&(O?f.fillStyle=O:_=!1),C?f.strokeStyle=P:L&&(R?f.strokeStyle=R:v=!1)}var E=y.lineDash&&y.lineWidth>0&&lf(y.lineDash,y.lineWidth),B=y.lineDashOffset,G=!!f.setLineDash,F=g.getGlobalScale();if(S.setScale(F[0],F[1],g.segmentIgnoreThreshold),E){var H=y.strokeNoScale&&g.getLineScale?g.getLineScale():1;H&&H!==1&&(E=j(E,function(U){return U/H}),B/=H)}var V=!0;(w||g.__dirty&Me.SHAPE_CHANGED_BIT||E&&!G&&v)&&(S.setDPR(f.dpr),b?S.setContext(null):(S.setContext(f),V=!1),S.reset(),E&&!G&&(S.setLineDash(E),S.setLineDashOffset(B)),g.buildPath(S,g.shape,m),S.toStatic(),g.pathUpdated()),V&&S.rebuildPath(f,b?x:1),E&&G&&(f.setLineDash(E),f.lineDashOffset=B),m||(y.strokeFirst?(v&&tx(f,y),_&&ex(f,y)):(_&&ex(f,y),v&&tx(f,y))),E&&G&&f.setLineDash([])}(i,t,d,p),p&&(e.batchFill=d.fill||"",e.batchStroke=d.stroke||"")):t instanceof Nr?(e.lastDrawType!==3&&(l=!0,e.lastDrawType=3),ox(i,t,u,l,e),function(f,g,y){var m=y.text;if(m!=null&&(m+=""),m){f.font=y.font||br,f.textAlign=y.textAlign,f.textBaseline=y.textBaseline;var v=void 0;if(f.setLineDash){var _=y.lineDash&&y.lineWidth>0&&lf(y.lineDash,y.lineWidth),x=y.lineDashOffset;if(_){var b=y.strokeNoScale&&g.getLineScale?g.getLineScale():1;b&&b!==1&&(_=j(_,function(w){return w/b}),x/=b),f.setLineDash(_),f.lineDashOffset=x,v=!0}}y.strokeFirst?(hh(y)&&f.strokeText(m,y.x,y.y),ch(y)&&f.fillText(m,y.x,y.y)):(ch(y)&&f.fillText(m,y.x,y.y),hh(y)&&f.strokeText(m,y.x,y.y)),v&&f.setLineDash([])}}(i,t,d)):t instanceof ut?(e.lastDrawType!==2&&(l=!0,e.lastDrawType=2),function(f,g,y,m,v){rx(f,Ws(g,v.inHover),y&&Ws(y,v.inHover),m,v)}(i,t,u,l,e),function(f,g,y){var m=g.__image=Np(y.image,g.__image,g,g.onload);if(m&&pu(m)){var v=y.x||0,_=y.y||0,x=g.getWidth(),b=g.getHeight(),w=m.width/m.height;if(x==null&&b!=null?x=b*w:b==null&&x!=null?b=x/w:x==null&&b==null&&(x=m.width,b=m.height),y.sWidth&&y.sHeight){var S=y.sx||0,M=y.sy||0;f.drawImage(m,S,M,y.sWidth,y.sHeight,v,_,x,b)}else if(y.sx&&y.sy){var I=x-(S=y.sx),T=b-(M=y.sy);f.drawImage(m,S,M,I,T,v,_,x,b)}else f.drawImage(m,v,_,x,b)}}(i,t,d)):t instanceof xs&&(e.lastDrawType!==4&&(l=!0,e.lastDrawType=4),function(f,g,y){var m=g.getDisplayables(),v=g.getTemporalDisplayables();f.save();var _,x,b={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:y.viewWidth,viewHeight:y.viewHeight,inHover:y.inHover};for(_=g.getCursor(),x=m.length;_<x;_++)(M=m[_]).beforeBrush&&M.beforeBrush(),M.innerBeforeBrush(),Zi(f,M,b,_===x-1),M.innerAfterBrush(),M.afterBrush&&M.afterBrush(),b.prevEl=M;for(var w=0,S=v.length;w<S;w++){var M;(M=v[w]).beforeBrush&&M.beforeBrush(),M.innerBeforeBrush(),Zi(f,M,b,w===S-1),M.innerAfterBrush(),M.afterBrush&&M.afterBrush(),b.prevEl=M}g.clearTemporalDisplayables(),g.notClear=!0,f.restore()}(i,t,e)),p&&n&&Zt(i,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var cf,pf=new J_,sx=new Wa(100),lx=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Us(i,t){if(i==="none")return null;var e=t.getDevicePixelRatio(),n=t.getZr(),r=n.painter.type==="svg";i.dirty&&pf.delete(i);var o=pf.get(i);if(o)return o;var a=J(i,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});a.backgroundColor==="none"&&(a.backgroundColor=null);var s={repeat:"repeat"};return function(l){for(var u,h=[e],c=!0,p=0;p<lx.length;++p){var d=a[lx[p]],f=typeof d;if(d!=null&&!W(d)&&f!=="string"&&f!=="number"&&f!=="boolean"){c=!1;break}h.push(d)}if(c){u=h.join(",")+(r?"-svg":"");var g=sx.get(u);g&&(r?l.svgElement=g:l.image=g)}var y,m=hx(a.dashArrayX),v=function(T){if(!T||typeof T=="object"&&T.length===0)return[0,0];if(typeof T=="number"){var C=Math.ceil(T);return[C,C]}var A=j(T,function(L){return Math.ceil(L)});return T.length%2?A.concat(A):A}(a.dashArrayY),_=ux(a.symbol),x=(I=m,j(I,function(T){return cx(T)})),b=cx(v),w=!r&&st(),S=r&&n.painter.createSVGElement("g"),M=function(){for(var T=1,C=0,A=x.length;C<A;++C)T=kv(T,x[C]);var L=1;for(C=0,A=_.length;C<A;++C)L=kv(L,_[C].length);T*=L;var k=b*x.length*_.length;return{width:Math.max(1,Math.min(T,a.maxTileWidth)),height:Math.max(1,Math.min(k,a.maxTileHeight))}}(),I;w&&(w.width=M.width*e,w.height=M.height*e,y=w.getContext("2d")),function(){y&&(y.clearRect(0,0,w.width,w.height),a.backgroundColor&&(y.fillStyle=a.backgroundColor,y.fillRect(0,0,w.width,w.height)));for(var T=0,C=0;C<v.length;++C)T+=v[C];if(T<=0)return;for(var A=-b,L=0,k=0,P=0;A<M.height;){if(L%2==0){for(var O=k/2%_.length,R=0,N=0,E=0;R<2*M.width;){var B=0;for(C=0;C<m[P].length;++C)B+=m[P][C];if(B<=0)break;if(N%2==0){var G=.5*(1-a.symbolSize),F=R+m[P][N]*G,H=A+v[L]*G,V=m[P][N]*a.symbolSize,U=v[L]*a.symbolSize,Y=E/2%_[O].length;Z(F,H,V,U,_[O][Y])}R+=m[P][N],++E,++N===m[P].length&&(N=0)}++P===m.length&&(P=0)}A+=v[L],++k,++L===v.length&&(L=0)}function Z(K,$,ne,le,fe){var ge=r?1:e,Fe=ot(fe,K*ge,$*ge,ne*ge,le*ge,a.color,a.symbolKeepAspect);r?S.appendChild(n.painter.paintOne(Fe)):hf(y,Fe)}}(),c&&sx.put(u,w||S),l.image=w,l.svgElement=S,l.svgWidth=M.width,l.svgHeight=M.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/e,pf.set(i,s),i.dirty=!1,s}function ux(i){if(!i||i.length===0)return[["rect"]];if(typeof i=="string")return[[i]];for(var t=!0,e=0;e<i.length;++e)if(typeof i[e]!="string"){t=!1;break}if(t)return ux([i]);var n=[];for(e=0;e<i.length;++e)typeof i[e]=="string"?n.push([i[e]]):n.push(i[e]);return n}function hx(i){if(!i||i.length===0)return[[0,0]];if(typeof i=="number")return[[r=Math.ceil(i),r]];for(var t=!0,e=0;e<i.length;++e)if(typeof i[e]!="number"){t=!1;break}if(t)return hx([i]);var n=[];for(e=0;e<i.length;++e)if(typeof i[e]=="number"){var r=Math.ceil(i[e]);n.push([r,r])}else(r=j(i[e],function(o){return Math.ceil(o)})).length%2==1?n.push(r.concat(r)):n.push(r);return n}function cx(i){for(var t=0,e=0;e<i.length;++e)t+=i[e];return i.length%2==1?2*t:t}function px(i){be(i)&&(i=new DOMParser().parseFromString(i,"text/xml"));var t=i;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var ph={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},dx=ke(ph),dh={"alignment-baseline":"textBaseline","stop-color":"stopColor"},fx=ke(dh),pL=function(){function i(){this._defs={},this._root=null}return i.prototype.parse=function(t,e){e=e||{};var n=px(t);if(!n)throw new Error("Illegal svg");this._defsUsePending=[];var r=new oe;this._root=r;var o=[],a=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||e.width),l=parseFloat(n.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),rn(n,r,null,!0,!1);for(var u,h,c=n.firstChild;c;)this._parseNode(c,r,o,null,!1,!1),c=c.nextSibling;if(function(f,g){for(var y=0;y<g.length;y++){var m=g[y];m[0].style[m[1]]=f[m[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],a){var p=ji(a);p.length>=4&&(u={x:parseFloat(p[0]||0),y:parseFloat(p[1]||0),width:parseFloat(p[2]),height:parseFloat(p[3])})}if(u&&s!=null&&l!=null&&(h=Sx(u,{x:0,y:0,width:s,height:l}),!e.ignoreViewBox)){var d=r;(r=new oe).add(d),d.scaleX=d.scaleY=h.scale,d.x=h.x,d.y=h.y}return e.ignoreRootClip||s==null||l==null||r.setClipPath(new Se({shape:{x:0,y:0,width:s,height:l}})),{root:r,width:s,height:l,viewBoxRect:u,viewBoxTransform:h,named:o}},i.prototype._parseNode=function(t,e,n,r,o,a){var s,l=t.nodeName.toLowerCase(),u=r;if(l==="defs"&&(o=!0),l==="text"&&(a=!0),l==="defs"||l==="switch")s=e;else{if(!o){var h=cf[l];if(h&&ee(cf,l)){s=h.call(this,t,e);var c=t.getAttribute("name");if(c){var p={name:c,namedFrom:null,svgNodeTagLower:l,el:s};n.push(p),l==="g"&&(u=p)}else r&&n.push({name:r.name,namedFrom:r,svgNodeTagLower:l,el:s});e.add(s)}}var d=gx[l];if(d&&ee(gx,l)){var f=d.call(this,t),g=t.getAttribute("id");g&&(this._defs[g]=f)}}if(s&&s.isGroup)for(var y=t.firstChild;y;)y.nodeType===1?this._parseNode(y,s,n,u,o,a):y.nodeType===3&&a&&this._parseText(y,s),y=y.nextSibling},i.prototype._parseText=function(t,e){var n=new Nr({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});mn(e,n),rn(t,n,this._defsUsePending,!1,!1),function(l,u){var h=u.__selfStyle;if(h){var c=h.textBaseline,p=c;c&&c!=="auto"?c==="baseline"?p="alphabetic":c==="before-edge"||c==="text-before-edge"?p="top":c==="after-edge"||c==="text-after-edge"?p="bottom":c!=="central"&&c!=="mathematical"||(p="middle"):p="alphabetic",l.style.textBaseline=p}var d=u.__inheritedStyle;if(d){var f=d.textAlign,g=f;f&&(f==="middle"&&(g="center"),l.style.textAlign=g)}}(n,e);var r=n.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,n.scaleX*=o/9,n.scaleY*=o/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var s=n.getBoundingRect();return this._textX+=s.width,e.add(n),n},i.internalField=void(cf={g:function(e,n){var r=new oe;return mn(n,r),rn(e,r,this._defsUsePending,!1,!1),r},rect:function(e,n){var r=new Se;return mn(n,r),rn(e,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(e,n){var r=new fn;return mn(n,r),rn(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),r.silent=!0,r},line:function(e,n){var r=new ft;return mn(n,r),rn(e,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(e,n){var r=new ms;return mn(n,r),rn(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(e,n){var r,o=e.getAttribute("points");o&&(r=vx(o));var a=new Dt({shape:{points:r||[]},silent:!0});return mn(n,a),rn(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,n){var r,o=e.getAttribute("points");o&&(r=vx(o));var a=new zt({shape:{points:r||[]},silent:!0});return mn(n,a),rn(e,a,this._defsUsePending,!1,!1),a},image:function(e,n){var r=new ut;return mn(n,r),rn(e,r,this._defsUsePending,!1,!1),r.setStyle({image:e.getAttribute("xlink:href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),r.silent=!0,r},text:function(e,n){var r=e.getAttribute("x")||"0",o=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(a),this._textY=parseFloat(o)+parseFloat(s);var l=new oe;return mn(n,l),rn(e,l,this._defsUsePending,!1,!0),l},tspan:function(e,n){var r=e.getAttribute("x"),o=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),o!=null&&(this._textY=parseFloat(o));var a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0",l=new oe;return mn(n,l),rn(e,l,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),l},path:function(e,n){var r=H0(e.getAttribute("d")||"");return mn(n,r),rn(e,r,this._defsUsePending,!1,!1),r.silent=!0,r}}),i}(),gx={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),n=parseInt(t.getAttribute("y1")||"0",10),r=parseInt(t.getAttribute("x2")||"10",10),o=parseInt(t.getAttribute("y2")||"0",10),a=new Ho(e,n,r,o);return yx(t,a),mx(t,a),a},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),n=parseInt(t.getAttribute("cy")||"0",10),r=parseInt(t.getAttribute("r")||"0",10),o=new cd(e,n,r);return yx(t,o),mx(t,o),o}};function yx(i,t){i.getAttribute("gradientUnits")==="userSpaceOnUse"&&(t.global=!0)}function mx(i,t){for(var e=i.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var n=e.getAttribute("offset"),r=void 0;r=n&&n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var o={};bx(e,o,o);var a=o.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:r,color:a})}e=e.nextSibling}}function mn(i,t){i&&i.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),J(t.__inheritedStyle,i.__inheritedStyle))}function vx(i){for(var t=ji(i),e=[],n=0;n<t.length;n+=2){var r=parseFloat(t[n]),o=parseFloat(t[n+1]);e.push([r,o])}return e}function rn(i,t,e,n,r){var o=t,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};i.nodeType===1&&(function(l,u){var h=l.getAttribute("transform");if(h){h=h.replace(/,/g," ");var c=[],p=null;h.replace(gL,function(y,m,v){return c.push(m,v),""});for(var d=c.length-1;d>0;d-=2){var f=c[d],g=void 0;switch(p=p||[1,0,0,1,0,0],c[d-1]){case"translate":g=ji(f),Ln(p,p,[parseFloat(g[0]),parseFloat(g[1]||"0")]);break;case"scale":g=ji(f),eu(p,p,[parseFloat(g[0]),parseFloat(g[1]||g[0])]);break;case"rotate":g=ji(f),Pi(p,p,-parseFloat(g[0])/180*Math.PI);break;case"skew":g=ji(f),console.warn("Skew transform is not supported yet");break;case"matrix":g=ji(f),p[0]=parseFloat(g[0]),p[1]=parseFloat(g[1]),p[2]=parseFloat(g[2]),p[3]=parseFloat(g[3]),p[4]=parseFloat(g[4]),p[5]=parseFloat(g[5])}}u.setLocalTransform(p)}}(i,t),bx(i,a,s),n||function(l,u,h){for(var c=0;c<dx.length;c++){var p=dx[c];(d=l.getAttribute(p))!=null&&(u[ph[p]]=d)}for(c=0;c<fx.length;c++){var d;p=fx[c],(d=l.getAttribute(p))!=null&&(h[dh[p]]=d)}}(i,a,s)),o.style=o.style||{},a.fill!=null&&(o.style.fill=_x(o,"fill",a.fill,e)),a.stroke!=null&&(o.style.stroke=_x(o,"stroke",a.stroke,e)),D(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){a[l]!=null&&(o.style[l]=parseFloat(a[l]))}),D(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){a[l]!=null&&(o.style[l]=a[l])}),r&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=j(ji(a.lineDash),function(l){return parseFloat(l)})),a.visibility!=="hidden"&&a.visibility!=="collapse"||(o.invisible=!0),a.display==="none"&&(o.ignore=!0),o.z=-1e4,o.z2=-1e3}var dL=/^url\(\s*#(.*?)\)/;function _x(i,t,e,n){var r=e&&e.match(dL);if(!r)return e==="none"&&(e=null),e;var o=Ii(r[1]);n.push([i,t,o])}var fL=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ji(i){return i.match(fL)||[]}var gL=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,xx=/([^\s:;]+)\s*:\s*([^:;]+)/g;function bx(i,t,e){var n,r=i.getAttribute("style");if(r)for(xx.lastIndex=0;(n=xx.exec(r))!=null;){var o=n[1],a=ee(ph,o)?ph[o]:null;a&&(t[a]=n[2]);var s=ee(dh,o)?dh[o]:null;s&&(e[s]=n[2])}}function Sx(i,t){var e=t.width/i.width,n=t.height/i.height,r=Math.min(e,n);return{scale:r,x:-(i.x+i.width/2)*r+(t.x+t.width/2),y:-(i.y+i.height/2)*r+(t.y+t.height/2)}}function Mx(i,t){return Math.abs(i-t)<1e-8}function Kr(i,t,e){var n=0,r=i[0];if(!r)return!1;for(var o=1;o<i.length;o++){var a=i[o];n+=ci(r[0],r[1],a[0],a[1],t,e),r=a}var s=i[0];return Mx(r[0],s[0])&&Mx(r[1],s[1])||(n+=ci(r[0],r[1],s[0],s[1],t,e)),n!==0}var yL=[],Ix=function(){function i(t){this.name=t}return i.prototype.getCenter=function(){},i}(),Tx=function(i){function t(e,n,r){var o=i.call(this,e)||this;if(o.type="geoJSON",o.geometries=n,r)r=[r[0],r[1]];else{var a=o.getBoundingRect();r=[a.x+a.width/2,a.y+a.height/2]}return o._center=r,o}return z(t,i),t.prototype.getBoundingRect=function(){var e=this._rect;if(e)return e;for(var n=Number.MAX_VALUE,r=[n,n],o=[-n,-n],a=[],s=[],l=this.geometries,u=0;u<l.length;u++)l[u].type==="polygon"&&(Xp(l[u].exterior,a,s),Di(r,r,a),Li(o,o,s));return u===0&&(r[0]=r[1]=o[0]=o[1]=0),this._rect=new me(r[0],r[1],o[0]-r[0],o[1]-r[1])},t.prototype.contain=function(e){var n=this.getBoundingRect(),r=this.geometries;if(!n.contain(e[0],e[1]))return!1;e:for(var o=0,a=r.length;o<a;o++)if(r[o].type==="polygon"){var s=r[o].exterior,l=r[o].interiors;if(Kr(s,e[0],e[1])){for(var u=0;u<(l?l.length:0);u++)if(Kr(l[u],e[0],e[1]))continue e;return!0}}return!1},t.prototype.transformTo=function(e,n,r,o){var a=this.getBoundingRect(),s=a.width/a.height;r?o||(o=r/s):r=s*o;for(var l=new me(e,n,r,o),u=a.calculateTransform(l),h=this.geometries,c=0;c<h.length;c++)if(h[c].type==="polygon"){for(var p=h[c].exterior,d=h[c].interiors,f=0;f<p.length;f++)mt(p[f],p[f],u);for(var g=0;g<(d?d.length:0);g++)for(f=0;f<d[g].length;f++)mt(d[g][f],d[g][f],u)}(a=this._rect).copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t.prototype.getCenter=function(){return this._center},t.prototype.setCenter=function(e){this._center=e},t}(Ix),mL=function(i){function t(e,n){var r=i.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=n,r}return z(t,i),t.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this._calculateCenter()),e},t.prototype._calculateCenter=function(){for(var e=this._elOnlyForCalculate,n=e.getBoundingRect(),r=[n.x+n.width/2,n.y+n.height/2],o=dr(yL),a=e;a&&!a.isGeoSVGGraphicRoot;)ki(o,a.getLocalTransform(),o),a=a.parent;return fr(o,o),mt(r,r,o),r},t}(Ix),vL=re(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),_L=function(){function i(t,e){this.type="geoSVG",this._usedGraphicMap=re(),this._freedGraphics=[],this._mapName=t,this._parsedXML=px(e)}return i.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=function(o){var a=[],s=re();return D(o,function(l){if(l.namedFrom==null){var u=new mL(l.name,l.el);a.push(u),s.set(l.name,u)}}),{regions:a,regionsMap:s}}(t.named),n=e.regions,r=e.regionsMap;this._regions=n,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},i.prototype._buildGraphic=function(t){var e,n,r,o;try{Tt((n=(e=t&&(r=t,o={ignoreViewBox:!0,ignoreRootClip:!0},new pL().parse(r,o))||{}).root)!=null)}catch(v){throw new Error(`Invalid svg format
`+v.message)}var a=new oe;a.add(n),a.isGeoSVGGraphicRoot=!0;var s=e.width,l=e.height,u=e.viewBoxRect,h=this._boundingRect;if(!h){var c=void 0,p=void 0,d=void 0,f=void 0;if(s!=null?(c=0,d=s):u&&(c=u.x,d=u.width),l!=null?(p=0,f=l):u&&(p=u.y,f=u.height),c==null||p==null){var g=n.getBoundingRect();c==null&&(c=g.x,d=g.width),p==null&&(p=g.y,f=g.height)}h=this._boundingRect=new me(c,p,d,f)}if(u){var y=Sx(u,h);n.scaleX=n.scaleY=y.scale,n.x=y.x,n.y=y.y}a.setClipPath(new Se({shape:h.plain()}));var m=[];return D(e.named,function(v){var _;vL.get(v.svgNodeTagLower)!=null&&(m.push(v),(_=v.el).silent=!1,_.isGroup&&_.traverse(function(x){x.silent=!1}))}),{root:a,boundingRect:h,named:m}},i.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},i.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},i}();function Cx(i,t,e){for(var n=[],r=t[0],o=t[1],a=0;a<i.length;a+=2){var s=i.charCodeAt(a)-64,l=i.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,n.push([s/e,l/e])}return n}function df(i,t){return j(Ke((i=function(e){if(!e.UTF8Encoding)return e;var n=e,r=n.UTF8Scale;r==null&&(r=1024);for(var o=n.features,a=0;a<o.length;a++){var s=o[a].geometry;if(s.type==="Polygon")for(var l=s.coordinates,u=0;u<l.length;u++)l[u]=Cx(l[u],s.encodeOffsets[u],r);else if(s.type==="MultiPolygon")for(l=s.coordinates,u=0;u<l.length;u++)for(var h=l[u],c=0;c<h.length;c++)h[c]=Cx(h[c],s.encodeOffsets[u][c],r)}return n.UTF8Encoding=!1,n}(i)).features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var n=e.properties,r=e.geometry,o=[];if(r.type==="Polygon"){var a=r.coordinates;o.push({type:"polygon",exterior:a[0],interiors:a.slice(1)})}r.type==="MultiPolygon"&&D(a=r.coordinates,function(l){l[0]&&o.push({type:"polygon",exterior:l[0],interiors:l.slice(1)})});var s=new Tx(n[t||"name"],o,n.cp);return s.properties=n,s})}for(var ff=[126,25],$r=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Jr=0;Jr<$r.length;Jr++)for(var aa=0;aa<$r[Jr].length;aa++)$r[Jr][aa][0]/=10.5,$r[Jr][aa][1]/=-14,$r[Jr][aa][0]+=ff[0],$r[Jr][aa][1]+=ff[1];var xL={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]},bL={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},wL=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],SL=function(){function i(t,e,n){var r;this.type="geoJSON",this._parsedMap=re(),this._mapName=t,this._specialAreas=n,this._geoJSON=be(r=e)?typeof JSON!="undefined"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}return i.prototype.load=function(t,e){e=e||"name";var n=this._parsedMap.get(e);if(!n){var r=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:r,boundingRect:ML(r)})}var o=re(),a=[];return D(n.regions,function(s){var l=s.name;t&&t.hasOwnProperty(l)&&(s=s.cloneShallow(l=t[l])),a.push(s),o.set(l,s)}),{regions:a,boundingRect:n.boundingRect||new me(0,0,0,0),regionsMap:o}},i.prototype._parseToRegions=function(t){var e,n,r=this._mapName,o=this._geoJSON;try{e=o?df(o,t):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return n=e,r==="china"&&n.push(new Tx("\u5357\u6D77\u8BF8\u5C9B",j($r,function(a){return{type:"polygon",exterior:a}}),ff)),D(e,function(a){var s=a.name;(function(u,h){if(u==="china"){var c=xL[h.name];if(c){var p=h.getCenter();p[0]+=c[0]/10.5,p[1]+=-c[1]/14,h.setCenter(p)}}})(r,a),function(u,h){if(u==="world"){var c=bL[h.name];if(c){var p=[c[0],c[1]];h.setCenter(p)}}}(r,a),function(u,h){u==="china"&&h.name==="\u53F0\u6E7E"&&h.geometries.push({type:"polygon",exterior:wL[0]})}(r,a);var l=this._specialAreas&&this._specialAreas[s];l&&a.transformTo(l.left,l.top,l.width,l.height)},this),e},i.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},i}();function ML(i){for(var t,e=0;e<i.length;e++){var n=i[e].getBoundingRect();(t=t||n.clone()).union(n)}return t}var Ys=re(),IL=function(t,e,n){if(e.svg){var r=new _L(t,e.svg);Ys.set(t,r)}else{var o=e.geoJson||e.geoJSON;o&&!e.features?n=e.specialAreas:o=e,r=new SL(t,o,n),Ys.set(t,r)}},fh=function(t){return Ys.get(t)},TL=function(t){var e=Ys.get(t);return e&&e.type==="geoJSON"&&e.getMapForUser()},gf=function(t,e,n){var r=Ys.get(t);if(r)return r.load(e,n)},CL=Tt,it=D,AL=Pe,Xs=ae,gh=ie,DL=typeof window!="undefined",yf=2e3,yh=4500,Ax={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:yf,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:yh,ARIA:6e3,DECAL:7e3}},Dx=/^[a-zA-Z0-9_]+$/,mf="__connectUpdateStatus";function Lx(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return Px(this,i,t);on(this.id)}}function kx(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Px(this,i,t)}}function Px(i,t,e){return e[0]=e[0]&&e[0].toLowerCase(),Dn.prototype[t].apply(i,e)}var sa,vf,mh,qi,_f,xf,bf,Zs,js,Ox,Rx,qs,wf,Nx,vh,Ks,Ex,zx,Bx,vn,Vx,Gx=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t}(Dn),Fx=Gx.prototype;Fx.on=kx("on"),Fx.off=kx("off");var _h=function(i){function t(e,n,r){var o=i.call(this,new UD)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},typeof n=="string"&&(n=Hx[n]),o._dom=e;var a="canvas",s=!1,l=o._zr=wp(e,{renderer:r.renderer||a,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,useDirtyRect:r.useDirtyRect==null?s:r.useDirtyRect});o._throttledZrFlush=th(Q(l.flush,l),17),(n=te(n))&&q1(n,!0),o._theme=n,o._locale=function(c){if(be(c)){var p=Gu[c.toUpperCase()]||{};return c===Vu||c===Md?te(p):de(te(p),te(Gu.EN),!1)}return de(te(c),te(Gu.EN),!1)}(r.locale||h1),o._coordSysMgr=new Qo;var u=o._api=Ex(o);function h(c,p){return c.__prio-p.__prio}return dp(bh,h),dp(Mf,h),o._scheduler=new N_(o,u,Mf,bh),o._messageCenter=new Gx,o._labelManager=new nL,o._initEvents(),o.resize=Q(o.resize,o),l.animation.on("frame",o._onframe,o),Ox(l,o),Rx(l,o),Ba(o),o}return z(t,i),t.prototype._onframe=function(){if(!this._disposed){Vx(this);var e=this._scheduler;if(this.__optionUpdated){var n=this.__optionUpdated.silent;this.__flagInMainProcess=!0,sa(this),qi.update.call(this),this._zr.flush(),this.__flagInMainProcess=!1,this.__optionUpdated=!1,Zs.call(this,n),js.call(this,n)}else if(e.unfinished){var r=1,o=this._model,a=this._api;e.unfinished=!1;do{var s=+new Date;e.performSeriesTasks(o),e.performDataProcessorTasks(o),xf(this,o),e.performVisualTasks(o),vh(this,this._model,a,"remain"),r-=+new Date-s}while(r>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.setOption=function(e,n,r){if(this._disposed)on(this.id);else{var o,a,s;if(Xs(n)&&(r=n.lazyUpdate,o=n.silent,a=n.replaceMerge,s=n.transition,n=n.notMerge),this.__flagInMainProcess=!0,!this._model||n){var l=new JA(this._api),u=this._theme,h=this._model=new Fd;h.scheduler=this._scheduler,h.init(null,null,null,u,this._locale,l)}this._model.setOption(e,{replaceMerge:a},If),Bx(this,s),r?(this.__optionUpdated={silent:o},this.__flagInMainProcess=!1,this.getZr().wakeUp()):(sa(this),qi.update.call(this),this._zr.flush(),this.__optionUpdated=!1,this.__flagInMainProcess=!1,Zs.call(this,o),js.call(this,o))}},t.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||DL&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){if(ue.canvasSupported)return(e=X({},e||{})).pixelRatio=e.pixelRatio||this.getDevicePixelRatio(),e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(e)},t.prototype.getSvgDataURL=function(){if(ue.svgSupported){var e=this._zr;return D(e.storage.getDisplayList(),function(n){n.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var n=(e=e||{}).excludeComponents,r=this._model,o=[],a=this;it(n,function(l){r.eachComponent({mainType:l},function(u){var h=a._componentsMap[u.__viewId];h.group.ignore||(o.push(h),h.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return it(o,function(l){l.group.ignore=!1}),s}on(this.id)},t.prototype.getConnectedDataURL=function(e){if(this._disposed)on(this.id);else if(ue.canvasSupported){var n=e.type==="svg",r=this.group,o=Math.min,a=Math.max,s=1/0;if(wh[r]){var l=s,u=s,h=-1/0,c=-1/0,p=[],d=e&&e.pixelRatio||this.getDevicePixelRatio();D(Qr,function(_,x){if(_.group===r){var b=n?_.getZr().painter.getSvgDom().innerHTML:_.getRenderedCanvas(te(e)),w=_.getDom().getBoundingClientRect();l=o(w.left,l),u=o(w.top,u),h=a(w.right,h),c=a(w.bottom,c),p.push({dom:b,left:w.left,top:w.top})}});var f=(h*=d)-(l*=d),g=(c*=d)-(u*=d),y=st(),m=wp(y,{renderer:n?"svg":"canvas"});if(m.resize({width:f,height:g}),n){var v="";return it(p,function(_){var x=_.left-l,b=_.top-u;v+='<g transform="translate('+x+","+b+')">'+_.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=v,e.connectedBackgroundColor&&m.painter.setBackgroundColor(e.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}return e.connectedBackgroundColor&&m.add(new Se({shape:{x:0,y:0,width:f,height:g},style:{fill:e.connectedBackgroundColor}})),it(p,function(_){var x=new ut({style:{x:_.left*d-l,y:_.top*d-u,image:_.dom}});m.add(x)}),m.refreshImmediately(),y.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,n){return _f(this,"convertToPixel",e,n)},t.prototype.convertFromPixel=function(e,n){return _f(this,"convertFromPixel",e,n)},t.prototype.containPixel=function(e,n){var r;if(!this._disposed)return D(Ir(this._model,e),function(o,a){a.indexOf("Models")>=0&&D(o,function(s){var l=s.coordinateSystem;if(l&&l.containPoint)r=r||!!l.containPoint(n);else if(a==="seriesModels"){var u=this._chartsMap[s.__viewId];u&&u.containPoint&&(r=r||u.containPoint(n,s))}},this)},this),!!r;on(this.id)},t.prototype.getVisual=function(e,n){var r=Ir(this._model,e,{defaultMainType:"series"}),o=r.seriesModel,a=o.getData(),s=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?a.indexOfRawIndex(r.dataIndex):null;return s!=null?nf(a,s,n):Fs(a,n)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e,n,r,o=this;it(LL,function(a){var s=function(u){var h,c=o.getModel(),p=u.target,d=a==="globalout";if(d?h={}:p&&oa(p,function(v){var _=se(v);if(_&&_.dataIndex!=null){var x=_.dataModel||c.getSeriesByIndex(_.seriesIndex);return h=x&&x.getDataParams(_.dataIndex,_.dataType)||{},!0}if(_.eventData)return h=X({},_.eventData),!0},!0),h){var f=h.componentType,g=h.componentIndex;f!=="markLine"&&f!=="markPoint"&&f!=="markArea"||(f="series",g=h.seriesIndex);var y=f&&g!=null&&c.getComponent(f,g),m=y&&o[y.mainType==="series"?"_chartsMap":"_componentsMap"][y.__viewId];h.event=u,h.type=a,o._$eventProcessor.eventInfo={targetEl:p,packedEvent:h,model:y,view:m},o.trigger(a,h)}};s.zrEventfulCallAtLast=!0,o._zr.on(a,s,o)}),it($s,function(a,s){o._messageCenter.on(s,function(l){this.trigger(s,l)},o)}),it(["selectchanged"],function(a){o._messageCenter.on(a,function(s){this.trigger(a,s)},o)}),e=this._messageCenter,n=this,r=this._api,e.on("selectchanged",function(a){var s=r.getModel();a.isFromClick?(ra("map","selectchanged",n,s,a),ra("pie","selectchanged",n,s,a)):a.fromAction==="select"?(ra("map","selected",n,s,a),ra("pie","selected",n,s,a)):a.fromAction==="unselect"&&(ra("map","unselected",n,s,a),ra("pie","unselected",n,s,a))})},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed?on(this.id):this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed)on(this.id);else{this._disposed=!0,Bv(this.getDom(),Df,"");var e=this._api,n=this._model;it(this._componentsViews,function(r){r.dispose(n,e)}),it(this._chartsViews,function(r){r.dispose(n,e)}),this._zr.dispose(),delete Qr[this.id]}},t.prototype.resize=function(e){if(this._disposed)on(this.id);else{this._zr.resize(e);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),n){var r=n.resetOption("media"),o=e&&e.silent;this.__flagInMainProcess=!0,r&&sa(this),qi.update.call(this,{type:"resize",animation:X({duration:0},e&&e.animation)}),this.__flagInMainProcess=!1,Zs.call(this,o),js.call(this,o)}}},t.prototype.showLoading=function(e,n){if(this._disposed)on(this.id);else if(Xs(e)&&(n=e,e=""),e=e||"default",this.hideLoading(),Af[e]){var r=Af[e](this._api,n),o=this._zr;this._loadingFX=r,o.add(r)}},t.prototype.hideLoading=function(){this._disposed?on(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var n=X({},e);return n.type=$s[e.type],n},t.prototype.dispatchAction=function(e,n){if(this._disposed)on(this.id);else if(Xs(n)||(n={silent:!!n}),xh[e.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(e);else{var r=n.silent;bf.call(this,e,r);var o=n.flush;o?this._zr.flush():o!==!1&&ue.browser.weChat&&this._throttledZrFlush(),Zs.call(this,r),js.call(this,r)}},t.prototype.updateLabelLayout=function(){var e=this._labelManager;e.updateLayoutConfig(this._api),e.layout(this._api),e.processLabelsOverall()},t.prototype.appendData=function(e){if(this._disposed)on(this.id);else{var n=e.seriesIndex,r=this.getModel().getSeriesByIndex(n);r.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(s){for(var l=[],u=s.currentStates,h=0;h<u.length;h++){var c=u[h];c!=="emphasis"&&c!=="blur"&&c!=="select"&&l.push(c)}s.selected&&s.states.select&&l.push("select"),s.hoverState===2&&s.states.emphasis?l.push("emphasis"):s.hoverState===1&&s.states.blur&&l.push("blur"),s.useStates(l)}function n(s,l){s.preventAutoZ||r(l.group,s.get("z")||0,s.get("zlevel")||0,-1/0)}function r(s,l,u,h){var c=s.getTextContent(),p=s.getTextGuideLine();if(s.isGroup)for(var d=s.childrenRef(),f=0;f<d.length;f++)h=Math.max(r(d[f],l,u,h),h);else s.z=l,s.zlevel=u,h=Math.max(s.z2,h);if(c&&(c.z=l,c.zlevel=u,isFinite(h)&&(c.z2=h+2)),p){var g=s.textGuideLineConfig;p.z=l,p.zlevel=u,isFinite(h)&&(p.z2=h+(g&&g.showAbove?1:-1))}return h}function o(s,l){l.group.traverse(function(u){if(!Wo(u)){var h=u.getTextContent(),c=u.getTextGuideLine();u.stateTransition&&(u.stateTransition=null),h&&h.stateTransition&&(h.stateTransition=null),c&&c.stateTransition&&(c.stateTransition=null),u.hasState()?(u.prevStates=u.currentStates,u.clearStates()):u.prevStates&&(u.prevStates=null)}})}function a(s,l){var u=s.getModel("stateAnimation"),h=s.isAnimationEnabled(),c=u.get("duration"),p=c>0?{duration:c,delay:u.get("delay"),easing:u.get("easing")}:null;l.group.traverse(function(d){if(d.states&&d.states.emphasis){if(Wo(d))return;if(d instanceof Me&&function(m){var v=v0(m);v.normalFill=m.style.fill,v.normalStroke=m.style.stroke;var _=m.states.select||{};v.selectFill=_.style&&_.style.fill||null,v.selectStroke=_.style&&_.style.stroke||null}(d),d.__dirty){var f=d.prevStates;f&&d.useStates(f)}if(h){d.stateTransition=p;var g=d.getTextContent(),y=d.getTextGuideLine();g&&(g.stateTransition=p),y&&(y.stateTransition=p)}d.__dirty&&e(d)}})}sa=function(l){var u=l._scheduler;u.restorePipelines(l._model),u.prepareStageTasks(),vf(l,!0),vf(l,!1),u.plan()},vf=function(l,u){for(var h=l._model,c=l._scheduler,p=u?l._componentsViews:l._chartsViews,d=u?l._componentsMap:l._chartsMap,f=l._zr,g=l._api,y=0;y<p.length;y++)p[y].__alive=!1;function m(_){var x=_.__requireNewView;_.__requireNewView=!1;var b="_ec_"+_.id+"_"+_.type,w=!x&&d[b];if(!w){var S=Yn(_.type),M=u?Ye.getClass(S.main,S.sub):Re.getClass(S.sub);(w=new M).init(h,g),d[b]=w,p.push(w),f.add(w.group)}_.__viewId=w.__id=b,w.__alive=!0,w.__model=_,w.group.__ecComponentInfo={mainType:_.mainType,index:_.componentIndex},!u&&c.prepareView(w,_,h,g)}for(u?h.eachComponent(function(_,x){_!=="series"&&m(x)}):h.eachSeries(m),y=0;y<p.length;){var v=p[y];v.__alive?y++:(!u&&v.renderTask.dispose(),f.remove(v.group),v.dispose(h,g),p.splice(y,1),d[v.__id]===v&&delete d[v.__id],v.__id=v.group.__ecComponentInfo=null)}},mh=function(l,u,h,c,p){var d=l._model;if(d.setUpdatePayload(h),c){var f={};f[c+"Id"]=h[c+"Id"],f[c+"Index"]=h[c+"Index"],f[c+"Name"]=h[c+"Name"];var g={mainType:c,query:f};p&&(g.subType=p);var y,m=h.excludeSeriesId;m!=null&&(y=re(),it(je(m),function(_){var x=dt(_,null);x!=null&&y.set(x,!0)})),ad(h)&&P0(l._api),d&&d.eachComponent(g,function(_){if(!y||y.get(_.id)==null){if(ad(h))if(_ instanceof ze)h.type!==zr||h.notBlur||function(S,M,I){var T=S.seriesIndex,C=S.getData(M.dataType),A=Mr(C,M);A=(W(A)?A[0]:A)||0;var L=C.getItemGraphicEl(A);if(!L)for(var k=C.count(),P=0;!L&&P<k;)L=C.getItemGraphicEl(P++);if(L){var O=se(L);td(T,O.focus,O.blurScope,I)}else{var R=S.get(["emphasis","focus"]),N=S.get(["emphasis","blurScope"]);R!=null&&td(T,R,N,I)}}(_,h,l._api);else{var x=id(_.mainType,_.componentIndex,h.name,l._api),b=x.focusSelf,w=x.dispatchers;h.type===zr&&b&&!h.notBlur&&nd(_.mainType,_.componentIndex,l._api),w&&it(w,function(S){h.type===zr?Jn(S):Qn(S)})}else od(h)&&_ instanceof ze&&(function(S,M,I){if(od(M)){var T=M.dataType,C=Mr(S.getData(T),M);W(C)||(C=[C]),S[M.type===gs?"toggleSelect":M.type===fs?"select":"unselect"](C,T)}}(_,h,l._api),O0(_),vn(l));v(l[c==="series"?"_chartsMap":"_componentsMap"][_.__viewId])}},l)}else it([].concat(l._componentsViews).concat(l._chartsViews),v);function v(_){_&&_.__alive&&_[u]&&_[u](_.__model,d,l._api,h)}},qi={prepareAndUpdate:function(l){sa(this),qi.update.call(this,l)},update:function(l){var u=this._model,h=this._api,c=this._zr,p=this._coordSysMgr,d=this._scheduler;if(u){u.setUpdatePayload(l),d.restoreData(u,l),d.performSeriesTasks(u),p.create(u,h),d.performDataProcessorTasks(u,l),xf(this,u),p.update(u,h),qs(u),d.performVisualTasks(u,l),wf(this,u,h,l);var f=u.get("backgroundColor")||"transparent",g=u.get("darkMode");if(ue.canvasSupported)c.setBackgroundColor(f),g!=null&&g!=="auto"&&c.setDarkMode(g);else{var y=Rt(f);f=Pn(y,"rgb"),y[3]===0&&(f="transparent")}Ks(u,h)}},updateTransform:function(l){var u=this,h=this._model,c=this._api;if(h){h.setUpdatePayload(l);var p=[];h.eachComponent(function(f,g){if(f!=="series"){var y=u.getViewOfComponentModel(g);if(y&&y.__alive)if(y.updateTransform){var m=y.updateTransform(g,h,c,l);m&&m.update&&p.push(y)}else p.push(y)}});var d=re();h.eachSeries(function(f){var g=u._chartsMap[f.__viewId];if(g.updateTransform){var y=g.updateTransform(f,h,c,l);y&&y.update&&d.set(f.uid,1)}else d.set(f.uid,1)}),qs(h),this._scheduler.performVisualTasks(h,l,{setDirty:!0,dirtyMap:d}),vh(this,h,c,l,d),Ks(h,this._api)}},updateView:function(l){var u=this._model;u&&(u.setUpdatePayload(l),Re.markUpdateMethod(l,"updateView"),qs(u),this._scheduler.performVisualTasks(u,l,{setDirty:!0}),wf(this,this._model,this._api,l),Ks(u,this._api))},updateVisual:function(l){var u=this,h=this._model;h&&(h.setUpdatePayload(l),h.eachSeries(function(c){c.getData().clearAllVisual()}),Re.markUpdateMethod(l,"updateVisual"),qs(h),this._scheduler.performVisualTasks(h,l,{visualType:"visual",setDirty:!0}),h.eachComponent(function(c,p){if(c!=="series"){var d=u.getViewOfComponentModel(p);d&&d.__alive&&d.updateVisual(p,h,u._api,l)}}),h.eachSeries(function(c){u._chartsMap[c.__viewId].updateVisual(c,h,u._api,l)}),Ks(h,this._api))},updateLayout:function(l){qi.update.call(this,l)}},_f=function(l,u,h,c){if(l._disposed)on(l.id);else for(var p,d=l._model,f=l._coordSysMgr.getCoordinateSystems(),g=Ir(d,h),y=0;y<f.length;y++){var m=f[y];if(m[u]&&(p=m[u](d,g,c))!=null)return p}},xf=function(l,u){var h=l._chartsMap,c=l._scheduler;u.eachSeries(function(p){c.updateStreamModes(p,h[p.__viewId])})},bf=function(l,u){var h=this,c=this.getModel(),p=l.type,d=l.escapeConnect,f=xh[p],g=f.actionInfo,y=(g.update||"update").split(":"),m=y.pop(),v=y[0]!=null&&Yn(y[0]);this.__flagInMainProcess=!0;var _=[l],x=!1;l.batch&&(x=!0,_=j(l.batch,function(C){return(C=J(X({},C),l)).batch=null,C}));var b,w=[],S=od(l),M=ad(l);if(it(_,function(C){if((b=(b=f.action(C,h._model,h._api))||X({},C)).type=g.event||b.type,w.push(b),M){var A=kp(l),L=A.queryOptionMap,k=A.mainTypeSpecified?L.keys()[0]:"series";mh(h,m,C,k),vn(h)}else S?(mh(h,m,C,"series"),vn(h)):v&&mh(h,m,C,v.main,v.sub)}),m==="none"||M||S||v||(this.__optionUpdated?(sa(this),qi.update.call(this,l),this.__optionUpdated=!1):qi[m].call(this,l)),b=x?{type:g.event||p,escapeConnect:d,batch:w}:w[0],this.__flagInMainProcess=!1,!u){var I=this._messageCenter;if(I.trigger(b.type,b),S){var T={type:"selectchanged",escapeConnect:d,selected:pA(c),isFromClick:l.isFromClick||!1,fromAction:l.type,fromActionPayload:l};I.trigger(T.type,T)}}},Zs=function(l){for(var u=this._pendingActions;u.length;){var h=u.shift();bf.call(this,h,l)}},js=function(l){!l&&this.trigger("updated")},Ox=function(l,u){l.on("rendered",function(h){u.trigger("rendered",h),!l.animation.isFinished()||u.__optionUpdated||u._scheduler.unfinished||u._pendingActions.length||u.trigger("finished")})},Rx=function(l,u){l.on("mouseover",function(h){var c=oa(h.target,Mu);c&&(function(p,d,f){var g=se(p),y=id(g.componentMainType,g.componentIndex,g.componentHighDownName,f),m=y.dispatchers,v=y.focusSelf;m?(v&&nd(g.componentMainType,g.componentIndex,f),D(m,function(_){return I0(_,d)})):(td(g.seriesIndex,g.focus,g.blurScope,f),g.focus==="self"&&nd(g.componentMainType,g.componentIndex,f),I0(p,d))}(c,h,u._api),vn(u))}).on("mouseout",function(h){var c=oa(h.target,Mu);c&&(function(p,d,f){P0(f);var g=se(p),y=id(g.componentMainType,g.componentIndex,g.componentHighDownName,f).dispatchers;y?D(y,function(m){return T0(m,d)}):T0(p,d)}(c,h,u._api),vn(u))}).on("click",function(h){var c=oa(h.target,function(f){return se(f).dataIndex!=null},!0);if(c){var p=c.selected?"unselect":"select",d=se(c);u._api.dispatchAction({type:p,dataType:d.dataType,dataIndexInside:d.dataIndex,seriesIndex:d.seriesIndex,isFromClick:!0})}})},qs=function(l){l.clearColorPalette(),l.eachSeries(function(u){u.clearColorPalette()})},wf=function(l,u,h,c){Nx(l,u,h,c),it(l._chartsViews,function(p){p.__alive=!1}),vh(l,u,h,c),it(l._chartsViews,function(p){p.__alive||p.remove(u,h)})},Nx=function(l,u,h,c,p){it(p||l._componentsViews,function(d){var f=d.__model;o(f,d),d.render(f,u,h,c),n(f,d),a(f,d)})},vh=function(l,u,h,c,p){var d=l._scheduler,f=l._labelManager;f.clearLabels();var g=!1;u.eachSeries(function(y){var m=l._chartsMap[y.__viewId];m.__alive=!0;var v=m.renderTask;d.updatePayload(v,c),o(y,m),p&&p.get(y.uid)&&v.dirty(),v.perform(d.getPerformArgs(v))&&(g=!0),y.__transientTransitionOpt=null,m.group.silent=!!y.get("silent"),function(_,x){var b=_.get("blendMode")||null;x.group.traverse(function(w){w.isGroup||(w.style.blend=b),w.eachPendingDisplayable&&w.eachPendingDisplayable(function(S){S.style.blend=b})})}(y,m),O0(y),f.addLabelsOfSeries(m)}),d.unfinished=g||d.unfinished,f.updateLayoutConfig(h),f.layout(h),f.processLabelsOverall(),u.eachSeries(function(y){var m=l._chartsMap[y.__viewId];n(y,m),a(y,m)}),function(y,m){var v=y._zr.storage,_=0;v.traverse(function(x){x.isGroup||_++}),_>m.get("hoverLayerThreshold")&&!ue.node&&!ue.worker&&m.eachSeries(function(x){if(!x.preventUsingHoverLayer){var b=y._chartsMap[x.__viewId];b.__alive&&b.group.traverse(function(w){w.states.emphasis&&(w.states.emphasis.hoverLayer=!0)})}})}(l,u)},Ks=function(l,u){it(Cf,function(h){h(l,u)})},vn=function(l){l.__needsUpdateStatus=!0,l.getZr().wakeUp()},Vx=function(l){l.__needsUpdateStatus&&(l.getZr().storage.traverse(function(u){Wo(u)||e(u)}),l.__needsUpdateStatus=!1)},Ex=function(l){return new(function(u){function h(){return u!==null&&u.apply(this,arguments)||this}return z(h,u),h.prototype.getCoordinateSystems=function(){return l._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(c){for(;c;){var p=c.__ecComponentInfo;if(p!=null)return l._model.getComponent(p.mainType,p.index);c=c.parent}},h.prototype.enterEmphasis=function(c,p){Jn(c,p),vn(l)},h.prototype.leaveEmphasis=function(c,p){Qn(c,p),vn(l)},h.prototype.enterBlur=function(c){C0(c),vn(l)},h.prototype.leaveBlur=function(c){A0(c),vn(l)},h.prototype.enterSelect=function(c){D0(c),vn(l)},h.prototype.leaveSelect=function(c){L0(c),vn(l)},h.prototype.getModel=function(){return l.getModel()},h.prototype.getViewOfComponentModel=function(c){return l.getViewOfComponentModel(c)},h.prototype.getViewOfSeriesModel=function(c){return l.getViewOfSeriesModel(c)},h}(H1))(l)},zx=function(l){function u(h,c){for(var p=0;p<h.length;p++)h[p][mf]=c}it($s,function(h,c){l._messageCenter.on(c,function(p){if(wh[l.group]&&l[mf]!==0){if(p&&p.escapeConnect)return;var d=l.makeActionFromEvent(p),f=[];it(Qr,function(g){g!==l&&g.group===l.group&&f.push(g)}),u(f,0),it(f,function(g){g[mf]!==1&&g.dispatchAction(d)}),u(f,2)}})})},Bx=function(l,u){var h=l._model;D(je(u),function(c){var p,d=c.from,f=c.to;f==null&&Ce(p);var g={includeMainTypes:["series"],enableAll:!1,enableNone:!1},y=d?Ir(h,d,g):null,m=Ir(h,f,g).seriesModel;m==null&&(p=""),y&&y.seriesModel!==m&&(p=""),p!=null&&Ce(p),m.__transientTransitionOpt={from:d?d.dimension:null,to:f.dimension,dividingMethod:c.dividingMethod}})}}(),t}(Dn),Sf=_h.prototype;Sf.on=Lx("on"),Sf.off=Lx("off"),Sf.one=function(i,t,e){var n=this;Pv(),this.on.call(this,i,function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t&&t.apply&&t.apply(this,o),n.off(i,r)},e)};var LL=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function on(i){}var xh={},$s={},Mf=[],If=[],Tf=[],Cf=[],bh=[],Hx={},Af={},Qr={},wh={},kL=+new Date-0,PL=+new Date-0,Df="_echarts_instance_";function Wx(i){wh[i]=!1}var OL=Wx;function Lf(i){return Qr[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(i,Df)]}function kf(i,t){Hx[i]=t}function Pf(i){gh(If,i)<0&&If.push(i)}function Of(i,t){Rf(Mf,i,t,2e3)}function Ux(i){gh(Tf,i)<0&&i&&Tf.push(i)}function Yx(i){gh(Cf,i)<0&&i&&Cf.push(i)}function Gn(i,t,e){typeof t=="function"&&(e=t,t="");var n=Xs(i)?i.type:[i,i={event:t}][0];i.event=(i.event||n).toLowerCase(),t=i.event,$s[t]||(CL(Dx.test(n)&&Dx.test(t)),xh[n]||(xh[n]={action:e,actionInfo:i}),$s[t]=n)}function Xx(i,t){Qo.register(i,t)}function Zx(i,t){Rf(bh,i,t,1e3,"layout")}function Ki(i,t){Rf(bh,i,t,3e3,"visual")}var jx=[];function Rf(i,t,e,n,r){if((AL(t)||Xs(t))&&(e=t,t=n),!(gh(jx,e)>=0)){jx.push(e);var o=N_.wrapStageHandler(e,r);o.__prio=t,o.__raw=e,i.push(o)}}function Nf(i,t){Af[i]=t}function qx(i,t,e){IL(i,t,e)}var Kx=function(t){var e=(t=te(t)).type,n="";e||Ce(n);var r=e.split(":");r.length!==2&&Ce(n);var o=!1;r[0]==="echarts"&&(e=r[1],o=!0),t.__isBuiltIn=o,p_.set(e,t)};Ki(yf,kD),Ki(yh,PD),Ki(yh,OD),Ki(yf,YD),Ki(yh,{createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(n,r){var o=n.getItemModel(r),a=o.getShallow("symbol",!0),s=o.getShallow("symbolSize",!0),l=o.getShallow("symbolRotate",!0),u=o.getShallow("symbolOffset",!0),h=o.getShallow("symbolKeepAspect",!0);a!=null&&n.setItemVisual(r,"symbol",a),s!=null&&n.setItemVisual(r,"symbolSize",s),l!=null&&n.setItemVisual(r,"symbolRotate",l),u!=null&&n.setItemVisual(r,"symbolOffset",u),h!=null&&n.setItemVisual(r,"symbolKeepAspect",h)}:null}}}),Ki(7e3,function(i,t){i.eachRawSeries(function(e){if(!i.isSeriesFiltered(e)){var n=e.getData();n.hasItemVisual()&&n.each(function(o){var a=n.getItemVisual(o,"decal");a&&(n.ensureUniqueItemVisual(o,"style").decal=Us(a,t))});var r=n.getVisual("decal");r&&(n.getVisual("style").decal=Us(r,t))}})}),Pf(q1),Of(900,function(i){var t=re();i.eachSeries(function(e){var n=e.get("stack");if(n){var r=t.get(n)||t.set(n,[]),o=e.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:e};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),t.each(iD)}),Nf("default",function(i,t){J(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new oe,n=new Se({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(n);var r,o=new Ie({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new Se({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return e.add(a),t.showSpinner&&((r=new _s({shape:{startAngle:-nh/2,endAngle:-nh/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*nh/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*nh/2}).delay(300).start("circularInOut"),e.add(r)),e.resize=function(){var s=o.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(i.getWidth()-2*l-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),h=i.getHeight()/2;t.showSpinner&&r.setShape({cx:u,cy:h}),a.setShape({x:u-l,y:h-l,width:2*l,height:2*l}),n.setShape({x:0,y:0,width:i.getWidth(),height:i.getHeight()})},e.resize(),e}),Gn({type:zr,event:zr,update:zr},sn),Gn({type:xu,event:xu,update:xu},sn),Gn({type:fs,event:fs,update:fs},sn),Gn({type:bu,event:bu,update:bu},sn),Gn({type:gs,event:gs,update:gs},sn),kf("light",WD),kf("dark",H_);var $x=[],RL={registerPreprocessor:Pf,registerProcessor:Of,registerPostInit:Ux,registerPostUpdate:Yx,registerAction:Gn,registerCoordinateSystem:Xx,registerLayout:Zx,registerVisual:Ki,registerTransform:Kx,registerLoading:Nf,registerMap:qx,PRIORITY:Ax,ComponentModel:ve,ComponentView:Ye,SeriesModel:ze,ChartView:Re,registerComponentModel:function(t){ve.registerClass(t)},registerComponentView:function(t){Ye.registerClass(t)},registerSeriesModel:function(t){ze.registerClass(t)},registerChartView:function(t){Re.registerClass(t)},registerSubTypeDefaulter:function(t,e){ve.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Iv(t,e)}};function _e(i){W(i)?D(i,function(t){_e(t)}):ie($x,i)>=0||($x.push(i),Pe(i)&&(i={install:i}),i.install(RL))}function Js(i){return i==null?0:i.length||1}function Jx(i){return i}var $i=function(){function i(t,e,n,r,o,a){this._old=t,this._new=e,this._oldKeyGetter=n||Jx,this._newKeyGetter=r||Jx,this.context=o,this._diffModeMultiple=a==="multiple"}return i.prototype.add=function(t){return this._add=t,this},i.prototype.update=function(t){return this._update=t,this},i.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},i.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},i.prototype.remove=function(t){return this._remove=t,this},i.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},i.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},r=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,n,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var s=r[a],l=n[s],u=Js(l);if(u>1){var h=l.shift();l.length===1&&(n[s]=l[0]),this._update&&this._update(h,a)}else u===1?(n[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,n)},i.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},r={},o=[],a=[];this._initIndexMap(t,n,o,"_oldKeyGetter"),this._initIndexMap(e,r,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],u=n[l],h=r[l],c=Js(u),p=Js(h);if(c>1&&p===1)this._updateManyToOne&&this._updateManyToOne(h,u),r[l]=null;else if(c===1&&p>1)this._updateOneToMany&&this._updateOneToMany(h,u),r[l]=null;else if(c===1&&p===1)this._update&&this._update(h,u),r[l]=null;else if(c>1)for(var d=0;d<c;d++)this._remove&&this._remove(u[d]);else this._remove&&this._remove(u)}this._performRestAdd(a,r)},i.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e[r],a=Js(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else a===1&&this._add&&this._add(o);e[r]=null}},i.prototype._initIndexMap=function(t,e,n,r){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var s="_ec_"+this[r](t[a],a);if(o||(n[a]=s),e){var l=e[s],u=Js(l);u===0?(e[s]=a,o&&n.push(s)):u===1?e[s]=[l,a]:l.push(a)}}},i}();function Ef(i,t){return i.hasOwnProperty(t)||(i[t]=[]),i[t]}function Sh(i){return i==="category"?"ordinal":i==="time"?"time":"float"}var zf,Bf,la,Vf,ua,eo,Mh,Qs,Gf,Ih,Th,el,Qx,Ff,tl=function(t){this.otherDims={},t!=null&&X(this,t)},eb=Math.floor,nl=ae,_n=j,il="undefined",NL={float:typeof Float64Array===il?Array:Float64Array,int:typeof Int32Array===il?Array:Int32Array,ordinal:Array,number:Array,time:Array},EL=typeof Uint32Array===il?Array:Uint32Array,zL=typeof Int32Array===il?Array:Int32Array,BL=typeof Uint16Array===il?Array:Uint16Array,VL=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx","_nameRepeatCount"],GL=["_extent","_approximateExtent","_rawExtent"],Pt=function(){function i(t,e){this.type="list",this._count=0,this._rawCount=0,this._storage={},this._storageArr=[],this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawExtent={},this._extent={},this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!0,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"],this.getRawIndex=ua,t=t||["x","y"];for(var n={},r=[],o={},a=0;a<t.length;a++){var s=t[a],l=be(s)?new tl({name:s}):s instanceof tl?s:new tl(s),u=l.name;l.type=l.type||"float",l.coordDim||(l.coordDim=u,l.coordDimIndex=0);var h=l.otherDims=l.otherDims||{};r.push(u),n[u]=l,l.index=a,l.createInvertedIndices&&(o[u]=[]),h.itemName===0&&(this._nameDimIdx=a,this._nameOrdinalMeta=l.ordinalMeta),h.itemId===0&&(this._idDimIdx=a,this._idOrdinalMeta=l.ordinalMeta)}this.dimensions=r,this._dimensionInfos=n,this.hostModel=e,this._dimensionsSummary=function(c){var p={},d=p.encode={},f=re(),g=[],y=[],m=p.userOutput={dimensionNames:c.dimensions.slice(),encode:{}};D(c.dimensions,function(w){var S,M=c.getDimensionInfo(w),I=M.coordDim;if(I){var T=M.coordDimIndex;Ef(d,I)[T]=w,M.isExtraCoord||(f.set(I,1),(S=M.type)!=="ordinal"&&S!=="time"&&(g[0]=w),Ef(m.encode,I)[T]=M.index),M.defaultTooltip&&y.push(w)}L1.each(function(C,A){var L=Ef(d,A),k=M.otherDims[A];k!=null&&k!==!1&&(L[k]=M.name)})});var v=[],_={};f.each(function(w,S){var M=d[S];_[S]=M[0],v=v.concat(M)}),p.dataDimsOnCoord=v,p.encodeFirstDimNotExtra=_;var x=d.label;x&&x.length&&(g=x.slice());var b=d.tooltip;return b&&b.length?y=b.slice():y.length||(y=g.slice()),d.defaultedLabel=g,d.defaultedTooltip=y,p}(this),this._invertedIndicesMap=o,this.userOutput=this._dimensionsSummary.userOutput}return i.prototype.getDimension=function(t){return typeof t!="number"&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},i.prototype.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},i.prototype.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},i.prototype.mapDimension=function(t,e){var n=this._dimensionsSummary;if(e==null)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return r?r[e]:null},i.prototype.mapDimensionsAll=function(t){return(this._dimensionsSummary.encode[t]||[]).slice()},i.prototype.initData=function(t,e,n){var r=$u(t)||Be(t),o=r?new rD(t,this.dimensions.length):t;this._rawData=o;var a=o.getSource().sourceFormat;this._storage={},this._indices=null,this._dontMakeIdFromName=this._idDimIdx!=null||a===Jo||!!o.fillStorage,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=zf[a],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=zf.arrayRows,this._rawExtent={},this._initDataFromProvider(0,o.count()),o.pure&&(this.hasItemOption=!1)},i.prototype.getProvider=function(){return this._rawData},i.prototype.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var r=e.count();e.persistent||(r+=n),this._initDataFromProvider(n,r,!0)},i.prototype.appendValues=function(t,e){for(var n=this._storage,r=this.dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e?e.length:0),u=0;u<o;u++){var h=r[u];a[h]||(a[h]=el()),Vf(n,this._dimensionInfos[h],l,!0)}for(var c=_n(r,function(_){return a[_]}),p=this._storageArr=_n(r,function(_){return n[_]}),d=[],f=s;f<l;f++){for(var g=f-s,y=0;y<o;y++){h=r[y];var m=this._dimValueGetterArrayRows(t[g]||d,h,g,y);p[y][f]=m;var v=c[y];m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}e&&(this._nameList[f]=e[g],this._dontMakeIdFromName||Gf(this,f))}this._rawCount=this._count=l,this._extent={},Bf(this)},i.prototype._initDataFromProvider=function(t,e,n){if(!(t>=e)){for(var r=this._rawData,o=this._storage,a=this.dimensions,s=a.length,l=this._dimensionInfos,u=this._nameList,h=this._idList,c=this._rawExtent,p=r.getSource().sourceFormat===$o,d=0;d<s;d++){var f=a[d];c[f]||(c[f]=el()),Vf(o,l[f],e,n)}var g=this._storageArr=_n(a,function(I){return o[I]}),y=_n(a,function(I){return c[I]});if(r.fillStorage)r.fillStorage(t,e,g,y);else for(var m=[],v=t;v<e;v++){m=r.getItem(v,m);for(var _=0;_<s;_++){f=a[_];var x=g[_],b=this._dimValueGetter(m,f,v,_);x[v]=b;var w=y[_];b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}if(p&&!r.pure&&m){var S=m.name;u[v]==null&&S!=null&&(u[v]=dt(S,null));var M=m.id;h[v]==null&&M!=null&&(h[v]=dt(M,null))}this._dontMakeIdFromName||Gf(this,v)}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent={},Bf(this)}},i.prototype.count=function(){return this._count},i.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,r=this._count;if(n===Array){t=new n(r);for(var o=0;o<r;o++)t[o]=e[o]}else t=new n(e.buffer,0,r)}else for(t=new(n=la(this))(this.count()),o=0;o<t.length;o++)t[o]=o;return t},i.prototype.getByDimIdx=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storageArr[t];return n?n[this.getRawIndex(e)]:NaN},i.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage[t];return n?n[this.getRawIndex(e)]:NaN},i.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];return n?n[e]:NaN},i.prototype.getValues=function(t,e){var n=[];W(t)||(e=t,t=this.dimensions);for(var r=0,o=t.length;r<o;r++)n.push(this.get(t[r],e));return n},i.prototype.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=0,r=e.length;n<r;n++)if(isNaN(this.get(e[n],t)))return!1;return!0},i.prototype.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],n=el();if(!e)return n;var r,o=this.count();if(!this._indices)return this._rawExtent[t].slice();if(r=this._extent[t])return r.slice();for(var a=(r=n)[0],s=r[1],l=0;l<o;l++){var u=e[this.getRawIndex(l)];u<a&&(a=u),u>s&&(s=u)}return r=[a,s],this._extent[t]=r,r},i.prototype.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},i.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},i.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},i.prototype.setCalculationInfo=function(t,e){nl(t)?X(this._calculationInfo,t):this._calculationInfo[t]=e},i.prototype.getSum=function(t){var e=0;if(this._storage[t])for(var n=0,r=this.count();n<r;n++){var o=this.get(t,n);isNaN(o)||(e+=o)}return e},i.prototype.getMedian=function(t){var e=[];this.each(t,function(o){isNaN(o)||e.push(o)});var n=e.sort(function(o,a){return o-a}),r=this.count();return r===0?0:r%2==1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},i.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t],r=n[e];return r==null||isNaN(r)?-1:r},i.prototype.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},i.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(n!=null&&n<this._count&&n===t)return t;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(e[a]<t)r=a+1;else{if(!(e[a]>t))return a;o=a-1}}return-1},i.prototype.indicesOfNearest=function(t,e,n){var r=this._storage[t],o=[];if(!r)return o;n==null&&(n=1/0);for(var a=1/0,s=-1,l=0,u=0,h=this.count();u<h;u++){var c=e-r[this.getRawIndex(u)],p=Math.abs(c);p<=n&&((p<a||p===a&&c>=0&&s<0)&&(a=p,s=c,l=0),c===s&&(o[l++]=u))}return o.length=l,o},i.prototype.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var r=this.dimensions[n];e.push(this.get(r,t))}return e},i.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return n==null&&this._nameDimIdx!=null&&(n=Qs(this,this._nameDimIdx,this._nameOrdinalMeta,e)),n==null&&(n=""),n},i.prototype.getId=function(t){return Mh(this,this.getRawIndex(t))},i.prototype.each=function(t,e,n,r){var o=this;if(this._count){typeof t=="function"&&(r=n,n=e,e=t,t=[]);for(var a=n||r||this,s=_n(Ih(t),this.getDimension,this),l=s.length,u=_n(s,function(y){return o._dimensionInfos[y].index}),h=this._storageArr,c=0,p=this.count();c<p;c++){var d=this.getRawIndex(c);switch(l){case 0:e.call(a,c);break;case 1:e.call(a,h[u[0]][d],c);break;case 2:e.call(a,h[u[0]][d],h[u[1]][d],c);break;default:for(var f=0,g=[];f<l;f++)g[f]=h[u[f]][d];g[f]=c,e.apply(a,g)}}}},i.prototype.filterSelf=function(t,e,n,r){var o=this;if(this._count){typeof t=="function"&&(r=n,n=e,e=t,t=[]);for(var a=n||r||this,s=_n(Ih(t),this.getDimension,this),l=this.count(),u=new(la(this))(l),h=[],c=s.length,p=0,d=_n(s,function(b){return o._dimensionInfos[b].index}),f=d[0],g=this._storageArr,y=0;y<l;y++){var m=void 0,v=this.getRawIndex(y);if(c===0)m=e.call(a,y);else if(c===1){var _=g[f][v];m=e.call(a,_,y)}else{for(var x=0;x<c;x++)h[x]=g[d[x]][v];h[x]=y,m=e.apply(a,h)}m&&(u[p++]=v)}return p<l&&(this._indices=u),this._count=p,this._extent={},this.getRawIndex=this._indices?eo:ua,this}},i.prototype.selectRange=function(t){var e=this,n=this._count;if(n){var r=[];for(var o in t)t.hasOwnProperty(o)&&r.push(o);var a=r.length;if(a){var s=this.count(),l=new(la(this))(s),u=0,h=r[0],c=_n(r,function(A){return e._dimensionInfos[A].index}),p=t[h][0],d=t[h][1],f=this._storageArr,g=!1;if(!this._indices){var y=0;if(a===1){for(var m=f[c[0]],v=0;v<n;v++)((w=m[v])>=p&&w<=d||isNaN(w))&&(l[u++]=y),y++;g=!0}else if(a===2){m=f[c[0]];var _=f[c[1]],x=t[r[1]][0],b=t[r[1]][1];for(v=0;v<n;v++){var w=m[v],S=_[v];(w>=p&&w<=d||isNaN(w))&&(S>=x&&S<=b||isNaN(S))&&(l[u++]=y),y++}g=!0}}if(!g)if(a===1)for(v=0;v<s;v++){var M=this.getRawIndex(v);((w=f[c[0]][M])>=p&&w<=d||isNaN(w))&&(l[u++]=M)}else for(v=0;v<s;v++){for(var I=!0,T=(M=this.getRawIndex(v),0);T<a;T++){var C=r[T];((w=f[c[T]][M])<t[C][0]||w>t[C][1])&&(I=!1)}I&&(l[u++]=this.getRawIndex(v))}return u<s&&(this._indices=l),this._count=u,this._extent={},this.getRawIndex=this._indices?eo:ua,this}}},i.prototype.mapArray=function(t,e,n,r){typeof t=="function"&&(r=n,n=e,e=t,t=[]),n=n||r||this;var o=[];return this.each(t,function(){o.push(e&&e.apply(this,arguments))},n),o},i.prototype.map=function(t,e,n,r){var o=n||r||this,a=_n(Ih(t),this.getDimension,this),s=Th(this,a),l=s._storage;s._indices=this._indices,s.getRawIndex=s._indices?eo:ua;for(var u=[],h=a.length,c=this.count(),p=[],d=s._rawExtent,f=0;f<c;f++){for(var g=0;g<h;g++)p[g]=this.get(a[g],f);p[h]=f;var y=e&&e.apply(o,p);if(y!=null){typeof y!="object"&&(u[0]=y,y=u);for(var m=this.getRawIndex(f),v=0;v<y.length;v++){var _=a[v],x=y[v],b=d[_],w=l[_];w&&(w[m]=x),x<b[0]&&(b[0]=x),x>b[1]&&(b[1]=x)}}}return s},i.prototype.downSample=function(t,e,n,r){for(var o=Th(this,[t]),a=o._storage,s=[],l=eb(1/e),u=a[t],h=this.count(),c=o._rawExtent[t],p=new(la(this))(h),d=0,f=0;f<h;f+=l){l>h-f&&(l=h-f,s.length=l);for(var g=0;g<l;g++){var y=this.getRawIndex(f+g);s[g]=u[y]}var m=n(s),v=this.getRawIndex(Math.min(f+r(s,m)||0,h-1));u[v]=m,m<c[0]&&(c[0]=m),m>c[1]&&(c[1]=m),p[d++]=v}return o._count=d,o._indices=p,o.getRawIndex=eo,o},i.prototype.lttbDownSample=function(t,e){var n,r,o,a=Th(this,[]),s=a._storage[t],l=this.count(),u=new(la(this))(l),h=0,c=eb(1/e),p=this.getRawIndex(0);u[h++]=p;for(var d=1;d<l-1;d+=c){for(var f=Math.min(d+c,l-1),g=Math.min(d+2*c,l),y=(g+f)/2,m=0,v=f;v<g;v++){var _=s[M=this.getRawIndex(v)];isNaN(_)||(m+=_)}m/=g-f;var x=d,b=Math.min(d+c,l),w=d-1,S=s[p];for(n=-1,o=x,v=x;v<b;v++){var M;_=s[M=this.getRawIndex(v)],isNaN(_)||(r=Math.abs((w-y)*(_-S)-(w-v)*(m-S)))>n&&(n=r,o=M)}u[h++]=o,p=o}return u[h++]=this.getRawIndex(l-1),a._count=h,a._indices=u,a.getRawIndex=eo,a},i.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new Ae(n,e,e&&e.ecModel)},i.prototype.diff=function(t){var e=this;return new $i(t?t.getIndices():[],this.getIndices(),function(n){return Mh(t,n)},function(n){return Mh(e,n)})},i.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},i.prototype.setVisual=function(t,e){this._visual=this._visual||{},nl(t)?X(this._visual,t):this._visual[t]=e},i.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],r=n&&n[e];return r==null?this.getVisual(e):r},i.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},i.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,r=n[t];r||(r=n[t]={});var o=r[e];return o==null&&(W(o=this.getVisual(e))?o=o.slice():nl(o)&&(o=X({},o)),r[e]=o),o},i.prototype.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,nl(e)?X(r,e):r[e]=n},i.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},i.prototype.setLayout=function(t,e){if(nl(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},i.prototype.getLayout=function(t){return this._layout[t]},i.prototype.getItemLayout=function(t){return this._itemLayouts[t]},i.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?X(this._itemLayouts[t]||{},e):e},i.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},i.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel;if(e){var r=se(e);r.dataIndex=t,r.dataType=this.dataType,r.seriesIndex=n&&n.seriesIndex,e.type==="group"&&e.traverse(Qx,e)}this._graphicEls[t]=e},i.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},i.prototype.eachItemGraphicEl=function(t,e){D(this._graphicEls,function(n,r){n&&t&&t.call(e,n,r)})},i.prototype.cloneShallow=function(t){if(t||(t=new i(_n(this.dimensions,this.getDimensionInfo,this),this.hostModel)),t._storage=this._storage,t._storageArr=this._storageArr,Ff(t,this),this._indices){var e=this._indices.constructor;if(e===Array){var n=this._indices.length;t._indices=new e(n);for(var r=0;r<n;r++)t._indices[r]=this._indices[r]}else t._indices=new e(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?eo:ua,t},i.prototype.wrapMethod=function(t,e){var n=this[t];typeof n=="function"&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var r=n.apply(this,arguments);return e.apply(this,[r].concat(Kl(arguments)))})},i.internalField=function(){function t(e,n,r,o){return Ju(e[o],this._dimensionInfos[n])}zf={arrayRows:t,objectRows:function(n,r,o,a){return Ju(n[r],this._dimensionInfos[r])},keyedColumns:t,original:function(n,r,o,a){var s=n&&(n.value==null?n:n.value);return!this._rawData.pure&&function(l){return ae(l)&&!(l instanceof Array)}(n)&&(this.hasItemOption=!0),Ju(s instanceof Array?s[a]:s,this._dimensionInfos[r])},typedArray:function(n,r,o,a){return n[a]}},Bf=function(n){var r=n._invertedIndicesMap;D(r,function(o,a){var s=n._dimensionInfos[a].ordinalMeta;if(s){o=r[a]=new zL(s.categories.length);for(var l=0;l<o.length;l++)o[l]=-1;for(l=0;l<n._count;l++)o[n.get(a,l)]=l}})},Qs=function(n,r,o,a){var s,l=n._storageArr[r];return l&&(s=l[a],o&&o.categories.length&&(s=o.categories[s])),dt(s,null)},la=function(n){return n._rawCount>65535?EL:BL},Vf=function(n,r,o,a){var s=NL[r.type],l=r.name;if(a){var u=n[l],h=u&&u.length;if(h!==o){for(var c=new s(o),p=0;p<h;p++)c[p]=u[p];n[l]=c}}else n[l]=new s(o)},ua=function(n){return n},eo=function(n){return n<this._count&&n>=0?this._indices[n]:-1},Mh=function(n,r){var o=n._idList[r];return o==null&&n._idDimIdx!=null&&(o=Qs(n,n._idDimIdx,n._idOrdinalMeta,r)),o==null&&(o="e\0\0"+r),o},Ih=function(n){return W(n)||(n=n!=null?[n]:[]),n},Th=function(n,r){var o=n.dimensions,a=new i(_n(o,n.getDimensionInfo,n),n.hostModel);Ff(a,n);for(var s,l,u=a._storage={},h=n._storage,c=a._storageArr=[],p=0;p<o.length;p++){var d=o[p];h[d]&&(ie(r,d)>=0?(u[d]=(s=h[d],l=void 0,(l=s.constructor)===Array?s.slice():new l(s)),a._rawExtent[d]=el(),a._extent[d]=null):u[d]=h[d],c.push(u[d]))}return a},el=function(){return[1/0,-1/0]},Qx=function(n){var r=se(n),o=se(this);r.seriesIndex=o.seriesIndex,r.dataIndex=o.dataIndex,r.dataType=o.dataType},Ff=function(n,r){D(VL.concat(r.__wrappedMethods||[]),function(o){r.hasOwnProperty(o)&&(n[o]=r[o])}),n.__wrappedMethods=r.__wrappedMethods,D(GL,function(o){n[o]=te(r[o])}),n._calculationInfo=X({},r._calculationInfo)},Gf=function(n,r){var o=n._nameList,a=n._idList,s=n._nameDimIdx,l=n._idDimIdx,u=o[r],h=a[r];if(u==null&&s!=null&&(o[r]=u=Qs(n,s,n._nameOrdinalMeta,r)),h==null&&l!=null&&(a[r]=h=Qs(n,l,n._idOrdinalMeta,r)),h==null&&u!=null){var c=n._nameRepeatCount,p=c[u]=(c[u]||0)+1;h=u,p>1&&(h+="__ec__"+p),a[r]=h}}}(),i}();function FL(i,t,e){$u(t)||(t=Xd(t)),e=e||{},i=(i||[]).slice();for(var n=(e.dimsDef||[]).slice(),r=re(),o=re(),a=[],s=function(w,S,M,I){var T=Math.max(w.dimensionsDetectedCount||1,S.length,M.length,I||0);return D(S,function(C){var A;ae(C)&&(A=C.dimsDef)&&(T=Math.max(T,A.length))}),T}(t,i,n,e.dimCount),l=0;l<s;l++){var u=n[l],h=n[l]=X({},ae(u)?u:{name:u}),c=h.name,p=a[l]=new tl;c!=null&&r.get(c)==null&&(p.name=p.displayName=c,r.set(c,l)),h.type!=null&&(p.type=h.type),h.displayName!=null&&(p.displayName=h.displayName)}var d=e.encodeDef;!d&&e.encodeDefaulter&&(d=e.encodeDefaulter(t,s));var f=re(d);f.each(function(w,S){var M=je(w).slice();if(M.length===1&&!be(M[0])&&M[0]<0)f.set(S,!1);else{var I=f.set(S,[]);D(M,function(T,C){var A=be(T)?r.get(T):T;A!=null&&A<s&&(I[C]=A,y(a[A],S,C))})}});var g=0;function y(w,S,M){L1.get(S)!=null?w.otherDims[S]=M:(w.coordDim=S,w.coordDimIndex=M,o.set(S,!0))}D(i,function(w){var S,M,I,T;if(be(w))S=w,T={};else{S=(T=w).name;var C=T.ordinalMeta;T.ordinalMeta=null,(T=te(T)).ordinalMeta=C,M=T.dimsDef,I=T.otherDims,T.name=T.coordDim=T.coordDimIndex=T.dimsDef=T.otherDims=null}var A=f.get(S);if(A!==!1){if(!(A=je(A)).length)for(var L=0;L<(M&&M.length||1);L++){for(;g<a.length&&a[g].coordDim!=null;)g++;g<a.length&&A.push(g++)}D(A,function(k,P){var O=a[k];if(y(J(O,T),S,P),O.name==null&&M){var R=M[P];!ae(R)&&(R={name:R}),O.name=O.displayName=R.name,O.defaultTooltip=R.defaultTooltip}I&&J(O.otherDims,I)})}});var m=e.generateCoord,v=e.generateCoordCount,_=v!=null;v=m?v||1:0;for(var x=m||"value",b=0;b<s;b++)(p=a[b]=a[b]||new tl).coordDim==null&&(p.coordDim=tb(x,o,_),p.coordDimIndex=0,(!m||v<=0)&&(p.isExtraCoord=!0),v--),p.name==null&&(p.name=tb(p.coordDim,r,!1)),p.type!=null||jA(t,b)!==Nd&&(!p.isExtraCoord||p.otherDims.itemName==null&&p.otherDims.seriesName==null)||(p.type="ordinal");return a}function tb(i,t,e){if(e||t.get(i)!=null){for(var n=0;t.get(i+n)!=null;)n++;i+=n}return t.set(i,!0),i}function ha(i,t){return FL((t=t||{}).coordDimensions||[],i,{dimsDef:t.dimensionsDefine||i.dimensionsDefine,encodeDef:t.encodeDefine||i.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})}var HL=function(t){this.coordSysDims=[],this.axisMap=re(),this.categoryAxisMap=re(),this.coordSysName=t},WL={cartesian2d:function(t,e,n,r){var o=t.getReferringComponents("xAxis",lt).models[0],a=t.getReferringComponents("yAxis",lt).models[0];e.coordSysDims=["x","y"],n.set("x",o),n.set("y",a),ca(o)&&(r.set("x",o),e.firstCategoryDimIndex=0),ca(a)&&(r.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var o=t.getReferringComponents("singleAxis",lt).models[0];e.coordSysDims=["single"],n.set("single",o),ca(o)&&(r.set("single",o),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var o=t.getReferringComponents("polar",lt).models[0],a=o.findAxisModel("radiusAxis"),s=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",s),ca(a)&&(r.set("radius",a),e.firstCategoryDimIndex=0),ca(s)&&(r.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var o=t.ecModel,a=o.getComponent("parallel",t.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();D(a.parallelAxisIndex,function(l,u){var h=o.getComponent("parallelAxis",l),c=s[u];n.set(c,h),ca(h)&&(r.set(c,h),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function ca(i){return i.get("type")==="category"}function nb(i,t,e){var n,r,o,a,s=(e=e||{}).byIndex,l=e.stackedCoordDimension,u=!(!i||!i.get("stack"));if(D(t,function(d,f){be(d)&&(t[f]=d={name:d}),u&&!d.isExtraCoord&&(s||n||!d.ordinalMeta||(n=d),r||d.type==="ordinal"||d.type==="time"||l&&l!==d.coordDim||(r=d))}),!r||s||n||(s=!0),r){o="__\0ecstackresult",a="__\0ecstackedover",n&&(n.createInvertedIndices=!0);var h=r.coordDim,c=r.type,p=0;D(t,function(d){d.coordDim===h&&p++}),t.push({name:o,coordDim:h,coordDimIndex:p,type:c,isExtraCoord:!0,isCalculationCoord:!0}),p++,t.push({name:a,coordDim:a,coordDimIndex:p,type:c,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:r&&r.name,stackedByDimension:n&&n.name,isStackedByIndex:s,stackedOverDimension:a,stackResultDimension:o}}function gi(i,t){return!!t&&t===i.getCalculationInfo("stackedDimension")}function Hf(i,t){return gi(i,t)?i.getCalculationInfo("stackResultDimension"):t}function ni(i,t,e){e=e||{},$u(i)||(i=Xd(i));var n,r=t.get("coordinateSystem"),o=Qo.get(r),a=function(f){var g=f.get("coordinateSystem"),y=new HL(g),m=WL[g];if(m)return m(f,y,y.axisMap,y.categoryAxisMap),y}(t);a&&a.coordSysDims&&(n=j(a.coordSysDims,function(f){var g={name:f},y=a.axisMap.get(f);if(y){var m=y.get("type");g.type=Sh(m)}return g})),n||(n=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]);var s,l,u=e.useEncodeDefaulter,h=ha(i,{coordDimensions:n,generateCoord:e.generateCoord,encodeDefaulter:Pe(u)?u:u?he(R1,n,t):null});a&&D(h,function(f,g){var y=f.coordDim,m=a.categoryAxisMap.get(y);m&&(s==null&&(s=g),f.ordinalMeta=m.getOrdinalMeta(),e.createInvertedIndices&&(f.createInvertedIndices=!0)),f.otherDims.itemName!=null&&(l=!0)}),l||s==null||(h[s].otherDims.itemName=0);var c=nb(t,h),p=new Pt(h,t);p.setCalculationInfo(c);var d=s!=null&&function(f){if(f.sourceFormat===$o){var g=function(y){for(var m=0;m<y.length&&y[m]==null;)m++;return y[m]}(f.data||[]);return g!=null&&!W(rs(g))}}(i)?function(f,g,y,m){return m===s?y:this.defaultDimValueGetter(f,g,y,m)}:null;return p.hasItemOption=!1,p.initData(i,null,d),p}var ii=function(){function i(t){this._setting=t||{},this._extent=[1/0,-1/0]}return i.prototype.getSetting=function(t){return this._setting[t]},i.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},i.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},i.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},i.prototype.isBlank=function(){return this._isBlank},i.prototype.setBlank=function(t){this._isBlank=t},i}();cu(ii);var Wf=function(){function i(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication}return i.createByAxisModel=function(t){var e=t.option,n=e.data,r=n&&j(n,UL);return new i({categories:r,needCollect:!r,deduplication:e.dedplication!==!1})},i.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},i.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(typeof t!="string"&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=this._getOrCreateMap();return(e=r.get(t))==null&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e},i.prototype._getOrCreateMap=function(){return this._map||(this._map=re(this.categories))},i}();function UL(i){return ae(i)&&i.value!=null?i.value:i+""}var ib=vt;function YL(i,t,e,n){var r={},o=i[1]-i[0],a=r.interval=Cp(o/t,!0);e!=null&&a<e&&(a=r.interval=e),n!=null&&a>n&&(a=r.interval=n);var s=r.intervalPrecision=rb(a);return function(l,u){!isFinite(l[0])&&(l[0]=u[0]),!isFinite(l[1])&&(l[1]=u[1]),ob(l,0,u),ob(l,1,u),l[0]>l[1]&&(l[0]=l[1])}(r.niceTickExtent=[ib(Math.ceil(i[0]/a)*a,s),ib(Math.floor(i[1]/a)*a,s)],i),r}function rb(i){return Ri(i)+2}function ob(i,t,e){i[t]=Math.max(Math.min(i[t],e[1]),e[0])}function Ch(i,t){return i>=t[0]&&i<=t[1]}function Ah(i,t){return t[1]===t[0]?.5:(i-t[0])/(t[1]-t[0])}function Dh(i,t){return i*(t[1]-t[0])+t[0]}var Lh=function(i){function t(e){var n=i.call(this,e)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new Wf({})),W(r)&&(r=new Wf({categories:j(r,function(o){return ae(o)?o.value:o})})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return z(t,i),t.prototype.parse=function(e){return typeof e=="string"?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return Ch(e=this.parse(e),this._extent)&&this._ordinalMeta.categories[e]!=null},t.prototype.normalize=function(e){return Ah(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(Dh(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],n=this._extent,r=n[0];r<=n[1];)e.push({value:r}),r++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(e!=null){for(var n=e.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);a<l;++a){var u=n[a];r[a]=u,o[u]=a}for(var h=0;a<s;++a){for(;o[h]!=null;)h++;r.push(h),o[h]=a}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var n=this._ticksByOrdinalNumber;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getRawOrdinalNumber=function(e){var n=this._ordinalNumbersByTick;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var n=this.getRawOrdinalNumber(e.value),r=this._ordinalMeta.categories[n];return r==null?"":r+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.niceTicks=function(){},t.prototype.niceExtent=function(){},t.type="ordinal",t}(ii);ii.registerClass(Lh);var to=vt,no=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return z(t,i),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Ch(e,this._extent)},t.prototype.normalize=function(e){return Ah(e,this._extent)},t.prototype.scale=function(e){return Dh(e,this._extent)},t.prototype.setExtent=function(e,n){var r=this._extent;isNaN(e)||(r[0]=parseFloat(e)),isNaN(n)||(r[1]=parseFloat(n))},t.prototype.unionExtent=function(e){var n=this._extent;e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1]),this.setExtent(n[0],n[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=rb(e)},t.prototype.getTicks=function(e){var n=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!n)return s;r[0]<o[0]&&(e?s.push({value:to(o[0]-n,a)}):s.push({value:r[0]}));for(var l=o[0];l<=o[1]&&(s.push({value:l}),(l=to(l+n,a))!==s[s.length-1].value);)if(s.length>1e4)return[];var u=s.length?s[s.length-1].value:o[1];return r[1]>u&&(e?s.push({value:to(u+n,a)}):s.push({value:r[1]})),s},t.prototype.getMinorTicks=function(e){for(var n=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<n.length;a++){for(var s=n[a],l=n[a-1],u=0,h=[],c=(s.value-l.value)/e;u<e-1;){var p=to(l.value+(u+1)*c);p>o[0]&&p<o[1]&&h.push(p),u++}r.push(h)}return r},t.prototype.getLabel=function(e,n){if(e==null)return"";var r=n&&n.precision;return r==null?r=Ri(e.value)||0:r==="auto"&&(r=this._intervalPrecision),Dd(to(e.value,r,!0))},t.prototype.niceTicks=function(e,n,r){e=e||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=YL(o,e,n,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.niceExtent=function(e){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var r=n[0];e.fixMax||(n[1]+=r/2),n[0]-=r/2}else n[1]=1;var o=n[1]-n[0];isFinite(o)||(n[0]=0,n[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var a=this._interval;e.fixMin||(n[0]=to(Math.floor(n[0]/a)*a)),e.fixMax||(n[1]=to(Math.ceil(n[1]/a)*a))},t.type="interval",t}(ii);ii.registerClass(no);var Uf="__ec_stack_",Yf=typeof Float32Array!="undefined"?Float32Array:Array;function Xf(i){return i.get("stack")||Uf+i.seriesIndex}function Zf(i){return i.dim+i.index}function ab(i,t){var e=[];return t.eachSeriesByType(i,function(n){hb(n)&&!cb(n)&&e.push(n)}),e}function jf(i){var t=function(n){var r={};D(n,function(c){var p=c.coordinateSystem.getBaseAxis();if(p.type==="time"||p.type==="value")for(var d=c.getData(),f=p.dim+"_"+p.index,g=d.mapDimension(p.dim),y=0,m=d.count();y<m;++y){var v=d.get(g,y);r[f]?r[f].push(v):r[f]=[v]}});var o={};for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];if(s){s.sort(function(c,p){return c-p});for(var l=null,u=1;u<s.length;++u){var h=s[u]-s[u-1];h>0&&(l=l===null?h:Math.min(l,h))}o[a]=l}}return o}(i),e=[];return D(i,function(n){var r,o=n.coordinateSystem.getBaseAxis(),a=o.getExtent();if(o.type==="category")r=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var s=o.dim+"_"+o.index,l=t[s],u=Math.abs(a[1]-a[0]),h=o.scale.getExtent(),c=Math.abs(h[1]-h[0]);r=l?u/c*l:u}else{var p=n.getData();r=Math.abs(a[1]-a[0])/p.count()}var d=q(n.get("barWidth"),r),f=q(n.get("barMaxWidth"),r),g=q(n.get("barMinWidth")||1,r),y=n.get("barGap"),m=n.get("barCategoryGap");e.push({bandWidth:r,barWidth:d,barMaxWidth:f,barMinWidth:g,barGap:y,barCategoryGap:m,axisKey:Zf(o),stackId:Xf(n)})}),sb(e)}function sb(i){var t={};D(i,function(n,r){var o=n.axisKey,a=n.bandWidth,s=t[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[o]=s;var u=n.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var h=n.barWidth;h&&!l[u].width&&(l[u].width=h,h=Math.min(s.remainedWidth,h),s.remainedWidth-=h);var c=n.barMaxWidth;c&&(l[u].maxWidth=c);var p=n.barMinWidth;p&&(l[u].minWidth=p);var d=n.barGap;d!=null&&(s.gap=d);var f=n.barCategoryGap;f!=null&&(s.categoryGap=f)});var e={};return D(t,function(n,r){e[r]={};var o=n.stacks,a=n.bandWidth,s=n.categoryGap;if(s==null){var l=ke(o).length;s=Math.max(35-4*l,15)+"%"}var u=q(s,a),h=q(n.gap,1),c=n.remainedWidth,p=n.autoWidthCount,d=(c-u)/(p+(p-1)*h);d=Math.max(d,0),D(o,function(m){var v=m.maxWidth,_=m.minWidth;if(m.width)x=m.width,v&&(x=Math.min(x,v)),_&&(x=Math.max(x,_)),m.width=x,c-=x+h*x,p--;else{var x=d;v&&v<x&&(x=Math.min(v,c)),_&&_>x&&(x=_),x!==d&&(m.width=x,c-=x+h*x,p--)}}),d=(c-u)/(p+(p-1)*h),d=Math.max(d,0);var f,g=0;D(o,function(m,v){m.width||(m.width=d),f=m,g+=m.width*(1+h)}),f&&(g-=f.width*h);var y=-g/2;D(o,function(m,v){e[r][v]=e[r][v]||{bandWidth:a,offset:y,width:m.width},y+=m.width*(1+h)})}),e}function lb(i,t,e){if(i&&t){var n=i[Zf(t)];return n!=null&&e!=null?n[Xf(e)]:n}}function ub(i,t){var e=ab(i,t),n=jf(e),r={};D(e,function(o){var a=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),u=Xf(o),h=n[Zf(l)][u],c=h.offset,p=h.width,d=s.getOtherAxis(l),f=o.get("barMinHeight")||0;r[u]=r[u]||[],a.setLayout({bandWidth:h.bandWidth,offset:c,size:p});for(var g=a.mapDimension(d.dim),y=a.mapDimension(l.dim),m=gi(a,g),v=d.isHorizontal(),_=pb(l,d),x=0,b=a.count();x<b;x++){var w=a.get(g,x),S=a.get(y,x),M=w>=0?"p":"n",I=_;m&&(r[u][S]||(r[u][S]={p:_,n:_}),I=r[u][S][M]);var T,C=void 0,A=void 0,L=void 0,k=void 0;v?(C=I,A=(T=s.dataToPoint([w,S]))[1]+c,L=T[0]-_,k=p,Math.abs(L)<f&&(L=(L<0?-1:1)*f),isNaN(L)||m&&(r[u][S][M]+=L)):(C=(T=s.dataToPoint([S,w]))[0]+c,A=I,L=p,k=T[1]-_,Math.abs(k)<f&&(k=(k<=0?-1:1)*f),isNaN(k)||m&&(r[u][S][M]+=k)),a.setItemLayout(x,{x:C,y:A,width:L,height:k})}})}var XL={seriesType:"bar",plan:ia(),reset:function(t){if(hb(t)&&cb(t)){var e=t.getData(),n=t.coordinateSystem,r=n.master.getRect(),o=n.getBaseAxis(),a=n.getOtherAxis(o),s=e.mapDimension(a.dim),l=e.mapDimension(o.dim),u=a.isHorizontal(),h=u?0:1,c=lb(jf([t]),o,t).width;return c>.5||(c=.5),{progress:function(d,f){for(var g,y=d.count,m=new Yf(2*y),v=new Yf(2*y),_=new Yf(y),x=[],b=[],w=0,S=0;(g=d.next())!=null;)b[h]=f.get(s,g),b[1-h]=f.get(l,g),x=n.dataToPoint(b,null,x),v[w]=u?r.x+r.width:x[0],m[w++]=x[0],v[w]=u?x[1]:r.y+r.height,m[w++]=x[1],_[S++]=g;f.setLayout({largePoints:m,largeDataIndices:_,largeBackgroundPoints:v,barWidth:c,valueAxisStart:pb(o,a),backgroundStart:u?r.x:r.y,valueAxisHorizontal:u})}}}}};function hb(i){return i.coordinateSystem&&i.coordinateSystem.type==="cartesian2d"}function cb(i){return i.pipelineContext&&i.pipelineContext.large}function pb(i,t,e){return t.toGlobalCoord(t.dataToCoord(t.type==="log"?1:0))}var qf=function(i){function t(e){var n=i.call(this,e)||this;return n.type="time",n}return z(t,i),t.prototype.getLabel=function(e){var n=this.getSetting("useUTC");return Ds(e.value,g1[function(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Zo(this._minLevelUnit))]||g1.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,n,r){var o=this.getSetting("useUTC");return function(a,s,l,u,h){var c=null;if(typeof l=="string")c=l;else if(typeof l=="function")c=l(a.value,s,{level:a.level});else{var p=X({},As);if(a.level>0)for(var d=0;d<Cd.length;++d)p[Cd[d]]="{primary|"+p[Cd[d]]+"}";var f=l?l.inherit===!1?l:J(l,p):p,g=m1(a.value,h);if(f[g])c=f[g];else if(f.inherit){for(d=y1.indexOf(g)-1;d>=0;--d)if(f[g]){c=f[g];break}c=c||p.none}if(W(c)){var y=a.level==null?0:a.level>=0?a.level:c.length+a.level;c=c[y=Math.min(y,c.length-1)]}}return Ds(new Date(a.value),c,h,u)}(e,n,r,this.getSetting("locale"),o)},t.prototype.getTicks=function(e){var n=this._interval,r=this._extent,o=[];if(!n)return o;o.push({value:r[0],level:0});var a=this.getSetting("useUTC"),s=function(l,u,h,c){var p=1e4,d=y1,f=0;function g(R,N,E,B,G,F,H){for(var V=new Date(N),U=N,Y=V[B]();U<E&&U<=c[1];)H.push({value:U}),Y+=R,V[G](Y),U=V.getTime();H.push({value:U,notAdd:!0})}function y(R,N,E){var B=[],G=!N.length;if(!function($,ne,le,fe){var ge=Jt(ne),Fe=Jt(le),Ze=function(Le){return v1(ge,Le,fe)===v1(Fe,Le,fe)},Ve=function(){return Ze("year")},He=function(){return Ve()&&Ze("month")},Je=function(){return He()&&Ze("day")},at=function(){return Je()&&Ze("hour")},jt=function(){return at()&&Ze("minute")},Ft=function(){return jt()&&Ze("second")},Ee=function(){return Ft()&&Ze("millisecond")};switch($){case"year":return Ve();case"month":return He();case"day":return Je();case"hour":return at();case"minute":return jt();case"second":return Ft();case"millisecond":return Ee()}}(Zo(R),c[0],c[1],h)){G&&(N=[{value:$L(new Date(c[0]),R,h)},{value:c[1]}]);for(var F=0;F<N.length-1;F++){var H=N[F].value,V=N[F+1].value;if(H!==V){var U=void 0,Y=void 0,Z=void 0,K=!1;switch(R){case"year":U=Math.max(1,Math.round(u/Cs/365)),Y=Ad(h),Z=WA(h);break;case"half-year":case"quarter":case"month":U=jL(u),Y=jo(h),Z=_1(h);break;case"week":case"half-week":case"day":U=ZL(u),Y=Fu(h),Z=x1(h),K=!0;break;case"half-day":case"quarter-day":case"hour":U=qL(u),Y=Ls(h),Z=b1(h);break;case"minute":U=db(u,!0),Y=Hu(h),Z=w1(h);break;case"second":U=db(u,!1),Y=Wu(h),Z=S1(h);break;case"millisecond":U=KL(u),Y=Uu(h),Z=M1(h)}g(U,H,V,Y,Z,K,B),R==="year"&&E.length>1&&F===0&&E.unshift({value:E[0].value-U})}}for(F=0;F<B.length;F++)E.push(B[F]);return B}}for(var m=[],v=[],_=0,x=0,b=0;b<d.length&&f++<p;++b){var w=Zo(d[b]);if(HA(d[b])&&(y(d[b],m[m.length-1]||[],v),w!==(d[b+1]?Zo(d[b+1]):null))){if(v.length){x=_,v.sort(function(R,N){return R.value-N.value});for(var S=[],M=0;M<v.length;++M){var I=v[M].value;M!==0&&v[M-1].value===I||(S.push(v[M]),I>=c[0]&&I<=c[1]&&_++)}var T=(c[1]-c[0])/u;if(_>1.5*T&&x>T/1.5||(m.push(S),_>T||l===d[b]))break}v=[]}}var C=Ke(j(m,function(R){return Ke(R,function(N){return N.value>=c[0]&&N.value<=c[1]&&!N.notAdd})}),function(R){return R.length>0}),A=[],L=C.length-1;for(b=0;b<C.length;++b)for(var k=C[b],P=0;P<k.length;++P)A.push({value:k[P].value,level:L-b});A.sort(function(R,N){return R.value-N.value});var O=[];for(b=0;b<A.length;++b)b!==0&&A[b].value===A[b-1].value||O.push(A[b]);return O}(this._minLevelUnit,this._approxInterval,a,r);return(o=o.concat(s)).push({value:r[1],level:0}),o},t.prototype.niceExtent=function(e){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Cs,n[1]+=Cs),n[1]===-1/0&&n[0]===1/0){var r=new Date;n[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),n[0]=n[1]-Cs}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.niceTicks=function(e,n,r){e=e||10;var o=this._extent,a=o[1]-o[0];this._approxInterval=a/e,n!=null&&this._approxInterval<n&&(this._approxInterval=n),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var s=kh.length,l=Math.min(function(u,h,c,p){for(;c<p;){var d=c+p>>>1;u[d][1]<h?c=d+1:p=d}return c}(kh,this._approxInterval,0,s),s-1);this._interval=kh[l][1],this._minLevelUnit=kh[Math.max(l-1,0)][0]},t.prototype.parse=function(e){return typeof e=="number"?e:+Jt(e)},t.prototype.contain=function(e){return Ch(this.parse(e),this._extent)},t.prototype.normalize=function(e){return Ah(this.parse(e),this._extent)},t.prototype.scale=function(e){return Dh(e,this._extent)},t.type="time",t}(no),kh=[["second",c1],["minute",p1],["hour",d1],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",f1/2],["year",f1]];function ZL(i,t){return(i/=Cs)>16?16:i>7.5?7:i>3.5?4:i>1.5?2:1}function jL(i){return(i/=2592e6)>6?6:i>3?3:i>2?2:1}function qL(i){return(i/=d1)>12?12:i>6?6:i>3.5?4:i>2?2:1}function db(i,t){return(i/=t?p1:c1)>30?30:i>20?20:i>15?15:i>10?10:i>5?5:i>2?2:1}function KL(i){return Cp(i,!0)}function $L(i,t,e){var n=new Date(i);switch(Zo(t)){case"year":case"month":n[_1(e)](0);case"day":n[x1(e)](1);case"hour":n[b1(e)](0);case"minute":n[w1(e)](0);case"second":n[S1(e)](0),n[M1(e)](0)}return n.getTime()}ii.registerClass(qf);var fb=ii.prototype,rl=no.prototype,JL=Ri,QL=vt,ek=Math.floor,tk=Math.ceil,Ph=Math.pow,xn=Math.log,Kf=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new no,e._interval=0,e}return z(t,i),t.prototype.getTicks=function(e){var n=this._originalScale,r=this._extent,o=n.getExtent();return j(rl.getTicks.call(this,e),function(a){var s=a.value,l=vt(Ph(this.base,s));return l=s===r[0]&&this._fixMin?Oh(l,o[0]):l,{value:l=s===r[1]&&this._fixMax?Oh(l,o[1]):l}},this)},t.prototype.setExtent=function(e,n){var r=this.base;e=xn(e)/xn(r),n=xn(n)/xn(r),rl.setExtent.call(this,e,n)},t.prototype.getExtent=function(){var e=this.base,n=fb.getExtent.call(this);n[0]=Ph(e,n[0]),n[1]=Ph(e,n[1]);var r=this._originalScale.getExtent();return this._fixMin&&(n[0]=Oh(n[0],r[0])),this._fixMax&&(n[1]=Oh(n[1],r[1])),n},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var n=this.base;e[0]=xn(e[0])/xn(n),e[1]=xn(e[1])/xn(n),fb.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.niceTicks=function(e){e=e||10;var n=this._extent,r=n[1]-n[0];if(!(r===1/0||r<=0)){var o=Av(r);for(e/r*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var a=[vt(tk(n[0]/o)*o),vt(ek(n[1]/o)*o)];this._interval=o,this._niceExtent=a}},t.prototype.niceExtent=function(e){rl.niceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Ch(e=xn(e)/xn(this.base),this._extent)},t.prototype.normalize=function(e){return Ah(e=xn(e)/xn(this.base),this._extent)},t.prototype.scale=function(e){return e=Dh(e,this._extent),Ph(this.base,e)},t.type="log",t}(ii),gb=Kf.prototype;function Oh(i,t){return QL(i,JL(t))}gb.getMinorTicks=rl.getMinorTicks,gb.getLabel=rl.getLabel,ii.registerClass(Kf);var nk=function(){function i(t,e,n){this._prepareParams(t,e,n)}return i.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal=t.type==="ordinal";this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);Pe(o)?this._modelMinNum=pa(t,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=pa(t,o));var a=this._modelMaxRaw=e.get("max",!0);if(Pe(a)?this._modelMaxNum=pa(t,a({min:n[0],max:n[1]})):a!=="dataMax"&&(this._modelMaxNum=pa(t,a)),r)this._axisDataLen=e.getCategories().length;else{var s=e.get("boundaryGap"),l=W(s)?s:[s||0,s||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[hn(l[0],1),hn(l[1],1)]}},i.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=t?null:n-e||Math.abs(e),s=this._modelMinRaw==="dataMin"?e:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=s!=null,h=l!=null;s==null&&(s=t?r?0:NaN:e-o[0]*a),l==null&&(l=t?r?r-1:NaN:n+o[1]*a),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN),s>l&&(s=NaN,l=NaN);var c=bo(s)||bo(l)||t&&!r;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!h&&(l=0));var p=this._determinedMin,d=this._determinedMax;return p!=null&&(s=p,u=!0),d!=null&&(l=d,h=!0),{min:s,max:l,minFixed:u,maxFixed:h,isBlank:c}},i.prototype.modifyDataMinMax=function(t,e){this[rk[t]]=e},i.prototype.setDeterminedMinMax=function(t,e){var n=ik[t];this[n]=e},i.prototype.freeze=function(){this.frozen=!0},i}(),ik={min:"_determinedMin",max:"_determinedMax"},rk={min:"_dataMin",max:"_dataMax"};function yb(i,t,e){var n=i.rawExtentInfo;return n||(n=new nk(i,t,e),i.rawExtentInfo=n,n)}function pa(i,t){return t==null?null:bo(t)?NaN:i.parse(t)}function mb(i,t){var e=i.type,n=yb(i,t,i.getExtent()).calculate();i.setBlank(n.isBlank);var r=n.min,o=n.max,a=t.ecModel;if(a&&e==="time"){var s=ab("bar",a),l=!1;if(D(s,function(c){l=l||c.getBaseAxis()===t.axis}),l){var u=jf(s),h=function(c,p,d,f){var g=d.axis.getExtent(),y=g[1]-g[0],m=lb(f,d.axis);if(m===void 0)return{min:c,max:p};var v=1/0;D(m,function(S){v=Math.min(S.offset,v)});var _=-1/0;D(m,function(S){_=Math.max(S.offset+S.width,_)}),v=Math.abs(v),_=Math.abs(_);var x=v+_,b=p-c,w=b/(1-(v+_)/y)-b;return{min:c-=w*(v/x),max:p+=w*(_/x)}}(r,o,t,u);r=h.min,o=h.max}}return{extent:[r,o],fixMin:n.minFixed,fixMax:n.maxFixed}}function Ji(i,t){var e=mb(i,t),n=e.extent,r=t.get("splitNumber");i instanceof Kf&&(i.base=t.get("logBase"));var o=i.type;i.setExtent(n[0],n[1]),i.niceExtent({splitNumber:r,fixMin:e.fixMin,fixMax:e.fixMax,minInterval:o==="interval"||o==="time"?t.get("minInterval"):null,maxInterval:o==="interval"||o==="time"?t.get("maxInterval"):null});var a=t.get("interval");a!=null&&i.setInterval&&i.setInterval(a)}function ol(i,t){if(t=t||i.get("type"))switch(t){case"category":return new Lh({ordinalMeta:i.getOrdinalMeta?i.getOrdinalMeta():i.getCategories(),extent:[1/0,-1/0]});case"time":return new qf({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new(ii.getClass(t)||no)}}function al(i){var t,e,n=i.getLabelModel().get("formatter"),r=i.type==="category"?i.scale.getExtent()[0]:null;return i.scale.type==="time"?(e=n,function(o,a){return i.scale.getFormattedLabel(o,a,e)}):typeof n=="string"?function(o){return function(a){var s=i.scale.getLabel(a);return o.replace("{value}",s!=null?s:"")}}(n):typeof n=="function"?(t=n,function(o,a){return r!=null&&(a=o.value-r),t($f(i,o),a,o.level!=null?{level:o.level}:null)}):function(o){return i.scale.getLabel(o)}}function $f(i,t){return i.type==="category"?i.scale.getLabel(t):t.value}function ok(i,t){var e=t*Math.PI/180,n=i.width,r=i.height,o=n*Math.abs(Math.cos(e))+Math.abs(r*Math.sin(e)),a=n*Math.abs(Math.sin(e))+Math.abs(r*Math.cos(e));return new me(i.x,i.y,o,a)}function Jf(i){var t=i.get("interval");return t==null?"auto":t}function vb(i){return i.type==="category"&&Jf(i.getLabelModel())===0}function Rh(i,t){var e={};return D(i.mapDimensionsAll(t),function(n){e[Hf(i,n)]=!0}),ke(e)}var da=function(){function i(){}return i.prototype.getNeedCrossZero=function(){return!this.option.scale},i.prototype.getCoordSysModel=function(){},i}(),ak={isDimensionStacked:gi,enableDataStack:nb,getStackedDimension:Hf},sk=Object.freeze({__proto__:null,createList:function(t){return ni(t.getSource(),t)},getLayoutRect:ht,dataStack:ak,createScale:function(t,e){var n=e;e instanceof Ae||(n=new Ae(e));var r=ol(n);return r.setExtent(t[0],t[1]),Ji(r,n),r},mixinAxisModelCommonMethods:function(t){We(t,da)},getECData:se,createTextStyle:function(t,e){return nt(t,null,null,(e=e||{}).state!=="normal")},createDimensions:ha,createSymbol:ot,enableHoverEmphasis:Ge}),lk=Object.freeze({__proto__:null,linearMap:Oe,round:vt,asc:$t,getPrecision:Tv,getPrecisionSafe:Ri,getPixelPrecision:Sp,getPercentWithPrecision:Cv,MAX_SAFE_INTEGER:Mp,remRadian:Ip,isRadianAroundZero:is,parseDate:Jt,quantity:Av,quantityExponent:Tp,nice:Cp,quantile:hu,reformIntervals:Ap,isNumeric:Dp,numericToNumber:Un}),uk=Object.freeze({__proto__:null,parse:Jt,format:Ds}),hk=Object.freeze({__proto__:null,extendShape:q0,extendPath:K0,makePath:bs,makeImage:dd,mergePath:en,resizePath:fd,createIcon:Uo,updateProps:Te,initProps:$e,getTransform:Wi,clipPointsByRect:yd,clipRectByRect:e1,registerShape:gn,getShapeClass:Ru,Group:oe,Image:ut,Text:Ie,Circle:fn,Ellipse:ms,Sector:Et,Ring:Go,Polygon:Dt,Polyline:zt,Rect:Se,Line:ft,BezierCurve:Fo,Arc:_s,IncrementalDisplayable:xs,CompoundPath:hd,LinearGradient:Ho,RadialGradient:cd,BoundingRect:me}),ck=Object.freeze({__proto__:null,addCommas:Dd,toCamelCase:Ld,normalizeCssArray:Hr,encodeHTML:Xt,formatTpl:Pd,getTooltipMarker:T1,formatTime:function(t,e,n){t!=="week"&&t!=="month"&&t!=="quarter"&&t!=="half-year"&&t!=="year"||(t=`MM-dd
yyyy`);var r=Jt(e),o=n?"UTC":"",a=r["get"+o+"FullYear"](),s=r["get"+o+"Month"]()+1,l=r["get"+o+"Date"](),u=r["get"+o+"Hours"](),h=r["get"+o+"Minutes"](),c=r["get"+o+"Seconds"](),p=r["get"+o+"Milliseconds"]();return t=t.replace("MM",tn(s,2)).replace("M",s).replace("yyyy",a).replace("yy",a%100+"").replace("dd",tn(l,2)).replace("d",l).replace("hh",tn(u,2)).replace("h",u).replace("mm",tn(h,2)).replace("m",h).replace("ss",tn(c,2)).replace("s",c).replace("SSS",tn(p,3))},capitalFirst:function(t){return t&&t.charAt(0).toUpperCase()+t.substr(1)},truncateText:Hv,getTextRect:function(t,e,n,r,o,a,s,l){return Pv(),new Ie({style:{text:t,font:e,align:n,verticalAlign:r,padding:o,rich:a,overflow:s?"truncate":null,lineHeight:l}}).getBoundingRect()}}),pk=Object.freeze({__proto__:null,map:j,each:D,indexOf:ie,inherits:tt,reduce:An,filter:Ke,bind:Q,curry:he,isArray:W,isString:be,isObject:ae,isFunction:Pe,extend:X,defaults:J,clone:te,merge:de}),sl=Ne();function dk(i){return i.type==="category"?function(t){var e=t.getLabelModel(),n=_b(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(i):function(t){var e=t.scale.getTicks(),n=al(t);return{labels:j(e,function(r,o){return{formattedLabel:n(r,o),rawLabel:t.scale.getLabel(r),tickValue:r.value}})}}(i)}function fk(i,t){return i.type==="category"?function(e,n){var r,o,a=xb(e,"ticks"),s=Jf(n),l=bb(a,s);if(l)return l;if(n.get("show")&&!e.scale.isBlank()||(r=[]),Pe(s))r=Mb(e,s,!0);else if(s==="auto"){var u=_b(e,e.getLabelModel());o=u.labelCategoryInterval,r=j(u.labels,function(h){return h.tickValue})}else r=Sb(e,o=s,!0);return wb(a,s,{ticks:r,tickCategoryInterval:o})}(i,t):{ticks:j(i.scale.getTicks(),function(e){return e.value})}}function _b(i,t){var e,n,r=xb(i,"labels"),o=Jf(t),a=bb(r,o);return a||(Pe(o)?e=Mb(i,o):(n=o==="auto"?function(s){var l=sl(s).autoInterval;return l!=null?l:sl(s).autoInterval=s.calculateCategoryInterval()}(i):o,e=Sb(i,n)),wb(r,o,{labels:e,labelCategoryInterval:n}))}function xb(i,t){return sl(i)[t]||(sl(i)[t]=[])}function bb(i,t){for(var e=0;e<i.length;e++)if(i[e].key===t)return i[e].value}function wb(i,t,e){return i.push({key:t,value:e}),e}function Sb(i,t,e){var n=al(i),r=i.scale,o=r.getExtent(),a=i.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=o[0],h=r.count();u!==0&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=vb(i),p=a.get("showMinLabel")||c,d=a.get("showMaxLabel")||c;p&&u!==o[0]&&g(o[0]);for(var f=u;f<=o[1];f+=l)g(f);function g(y){var m={value:y};s.push(e?y:{formattedLabel:n(m),rawLabel:r.getLabel(m),tickValue:y})}return d&&f-l!==o[1]&&g(o[1]),s}function Mb(i,t,e){var n=i.scale,r=al(i),o=[];return D(n.getTicks(),function(a){var s=n.getLabel(a),l=a.value;t(a.value,s)&&o.push(e?l:{formattedLabel:r(a),rawLabel:s,tickValue:l})}),o}var Ib=[0,1],bn=function(){function i(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return i.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},i.prototype.containData=function(t){return this.scale.contain(t)},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.getPixelPrecision=function(t){return Sp(t||this.scale.getExtent(),this._extent)},i.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},i.prototype.dataToCoord=function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&r.type==="ordinal"&&Tb(n=n.slice(),r.count()),Oe(t,Ib,n,e)},i.prototype.coordToData=function(t,e){var n=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&Tb(n=n.slice(),r.count());var o=Oe(t,n,Ib,e);return this.scale.scale(o)},i.prototype.pointToData=function(t,e){},i.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=j(fk(this,e).ticks,function(r){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(r):r),tickValue:r}},this);return function(r,o,a,s){var l=o.length;if(!r.onBand||a||!l)return;var u,h,c=r.getExtent();if(l===1)o[0].coord=c[0],u=o[1]={coord:c[0]};else{var p=o[l-1].tickValue-o[0].tickValue,d=(o[l-1].coord-o[0].coord)/p;D(o,function(y){y.coord-=d/2}),h=1+r.scale.getExtent()[1]-o[l-1].tickValue,u={coord:o[l-1].coord+d*h},o.push(u)}var f=c[0]>c[1];g(o[0].coord,c[0])&&(s?o[0].coord=c[0]:o.shift()),s&&g(c[0],o[0].coord)&&o.unshift({coord:c[0]}),g(c[1],u.coord)&&(s?u.coord=c[1]:o.pop()),s&&g(u.coord,c[1])&&o.push({coord:c[1]});function g(y,m){return y=vt(y),m=vt(m),f?y>m:y<m}}(this,n,e.get("alignWithLabel"),t.clamp),n},i.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),j(this.scale.getMinorTicks(t),function(e){return j(e,function(n){return{coord:this.dataToCoord(n),tickValue:n}},this)},this)},i.prototype.getViewLabels=function(){return dk(this).labels},i.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},i.prototype.getTickModel=function(){return this.model.getModel("axisTick")},i.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);n===0&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},i.prototype.calculateCategoryInterval=function(){return function(t){var e=function(I){var T=I.getLabelModel();return{axisRotate:I.getRotate?I.getRotate():I.isHorizontal&&!I.isHorizontal()?90:0,labelRotate:T.get("rotate")||0,font:T.getFont()}}(t),n=al(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),s=o.count();if(a[1]-a[0]<1)return 0;var l=1;s>40&&(l=Math.max(1,Math.floor(s/40)));for(var u=a[0],h=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(h*Math.cos(r)),p=Math.abs(h*Math.sin(r)),d=0,f=0;u<=a[1];u+=l){var g,y,m=es(n({value:u}),e.font,"center","top");g=1.3*m.width,y=1.3*m.height,d=Math.max(d,g,7),f=Math.max(f,y,7)}var v=d/c,_=f/p;isNaN(v)&&(v=1/0),isNaN(_)&&(_=1/0);var x=Math.max(0,Math.floor(Math.min(v,_))),b=sl(t.model),w=t.getExtent(),S=b.lastAutoInterval,M=b.lastTickCount;return S!=null&&M!=null&&Math.abs(S-x)<=1&&Math.abs(M-s)<=1&&S>x&&b.axisExtent0===w[0]&&b.axisExtent1===w[1]?x=S:(b.lastTickCount=s,b.lastAutoInterval=x,b.axisExtent0=w[0],b.axisExtent1=w[1]),x}(this)},i}();function Tb(i,t){var e=(i[1]-i[0])/t/2;i[0]+=e,i[1]-=e}function yi(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Cb(i,t,e,n,r){for(var o=t.length,a=e.length,s=i.newPos,l=s-n,u=0;s+1<o&&l+1<a&&r(t[s+1],e[l+1]);)s++,l++,u++;return u&&i.components.push({count:u,added:!1,removed:!1,indices:[]}),i.newPos=s,l}function Ab(i,t,e){var n=i[i.length-1];n&&n.added===t&&n.removed===e?i[i.length-1]={count:n.count+1,added:t,removed:e,indices:[]}:i.push({count:1,added:t,removed:e,indices:[]})}function gk(i){for(var t=0,e=i.length,n=0,r=0;t<e;t++){var o=i[t];if(o.removed){for(s=r;s<r+o.count;s++)o.indices.push(s);r+=o.count}else{for(var a=[],s=n;s<n+o.count;s++)a.push(s);o.indices=a,n+=o.count,o.added||(r+=o.count)}}return i}function yk(i,t,e){return function(n,r,o){o||(o=function(m,v){return m===v}),n=n.slice();var a=(r=r.slice()).length,s=n.length,l=1,u=a+s,h=[{newPos:-1,components:[]}],c=Cb(h[0],r,n,0,o);if(h[0].newPos+1>=a&&c+1>=s){for(var p=[],d=0;d<r.length;d++)p.push(d);return[{indices:p,count:r.length,added:!1,removed:!1}]}function f(){for(var y=-1*l;y<=l;y+=2){var m,v=h[y-1],_=h[y+1],x=(_?_.newPos:0)-y;v&&(h[y-1]=void 0);var b=v&&v.newPos+1<a,w=_&&0<=x&&x<s;if(b||w){if(!b||w&&v.newPos<_.newPos?Ab((m={newPos:(S=_).newPos,components:S.components.slice(0)}).components,!1,!0):((m=v).newPos++,Ab(m.components,!0,!1)),x=Cb(m,r,n,y,o),m.newPos+1>=a&&x+1>=s)return gk(m.components);h[y]=m}else h[y]=void 0}var S;l++}for(;l<=u;){var g=f();if(g)return g}}(i,t,e)}var fa="none",Nh=Math.round,Db=Math.sin,Lb=Math.cos,kb=Math.PI,Qi=2*Math.PI,Pb=180/kb,mk=1e-4;function Eh(i){return Nh(1e3*i)/1e3}function mi(i){return Nh(1e4*i)/1e4}function Ob(i){return i<mk&&i>-1e-4}function Qf(i,t){t&&et(i,"transform","matrix("+Eh(t[0])+","+Eh(t[1])+","+Eh(t[2])+","+Eh(t[3])+","+mi(t[4])+","+mi(t[5])+")")}function et(i,t,e){(!e||e.type!=="linear"&&e.type!=="radial")&&i.setAttribute(t,e)}function eg(i,t,e){var n=t.opacity==null?1:t.opacity;if(e instanceof ut)i.style.opacity=n+"";else{if(function(h){var c=h.fill;return c!=null&&c!==fa}(t)){var r=t.fill;et(i,"fill",r=r==="transparent"?fa:r),et(i,"fill-opacity",(t.fillOpacity!=null?t.fillOpacity*n:n)+"")}else et(i,"fill",fa);if(function(h){var c=h.stroke;return c!=null&&c!==fa}(t)){var o=t.stroke;et(i,"stroke",o=o==="transparent"?fa:o);var a=t.lineWidth,s=t.strokeNoScale?e.getLineScale():1;et(i,"stroke-width",(s?a/s:0)+""),et(i,"paint-order",t.strokeFirst?"stroke":"fill"),et(i,"stroke-opacity",(t.strokeOpacity!=null?t.strokeOpacity*n:n)+"");var l=t.lineDash&&a>0&&lf(t.lineDash,a);if(l){var u=t.lineDashOffset;s&&s!==1&&(l=j(l,function(h){return h/s}),u&&(u=Nh(u/=s))),et(i,"stroke-dasharray",l.join(",")),et(i,"stroke-dashoffset",(u||0)+"")}else et(i,"stroke-dasharray","");t.lineCap&&et(i,"stroke-linecap",t.lineCap),t.lineJoin&&et(i,"stroke-linejoin",t.lineJoin),t.miterLimit&&et(i,"stroke-miterlimit",t.miterLimit+"")}else et(i,"stroke",fa)}}var vk=function(){function i(){}return i.prototype.reset=function(){this._d=[],this._str=""},i.prototype.moveTo=function(t,e){this._add("M",t,e)},i.prototype.lineTo=function(t,e){this._add("L",t,e)},i.prototype.bezierCurveTo=function(t,e,n,r,o,a){this._add("C",t,e,n,r,o,a)},i.prototype.quadraticCurveTo=function(t,e,n,r){this._add("Q",t,e,n,r)},i.prototype.arc=function(t,e,n,r,o,a){this.ellipse(t,e,n,n,0,r,o,a)},i.prototype.ellipse=function(t,e,n,r,o,a,s,l){var u=this._d.length===0,h=s-a,c=!l,p=Math.abs(h),d=Ob(p-Qi)||(c?h>=Qi:-h>=Qi),f=h>0?h%Qi:h%Qi+Qi,g=!1;g=!!d||!Ob(p)&&f>=kb==!!c;var y=mi(t+n*Lb(a)),m=mi(e+r*Db(a));d&&(h=c?Qi-1e-4:1e-4-Qi,g=!0,u&&this._d.push("M",y,m));var v=mi(t+n*Lb(a+h)),_=mi(e+r*Db(a+h));if(isNaN(y)||isNaN(m)||isNaN(n)||isNaN(r)||isNaN(o)||isNaN(Pb)||isNaN(v)||isNaN(_))return"";this._d.push("A",mi(n),mi(r),Nh(o*Pb),+g,+c,v,_)},i.prototype.rect=function(t,e,n,r){this._add("M",t,e),this._add("L",t+n,e),this._add("L",t+n,e+r),this._add("L",t,e+r),this._add("L",t,e)},i.prototype.closePath=function(){this._d.length>0&&this._add("Z")},i.prototype._add=function(t,e,n,r,o,a,s,l,u){this._d.push(t);for(var h=1;h<arguments.length;h++){var c=arguments[h];if(isNaN(c))return void(this._invalid=!0);this._d.push(mi(c))}},i.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},i.prototype.getStr=function(){return this._str},i}(),zh={brush:function(t){var e=t.style,n=t.__svgEl;n||(n=yi("path"),t.__svgEl=n),t.path||t.createPathProxy();var r=t.path;t.shapeChanged()&&(r.beginPath(),t.buildPath(r,t.shape),t.pathUpdated());var o=r.getVersion(),a=t,s=a.__svgPathBuilder;(a.__svgPathVersion!==o||!s||t.style.strokePercent<1)&&(s||(s=a.__svgPathBuilder=new vk),s.reset(),r.rebuildPath(s,t.style.strokePercent),s.generateStr(),a.__svgPathVersion=o),et(n,"d",s.getStr()),eg(n,e,t),Qf(n,t.transform)}},Rb={brush:function(t){var e=t.style,n=e.image;if(n instanceof HTMLImageElement?n=n.src:n instanceof HTMLCanvasElement&&(n=n.toDataURL()),n){var r=e.x||0,o=e.y||0,a=e.width,s=e.height,l=t.__svgEl;l||(l=yi("image"),t.__svgEl=l),n!==t.__imageSrc&&(function(u,h,c){u.setAttributeNS("http://www.w3.org/1999/xlink",h,c)}(l,"href",n),t.__imageSrc=n),et(l,"width",a+""),et(l,"height",s+""),et(l,"x",r+""),et(l,"y",o+""),eg(l,e,t),Qf(l,t.transform)}}},_k={left:"start",right:"end",center:"middle",middle:"middle"},Nb={brush:function(t){var e=t.style,n=e.text;if(n!=null&&(n+=""),n&&!isNaN(e.x)&&!isNaN(e.y)){var r=t.__svgEl;r||(function(u,h,c){u.setAttributeNS("http://www.w3.org/XML/1998/namespace",h,c)}(r=yi("text"),"xml:space","preserve"),t.__svgEl=r);var o=e.font||br;r.style.font=o,r.textContent=n,eg(r,e,t),Qf(r,t.transform);var a=e.x||0,s=function(u,h,c){return c==="top"?u+=h/2:c==="bottom"&&(u-=h/2),u}(e.y||0,su(o),e.textBaseline),l=_k[e.textAlign]||e.textAlign;et(r,"dominant-baseline","central"),et(r,"text-anchor",l),et(r,"x",a+""),et(r,"y",s+"")}}},Bh=function(){function i(t,e,n,r,o){this.nextId=0,this._domName="_dom",this.createElement=yi,this._zrId=t,this._svgRoot=e,this._tagNames=typeof n=="string"?[n]:n,this._markLabel=r,o&&(this._domName=o)}return i.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");if(n.length===0){if(t){var r=e.insertBefore(this.createElement("defs"),e.firstChild);return r.contains||(r.contains=function(o){var a=r.children;if(!a)return!1;for(var s=a.length-1;s>=0;--s)if(a[s]===o)return!0;return!1}),r}return null}return n[0]},i.prototype.doUpdate=function(t,e){if(t){var n=this.getDefs(!1);if(t[this._domName]&&n.contains(t[this._domName]))typeof e=="function"&&e(t);else{var r=this.add(t);r&&(t[this._domName]=r)}}},i.prototype.add=function(t){return null},i.prototype.addDom=function(t){var e=this.getDefs(!0);t.parentNode!==e&&e.appendChild(t)},i.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},i.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return D(this._tagNames,function(n){for(var r=t.getElementsByTagName(n),o=0;o<r.length;o++)e.push(r[o])}),e},i.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;D(t,function(n){n[e._markLabel]="0"})},i.prototype.markDomUsed=function(t){t&&(t[this._markLabel]="1")},i.prototype.markDomUnused=function(t){t&&(t[this._markLabel]="0")},i.prototype.isDomUnused=function(t){return t&&t[this._markLabel]!=="1"},i.prototype.removeUnused=function(){var t=this,e=this.getDefs(!1);e&&D(this.getDoms(),function(n){t.isDomUnused(n)&&e.removeChild(n)})},i.prototype.getSvgProxy=function(t){return t instanceof Me?zh:t instanceof ut?Rb:t instanceof Nr?Nb:zh},i.prototype.getSvgElement=function(t){return t.__svgEl},i}();function Eb(i){return i.type==="linear"}function zb(i){return i.type==="radial"}function Bb(i){return i&&(i.type==="linear"||i.type==="radial")}var xk=function(i){function t(e,n){return i.call(this,e,n,["linearGradient","radialGradient"],"__gradient_in_use__")||this}return z(t,i),t.prototype.addWithoutUpdate=function(e,n){if(n&&n.style){var r=this;D(["fill","stroke"],function(o){var a=n.style[o];if(Bb(a)){var s=a,l=r.getDefs(!0),u=void 0;s.__dom?(u=s.__dom,l.contains(s.__dom)||r.addDom(u)):u=r.add(s),r.markUsed(n);var h=u.getAttribute("id");e.setAttribute(o,"url(#"+h+")")}})}},t.prototype.add=function(e){var n;if(Eb(e))n=this.createElement("linearGradient");else{if(!zb(e))return an("Illegal gradient type."),null;n=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,n.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,n),this.addDom(n),n},t.prototype.update=function(e){if(Bb(e)){var n=this;this.doUpdate(e,function(){var r=e.__dom;if(r){var o=r.tagName,a=e.type;a==="linear"&&o==="linearGradient"||a==="radial"&&o==="radialGradient"?n.updateDom(e,e.__dom):(n.removeDom(e),n.add(e))}})}},t.prototype.updateDom=function(e,n){if(Eb(e))n.setAttribute("x1",e.x+""),n.setAttribute("y1",e.y+""),n.setAttribute("x2",e.x2+""),n.setAttribute("y2",e.y2+"");else{if(!zb(e))return void an("Illegal gradient type.");n.setAttribute("cx",e.x+""),n.setAttribute("cy",e.y+""),n.setAttribute("r",e.r+"")}e.global?n.setAttribute("gradientUnits","userSpaceOnUse"):n.setAttribute("gradientUnits","objectBoundingBox"),n.innerHTML="";for(var r=e.colorStops,o=0,a=r.length;o<a;++o){var s=this.createElement("stop");s.setAttribute("offset",100*r[o].offset+"%");var l=r[o].color;if(l.indexOf("rgba")>-1){var u=Rt(l)[3],h=tp(l);s.setAttribute("stop-color","#"+h),s.setAttribute("stop-opacity",u+"")}else s.setAttribute("stop-color",r[o].color);n.appendChild(s)}e.__dom=n},t.prototype.markUsed=function(e){if(e.style){var n=e.style.fill;n&&n.__dom&&i.prototype.markDomUsed.call(this,n.__dom),(n=e.style.stroke)&&n.__dom&&i.prototype.markDomUsed.call(this,n.__dom)}},t}(Bh);function ll(i){return i&&(!!i.image||!!i.svgElement)}var ul=new J_,bk=function(i){function t(e,n){return i.call(this,e,n,["pattern"],"__pattern_in_use__")||this}return z(t,i),t.prototype.addWithoutUpdate=function(e,n){if(n&&n.style){var r=this;D(["fill","stroke"],function(o){var a=n.style[o];if(ll(a)){var s=r.getDefs(!0),l=ul.get(a);l?s.contains(l)||r.addDom(l):l=r.add(a),r.markUsed(n);var u=l.getAttribute("id");e.setAttribute(o,"url(#"+u+")")}})}},t.prototype.add=function(e){if(ll(e)){var n=this.createElement("pattern");return e.id=e.id==null?this.nextId++:e.id,n.setAttribute("id","zr"+this._zrId+"-pattern-"+e.id),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("patternUnits","userSpaceOnUse"),this.updateDom(e,n),this.addDom(n),n}},t.prototype.update=function(e){if(ll(e)){var n=this;this.doUpdate(e,function(){var r=ul.get(e);n.updateDom(e,r)})}},t.prototype.updateDom=function(e,n){var r=e.svgElement;if(r instanceof SVGElement)r.parentNode!==n&&(n.innerHTML="",n.appendChild(r),n.setAttribute("width",e.svgWidth+""),n.setAttribute("height",e.svgHeight+""));else{var o=void 0,a=n.getElementsByTagName("image");if(a.length){if(!e.image)return void n.removeChild(a[0]);o=a[0]}else e.image&&(o=this.createElement("image"));if(o){var s=void 0;if(typeof e.image=="string"?s=e.image:e.image instanceof HTMLImageElement?s=e.image.src:e.image instanceof HTMLCanvasElement&&(s=e.image.toDataURL()),s){o.setAttribute("href",s),o.setAttribute("x","0"),o.setAttribute("y","0");var l=Np(s,o,{dirty:function(){}},function(h){n.setAttribute("width",h.width+""),n.setAttribute("height",h.height+"")});l&&l.width&&l.height&&(n.setAttribute("width",l.width+""),n.setAttribute("height",l.height+"")),n.appendChild(o)}}}var u="translate("+(e.x||0)+", "+(e.y||0)+") rotate("+(e.rotation||0)/Math.PI*180+") scale("+(e.scaleX||1)+", "+(e.scaleY||1)+")";n.setAttribute("patternTransform",u),ul.set(e,n)},t.prototype.markUsed=function(e){e.style&&(ll(e.style.fill)&&i.prototype.markDomUsed.call(this,ul.get(e.style.fill)),ll(e.style.stroke)&&i.prototype.markDomUsed.call(this,ul.get(e.style.stroke)))},t}(Bh);function Vb(i){var t=i.__clipPaths;return t&&t.length>0}var wk=function(i){function t(e,n){var r=i.call(this,e,n,"clipPath","__clippath_in_use__")||this;return r._refGroups={},r._keyDuplicateCount={},r}return z(t,i),t.prototype.markAllUnused=function(){for(var e in i.prototype.markAllUnused.call(this),this._refGroups)this.markDomUnused(this._refGroups[e]);this._keyDuplicateCount={}},t.prototype._getClipPathGroup=function(e,n){if(Vb(e)){var r=e.__clipPaths,o=this._keyDuplicateCount,a=function(s){var l=[];if(s)for(var u=0;u<s.length;u++){var h=s[u];l.push(h.id)}return l.join(",")}(r);return Q_(r,n&&n.__clipPaths)&&(o[a]=o[a]||0,o[a]&&(a+="-"+o[a]),o[a]++),this._refGroups[a]||(this._refGroups[a]=this.createElement("g"))}},t.prototype.update=function(e,n){var r=this._getClipPathGroup(e,n);return r&&(this.markDomUsed(r),this.updateDom(r,e.__clipPaths)),r},t.prototype.updateDom=function(e,n){if(n&&n.length>0){var r=this.getDefs(!0),o=n[0],a=void 0,s=void 0;o._dom?(s=o._dom.getAttribute("id"),a=o._dom,r.contains(a)||r.appendChild(a)):(s="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(a=this.createElement("clipPath")).setAttribute("id",s),r.appendChild(a),o._dom=a),this.getSvgProxy(o).brush(o);var l=this.getSvgElement(o);a.innerHTML="",a.appendChild(l),e.setAttribute("clip-path","url(#"+s+")"),n.length>1&&this.updateDom(a,n.slice(1))}else e&&e.setAttribute("clip-path","none")},t.prototype.markUsed=function(e){var n=this;e.__clipPaths&&D(e.__clipPaths,function(r){r._dom&&i.prototype.markDomUsed.call(n,r._dom)})},t.prototype.removeUnused=function(){i.prototype.removeUnused.call(this);var e={};for(var n in this._refGroups){var r=this._refGroups[n];this.isDomUnused(r)?r.parentNode&&r.parentNode.removeChild(r):e[n]=r}this._refGroups=e},t}(Bh),Sk=function(i){function t(e,n){var r=i.call(this,e,n,["filter"],"__filter_in_use__","_shadowDom")||this;return r._shadowDomMap={},r._shadowDomPool=[],r}return z(t,i),t.prototype._getFromPool=function(){var e=this._shadowDomPool.pop();if(!e){(e=this.createElement("filter")).setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var n=this.createElement("feDropShadow");e.appendChild(n),this.addDom(e)}return e},t.prototype.update=function(e,n){if(function(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)}(n.style)){var r=function(a){var s=a.style,l=a.getGlobalScale();return[s.shadowColor,(s.shadowBlur||0).toFixed(2),(s.shadowOffsetX||0).toFixed(2),(s.shadowOffsetY||0).toFixed(2),l[0],l[1]].join(",")}(n),o=n._shadowDom=this._shadowDomMap[r];o||(o=this._getFromPool(),this._shadowDomMap[r]=o),this.updateDom(e,n,o)}else this.remove(e,n)},t.prototype.remove=function(e,n){n._shadowDom!=null&&(n._shadowDom=null,e.style.filter="")},t.prototype.updateDom=function(e,n,r){var o=r.children[0],a=n.style,s=n.getGlobalScale(),l=s[0],u=s[1];if(l&&u){var h=a.shadowOffsetX||0,c=a.shadowOffsetY||0,p=a.shadowBlur,d=a.shadowColor;o.setAttribute("dx",h/l+""),o.setAttribute("dy",c/u+""),o.setAttribute("flood-color",d);var f=p/2/l+" "+p/2/u;o.setAttribute("stdDeviation",f),r.setAttribute("x","-100%"),r.setAttribute("y","-100%"),r.setAttribute("width","300%"),r.setAttribute("height","300%"),n._shadowDom=r;var g=r.getAttribute("id");e.style.filter="url(#"+g+")"}},t.prototype.removeUnused=function(){if(this.getDefs(!1)){var e=this._shadowDomPool;for(var n in this._shadowDomMap){var r=this._shadowDomMap[n];e.push(r)}this._shadowDomMap={}}},t}(Bh);function Vh(i){return parseInt(i,10)}function Gb(i){return i instanceof Me?zh:i instanceof ut?Rb:i instanceof Nr?Nb:zh}function Fb(i,t){return t&&i&&t.parentNode!==i}function Hb(i,t,e){if(Fb(i,t)&&e){var n=e.nextSibling;n?i.insertBefore(t,n):i.appendChild(t)}}function Wb(i,t){if(Fb(i,t)){var e=i.firstChild;e?i.insertBefore(t,e):i.appendChild(t)}}function Mk(i,t){t&&i&&t.parentNode===i&&i.removeChild(t)}function hl(i){return i.__svgEl}var Ik=function(){function i(t,e,n,r){this.type="svg",this.refreshHover=tg("refreshHover"),this.pathToImage=tg("pathToImage"),this.configLayer=tg("configLayer"),this.root=t,this.storage=e,this._opts=n=X({},n||{});var o=yi("svg");o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;";var a=yi("g");o.appendChild(a);var s=yi("g");o.appendChild(s),this._gradientManager=new xk(r,s),this._patternManager=new bk(r,s),this._clipPathManager=new wk(r,s),this._shadowManager=new Sk(r,s);var l=document.createElement("div");l.style.cssText="overflow:hidden;position:relative",this._svgDom=o,this._svgRoot=s,this._backgroundRoot=a,this._viewport=l,t.appendChild(l),l.appendChild(o),this.resize(n.width,n.height),this._visibleList=[]}return i.prototype.getType=function(){return"svg"},i.prototype.getViewportRoot=function(){return this._viewport},i.prototype.getSvgDom=function(){return this._svgDom},i.prototype.getSvgRoot=function(){return this._svgRoot},i.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},i.prototype.refresh=function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},i.prototype.setBackgroundColor=function(t){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var e=yi("rect");e.setAttribute("width",this.getWidth()),e.setAttribute("height",this.getHeight()),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("id",0),e.style.fill=t,this._backgroundRoot.appendChild(e),this._backgroundNode=e},i.prototype.createSVGElement=function(t){return yi(t)},i.prototype.paintOne=function(t){var e=Gb(t);return e&&e.brush(t),hl(t)},i.prototype._paintList=function(t){var e=this._gradientManager,n=this._patternManager,r=this._clipPathManager,o=this._shadowManager;e.markAllUnused(),n.markAllUnused(),r.markAllUnused(),o.markAllUnused();for(var a=this._svgRoot,s=this._visibleList,l=t.length,u=[],h=0;h<l;h++){var c=Gb(b=t[h]),p=hl(b);b.invisible||(!b.__dirty&&p||(c&&c.brush(b),(p=hl(b))&&b.style&&(e.update(b.style.fill),e.update(b.style.stroke),n.update(b.style.fill),n.update(b.style.stroke),o.update(p,b)),b.__dirty=0),p&&u.push(b))}var d,f,g,y,m,v=yk(s,u);for(h=0;h<v.length;h++)if((x=v[h]).removed)for(var _=0;_<x.count;_++)p=hl(b=s[x.indices[_]]),Vb(b)?(g=p)&&g.parentNode&&g.parentNode.removeChild(g):Mk(a,p);for(h=0;h<v.length;h++){var x;if(!(x=v[h]).removed)for(_=0;_<x.count;_++){var b=u[x.indices[_]],w=r.update(b,y);w!==m&&(d=f,w&&(d?Hb(a,w,d):Wb(a,w),f=w,d=null),m=w),p=hl(b),d?Hb(m||a,p,d):Wb(m||a,p),d=p||d,m||(f=d),e.markUsed(b),e.addWithoutUpdate(p,b),n.markUsed(b),n.addWithoutUpdate(p,b),r.markUsed(b),y=b}}e.removeUnused(),n.removeUnused(),r.removeUnused(),o.removeUnused(),this._visibleList=u},i.prototype.resize=function(t,e){var n=this._viewport;n.style.display="none";var r=this._opts;if(t!=null&&(r.width=t),e!=null&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var o=n.style;o.width=t+"px",o.height=e+"px";var a=this._svgDom;a.setAttribute("width",t+""),a.setAttribute("height",e+"")}this._backgroundNode&&(this._backgroundNode.setAttribute("width",t),this._backgroundNode.setAttribute("height",e))},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i.prototype._getSize=function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(e[n]!=null&&e[n]!=="auto")return parseFloat(e[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[r]||Vh(l[n])||Vh(s.style[n]))-(Vh(l[o])||0)-(Vh(l[a])||0)|0},i.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},i.prototype.clear=function(){var t=this._viewport;t&&t.parentNode&&t.parentNode.removeChild(t)},i.prototype.toDataURL=function(){this.refresh();var t=this._svgDom,e=t.outerHTML||(t.parentNode&&t.parentNode).innerHTML;return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(e.replace(/></g,`>
\r<`))},i}();function tg(i){return function(){an('In SVG mode painter not support method "'+i+'"')}}function Tk(){return!1}function Ub(i,t,e){var n=st(),r=t.getWidth(),o=t.getHeight(),a=n.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",n.setAttribute("data-zr-dom-id",i)),n.width=r*e,n.height=o*e,n}var ng=function(i){function t(e,n,r){var o,a=i.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,r=r||lu,typeof e=="string"?o=Ub(e,n,r):ae(e)&&(e=(o=e).id),a.id=e,a.dom=o;var s=o.style;return s&&(o.onselectstart=Tk,s.webkitUserSelect="none",s.userSelect="none",s.webkitTapHighlightColor="rgba(0,0,0,0)",s["-webkit-touch-callout"]="none",s.padding="0",s.margin="0",s.borderWidth="0"),a.domBack=null,a.ctxBack=null,a.painter=n,a.config=null,a.dpr=r,a}return z(t,i),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=Ub("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,n,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a,s=[],l=this.maxRepaintRectCount,u=!1,h=new me(0,0,0,0);function c(v){if(v.isFinite()&&!v.isZero())if(s.length===0)(_=new me(0,0,0,0)).copy(v),s.push(_);else{for(var _,x=!1,b=1/0,w=0,S=0;S<s.length;++S){var M=s[S];if(M.intersect(v)){var I=new me(0,0,0,0);I.copy(M),I.union(v),s[S]=I,x=!0;break}if(u){h.copy(v),h.union(M);var T=v.width*v.height,C=M.width*M.height,A=h.width*h.height-T-C;A<b&&(b=A,w=S)}}u&&(s[w].union(v),x=!0),!x&&((_=new me(0,0,0,0)).copy(v),s.push(_)),u||(u=s.length>=l)}}for(var p=this.__startIndex;p<this.__endIndex;++p)if(g=e[p]){var d=g.shouldBePainted(r,o,!0,!0);(y=g.__isRendered&&(g.__dirty&cn.REDARAW_BIT||!d)?g.getPrevPaintRect():null)&&c(y);var f=d&&(g.__dirty&cn.REDARAW_BIT||!g.__isRendered)?g.getPaintRect():null;f&&c(f)}for(p=this.__prevStartIndex;p<this.__prevEndIndex;++p){var g,y;d=(g=n[p]).shouldBePainted(r,o,!0,!0),g&&(!d||!g.__zr)&&g.__isRendered&&(y=g.getPrevPaintRect())&&c(y)}do for(a=!1,p=0;p<s.length;)if(s[p].isZero())s.splice(p,1);else{for(var m=p+1;m<s.length;)s[p].intersect(s[m])?(a=!0,s[p].union(s[m]),s.splice(m,1)):m++;p++}while(a);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,n){var r=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=e+"px",a.height=n+"px"),o.width=e*r,o.height=n*r,s&&(s.width=e*r,s.height=n*r,r!==1&&this.ctxBack.scale(r,r))},t.prototype.clear=function(e,n,r){var o=this.dom,a=this.ctx,s=o.width,l=o.height;n=n||this.clearColor;var u=this.motionBlur&&!e,h=this.lastFrameAlpha,c=this.dpr,p=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/c,l/c));var d=this.domBack;function f(g,y,m,v){if(a.clearRect(g,y,m,v),n&&n!=="transparent"){var _=void 0;Gm(n)?(_=n.__canvasGradient||sf(a,n,{x:0,y:0,width:m,height:v}),n.__canvasGradient=_):Fm(n)&&(_=uf(a,n,{dirty:function(){p.setUnpainted(),p.__painter.refresh()}})),a.save(),a.fillStyle=_||n,a.fillRect(g,y,m,v),a.restore()}u&&(a.save(),a.globalAlpha=h,a.drawImage(d,g,y,m,v),a.restore())}!r||u?f(0,0,s,l):r.length&&D(r,function(g){f(g.x*c,g.y*c,g.width*c,g.height*c)})},t}(Dn),Yb=1e5,cl=314159,Gh=.01;function Fh(i){return parseInt(i,10)}var Ck=function(){function i(t,e,n,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=X({},n||{}),this.dpr=n.devicePixelRatio||lu,this._singleCanvas=o,this.root=t;var a=t.style;a&&(a.webkitTapHighlightColor="transparent",a.webkitUserSelect="none",a.userSelect="none",a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var u=t,h=u.width,c=u.height;n.width!=null&&(h=n.width),n.height!=null&&(c=n.height),this.dpr=n.devicePixelRatio||1,u.width=h*this.dpr,u.height=c*this.dpr,this._width=h,this._height=c;var p=new ng(u,this,this.dpr);p.__builtin__=!0,p.initContext(),l[314159]=p,p.zlevel=cl,s.push(cl),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=function(f,g){var y=document.createElement("div");return y.style.cssText=["position:relative","width:"+f+"px","height:"+g+"px","padding:0","margin:0","border-width:0"].join(";")+";",y}(this._width,this._height);t.appendChild(d)}}return i.prototype.getType=function(){return"canvas"},i.prototype.isSingleCanvas=function(){return this._singleCanvas},i.prototype.getViewportRoot=function(){return this._domRoot},i.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},i.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var o=0;o<r.length;o++){var a=r[o],s=this._layers[a];if(!s.__builtin__&&s.refresh){var l=o===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},i.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},i.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var r,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<e;a++){var s=t[a];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(Yb)),r||(r=n.ctx).save(),Zi(r,s,o,a===e-1))}r&&r.restore()}},i.prototype.getHoverLayer=function(){return this.getLayer(Yb)},i.prototype.paintOne=function(t,e){hf(t,e)},i.prototype._paintList=function(t,e,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,n),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),a)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;gp(function(){l._paintList(t,e,n,r)})}}},i.prototype._compositeManually=function(){var t=this.getLayer(cl).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},i.prototype._doPaintList=function(t,e,n){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&o.push(u)}for(var h=!0,c=!1,p=function(y){var m=o[y],v=m.ctx,_=a&&m.createRepaintRects(t,e,d._width,d._height);v.save();var x,b=n?m.__startIndex:m.__drawIndex,w=!n&&m.incremental&&Date.now,S=w&&Date.now(),M=m.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,M,_);else if(b===m.__startIndex){var I=t[b];I.incremental&&I.notClear&&!n||m.clear(!1,M,_)}b===-1&&(console.error("For some unknown reason. drawIndex is -1"),b=m.__startIndex);var T=function(P){var O={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(x=b;x<m.__endIndex;x++){var R=t[x];if(R.__inHover&&(c=!0),r._doPaintEl(R,m,a,P,O,x===m.__endIndex-1),w&&Date.now()-S>15)break}O.prevElClipPaths&&v.restore()};if(_)if(_.length===0)x=m.__endIndex;else for(var C=d.dpr,A=0;A<_.length;++A){var L=_[A];v.save(),v.beginPath(),v.rect(L.x*C,L.y*C,L.width*C,L.height*C),v.clip(),T(L),v.restore()}else v.save(),T(),v.restore();m.__drawIndex=x,m.__drawIndex<m.__endIndex&&(h=!1)},d=this,f=0;f<o.length;f++)p(f);return ue.wxa&&D(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:h,needsRefreshHover:c}},i.prototype._doPaintEl=function(t,e,n,r,o,a){var s=e.ctx;if(n){var l=t.getPaintRect();(!r||l&&l.intersect(r))&&(Zi(s,t,o,a),t.setPrevPaintRect(l))}else Zi(s,t,o,a)},i.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=cl);var n=this._layers[t];return n||((n=new ng("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?de(n,this._layerConfig[t],!0):this._layerConfig[t-Gh]&&de(n,this._layerConfig[t-Gh],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},i.prototype.insertLayer=function(t,e){var n=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,s=null,l=-1;if(n[t])an("ZLevel "+t+" has been used already");else if(function(h){return!!h&&(!!h.__builtin__||typeof h.resize=="function"&&typeof h.refresh=="function")}(e)){if(o>0&&t>r[0]){for(l=0;l<o-1&&!(r[l]<t&&r[l+1]>t);l++);s=n[r[l]]}if(r.splice(l+1,0,t),n[t]=e,!e.virtual)if(s){var u=s.dom;u.nextSibling?a.insertBefore(e.dom,u.nextSibling):a.appendChild(e.dom)}else a.firstChild?a.insertBefore(e.dom,a.firstChild):a.appendChild(e.dom);e.__painter=this}else an("Layer of zlevel "+t+" is not valid")},i.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r];t.call(e,this._layers[o],o)}},i.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r],a=this._layers[o];a.__builtin__&&t.call(e,a,o)}},i.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r],a=this._layers[o];a.__builtin__||t.call(e,a,o)}},i.prototype.getLayers=function(){return this._layers},i.prototype._updateLayerStatus=function(t){function e(c){a&&(a.__endIndex!==c&&(a.__dirty=!0),a.__endIndex=c)}if(this.eachBuiltinLayer(function(c,p){c.__dirty=c.__used=!1}),this._singleCanvas){for(var n=1;n<t.length;n++)if((l=t[n]).zlevel!==t[n-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}}var r,o,a=null,s=0;for(o=0;o<t.length;o++){var l,u=(l=t[o]).zlevel,h=void 0;r!==u&&(r=u,s=0),l.incremental?((h=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,s=1):h=this.getLayer(u+(s>0?Gh:0),this._needsManuallyCompositing),h.__builtin__||an("ZLevel "+u+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==o&&(h.__dirty=!0),h.__startIndex=o,h.incremental?h.__drawIndex=-1:h.__drawIndex=o,e(o),a=h),l.__dirty&cn.REDARAW_BIT&&!l.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=o))}e(o),this.eachBuiltinLayer(function(c,p){!c.__used&&c.getElementCount()>0&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},i.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},i.prototype._clearLayer=function(t){t.clear()},i.prototype.setBackgroundColor=function(t){this._backgroundColor=t,D(this._layers,function(e){e.setUnpainted()})},i.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?de(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];(o===t||o===t+Gh)&&de(this._layers[o],n[t],!0)}}},i.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(ie(n,t),1))},i.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(t!=null&&(r.width=t),e!=null&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var o in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(cl).resize(t,e)}return this},i.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},i.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},i.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new ng("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,o=e.dom.height;this.eachLayer(function(c){c.__builtin__?n.drawImage(c.dom,0,0,r,o):c.renderToCanvas&&(n.save(),c.renderToCanvas(n),n.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var h=s[l];Zi(n,h,a,l===u-1)}return e.dom},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i.prototype._getSize=function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(e[n]!=null&&e[n]!=="auto")return parseFloat(e[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[r]||Fh(l[n])||Fh(s.style[n]))-(Fh(l[o])||0)-(Fh(l[a])||0)|0},i.prototype.pathToImage=function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),o=t.getBoundingRect(),a=t.style,s=a.shadowBlur*e,l=a.shadowOffsetX*e,u=a.shadowOffsetY*e,h=t.hasStroke()?a.lineWidth:0,c=Math.max(h/2,-l+s),p=Math.max(h/2,l+s),d=Math.max(h/2,-u+s),f=Math.max(h/2,u+s),g=o.width+c+p,y=o.height+d+f;n.width=g*e,n.height=y*e,r.scale(e,e),r.clearRect(0,0,g,y),r.dpr=e;var m={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=c-o.x,t.y=d-o.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&Zi(r,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var v=new ut({style:{x:0,y:0,image:n}});return X(t,m),v},i}(),Ak=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return z(t,i),t.prototype.getInitialData=function(e){return ni(this.getSource(),this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var n=new oe,r=ot("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);n.add(r),r.setStyle(e.lineStyle);var o=this.getData().getVisual("symbol"),a=o==="none"?"circle":o,s=.8*e.itemHeight,l=ot(a,(e.itemWidth-s)/2,(e.itemHeight-s)/2,s,s,e.itemStyle.fill,e.symbolKeepAspect);return n.add(l),l.setStyle(e.itemStyle),a.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0},t}(ze);function ga(i,t){var e=i.mapDimensionsAll("defaultedLabel"),n=e.length;if(n===1){var r=jr(i,t,e[0]);return r!=null?r+"":null}if(n){for(var o=[],a=0;a<e.length;a++)o.push(jr(i,t,e[a]));return o.join(" ")}}function Xb(i,t){var e=i.mapDimensionsAll("defaultedLabel");if(!W(t))return t+"";for(var n=[],r=0;r<e.length;r++){var o=i.getDimensionInfo(e[r]);o&&n.push(t[o.index])}return n.join(" ")}var pl=function(i){function t(e,n,r,o){var a=i.call(this)||this;return a.updateData(e,n,r,o),a}return z(t,i),t.prototype._createSymbol=function(e,n,r,o,a){this.removeAll();var s=ot(e,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=Dk,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Jn(this.childAt(0))},t.prototype.downplay=function(){Qn(this.childAt(0))},t.prototype.setZ=function(e,n){var r=this.childAt(0);r.zlevel=e,r.z=n},t.prototype.setDraggable=function(e){var n=this.childAt(0);n.draggable=e,n.cursor=e?"move":n.cursor},t.prototype.updateData=function(e,n,r,o){this.silent=!1;var a=e.getItemVisual(n,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,n),u=a!==this._symbolType,h=o&&o.disableAnimation;if(u){var c=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(a,e,n,l,c)}else{(d=this.childAt(0)).silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};h?d.attr(p):Te(d,p,s,n)}if(this._updateCommon(e,n,l,r,o),u){var d=this.childAt(0);h||(p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}},d.scaleX=d.scaleY=0,d.style.opacity=0,$e(d,p,s,n))}h&&this.childAt(0).stopAnimation("remove"),this._seriesModel=s},t.prototype._updateCommon=function(e,n,r,o,a){var s,l,u,h,c,p,d,f,g=this.childAt(0),y=e.hostModel;if(o&&(s=o.emphasisItemStyle,l=o.blurItemStyle,u=o.selectItemStyle,h=o.focus,c=o.blurScope,p=o.labelStatesModels,d=o.hoverScale,f=o.cursorStyle),!o||e.hasItemOption){var m=o&&o.itemModel?o.itemModel:e.getItemModel(n),v=m.getModel("emphasis");s=v.getModel("itemStyle").getItemStyle(),u=m.getModel(["select","itemStyle"]).getItemStyle(),l=m.getModel(["blur","itemStyle"]).getItemStyle(),h=v.get("focus"),c=v.get("blurScope"),p=St(m),d=v.getShallow("scale"),f=m.getShallow("cursor")}var _=e.getItemVisual(n,"symbolRotate");g.attr("rotation",(_||0)*Math.PI/180||0);var x=e.getItemVisual(n,"symbolOffset")||0;x&&(W(x)||(x=[x,x]),g.x=q(x[0],r[0]),g.y=q(we(x[1],x[0])||0,r[1])),f&&g.attr("cursor",f);var b=e.getItemVisual(n,"style"),w=b.fill;if(g instanceof ut){var S=g.style;g.useStyle(X({image:S.image,x:S.x,y:S.y,width:S.width,height:S.height},b))}else g.__isEmptyBrush?g.useStyle(X({},b)):g.useStyle(b),g.style.decal=null,g.setColor(w,a&&a.symbolInnerColor),g.style.strokeNoScale=!0;var M=e.getItemVisual(n,"liftZ"),I=this._z2;M!=null?I==null&&(this._z2=g.z2,g.z2+=M):I!=null&&(g.z2=I,this._z2=null);var T=a&&a.useNameLabel;Lt(g,p,{labelFetcher:y,labelDataIndex:n,defaultText:function(k){return T?e.getName(k):ga(e,k)},inheritColor:w,defaultOpacity:b.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var C=g.ensureState("emphasis");if(C.style=s,g.ensureState("select").style=u,g.ensureState("blur").style=l,d){var A=Math.max(1.1,3/this._sizeY);C.scaleX=this._sizeX*A,C.scaleY=this._sizeY*A}this.setSymbolScale(1),Ge(this,h,c)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,n){var r=this.childAt(0),o=this._seriesModel,a=se(this).dataIndex,s=n&&n.animation;if(this.silent=r.silent=!0,n&&n.fadeLabel){var l=r.getTextContent();l&&Hi(l,{style:{opacity:0}},o,{dataIndex:a,removeOpt:s,cb:function(){r.removeTextContent()}})}else r.removeTextContent();Hi(r,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:a,cb:e,removeOpt:s})},t.getSymbolSize=function(e,n){var r=e.getItemVisual(n,"symbolSize");return W(r)?r.slice():[+r,+r]},t}(oe);function Dk(i,t){this.parent.drift(i,t)}function ig(i,t,e,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(e))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&i.getItemVisual(e,"symbol")!=="none"}function Zb(i){return i==null||ae(i)||(i={isIgnore:i}),i||{}}function jb(i){var t=i.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),hoverScale:e.get("scale"),labelStatesModels:St(t),cursorStyle:t.get("cursor")}}var dl=function(){function i(t){this.group=new oe,this._SymbolCtor=t||pl}return i.prototype.updateData=function(t,e){e=Zb(e);var n=this.group,r=t.hostModel,o=this._data,a=this._SymbolCtor,s=e.disableAnimation,l=jb(t),u={disableAnimation:s},h=e.getSymbolPoint||function(c){return t.getItemLayout(c)};o||n.removeAll(),t.diff(o).add(function(c){var p=h(c);if(ig(t,p,c,e)){var d=new a(t,c,l,u);d.setPosition(p),t.setItemGraphicEl(c,d),n.add(d)}}).update(function(c,p){var d=o.getItemGraphicEl(p),f=h(c);if(ig(t,f,c,e)){if(d){d.updateData(t,c,l,u);var g={x:f[0],y:f[1]};s?d.attr(g):Te(d,g,r)}else(d=new a(t,c)).setPosition(f);n.add(d),t.setItemGraphicEl(c,d)}else n.remove(d)}).remove(function(c){var p=o.getItemGraphicEl(c);p&&p.fadeOut(function(){n.remove(p)})}).execute(),this._getSymbolPoint=h,this._data=t},i.prototype.isPersistent=function(){return!0},i.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(n,r){var o=t._getSymbolPoint(r);n.setPosition(o),n.markRedraw()})},i.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=jb(t),this._data=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(t,e,n){function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}n=Zb(n);for(var o=t.start;o<t.end;o++){var a=e.getItemLayout(o);if(ig(e,a,o,n)){var s=new this._SymbolCtor(e,o,this._seriesScope);s.traverse(r),s.setPosition(a),this.group.add(s),e.setItemGraphicEl(o,s)}}},i.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(r){r.fadeOut(function(){e.remove(r)})}):e.removeAll()},i}();function rg(i,t,e){var n=i.getBaseAxis(),r=i.getOtherAxis(n),o=function(f,g){var y=0,m=f.scale.getExtent();return g==="start"?y=m[0]:g==="end"?y=m[1]:m[0]>0?y=m[0]:m[1]<0&&(y=m[1]),y}(r,e),a=n.dim,s=r.dim,l=t.mapDimension(s),u=t.mapDimension(a),h=s==="x"||s==="radius"?1:0,c=j(i.dimensions,function(f){return t.mapDimension(f)}),p=!1,d=t.getCalculationInfo("stackResultDimension");return gi(t,c[0])&&(p=!0,c[0]=d),gi(t,c[1])&&(p=!0,c[1]=d),{dataDimsForPoint:c,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!p,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function qb(i,t,e,n){var r=NaN;i.stacked&&(r=e.get(e.getCalculationInfo("stackedOverDimension"),n)),isNaN(r)&&(r=i.valueStart);var o=i.baseDataOffset,a=[];return a[o]=e.get(i.baseDim,n),a[1-o]=r,t.dataToPoint(a)}var Kb=typeof Float32Array!="undefined",Lk=Kb?Float32Array:Array;function ya(i){return W(i)?Kb?new Float32Array(i):i:new Lk(i)}var er=Math.min,tr=Math.max;function io(i,t){return isNaN(i)||isNaN(t)}function og(i,t,e,n,r,o,a,s,l){for(var u,h,c,p,d,f,g=e,y=0;y<n;y++){var m=t[2*g],v=t[2*g+1];if(g>=r||g<0)break;if(io(m,v)){if(l){g+=o;continue}break}if(g===e)i[o>0?"moveTo":"lineTo"](m,v),c=m,p=v;else{var _=m-u,x=v-h;if(_*_+x*x<.5){g+=o;continue}if(a>0){var b=g+o,w=t[2*b],S=t[2*b+1],M=y+1;if(l)for(;io(w,S)&&M<n;)M++,w=t[2*(b+=o)],S=t[2*b+1];var I=.5,T=0,C=0,A=void 0,L=void 0;if(M>=n||io(w,S))d=m,f=v;else{T=w-u,C=S-h;var k=m-u,P=w-m,O=v-h,R=S-v,N=void 0,E=void 0;s==="x"?(N=Math.abs(k),E=Math.abs(P),d=m-N*a,f=v,A=m+N*a,L=v):s==="y"?(N=Math.abs(O),E=Math.abs(R),d=m,f=v-N*a,A=m,L=v+N*a):(N=Math.sqrt(k*k+O*O),d=m-T*a*(1-(I=(E=Math.sqrt(P*P+R*R))/(E+N))),f=v-C*a*(1-I),L=v+C*a*I,A=er(A=m+T*a*I,tr(w,m)),L=er(L,tr(S,v)),A=tr(A,er(w,m)),f=v-(C=(L=tr(L,er(S,v)))-v)*N/E,d=er(d=m-(T=A-m)*N/E,tr(u,m)),f=er(f,tr(h,v)),A=m+(T=m-(d=tr(d,er(u,m))))*E/N,L=v+(C=v-(f=tr(f,er(h,v))))*E/N)}i.bezierCurveTo(c,p,d,f,m,v),c=A,p=L}else i.lineTo(m,v)}u=m,h=v,g+=o}return y}var $b=function(){this.smooth=0,this.smoothConstraint=!0},kk=function(i){function t(e){var n=i.call(this,e)||this;return n.type="ec-polyline",n}return z(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $b},t.prototype.buildPath=function(e,n){var r=n.points,o=0,a=r.length/2;if(n.connectNulls){for(;a>0&&io(r[2*a-2],r[2*a-1]);a--);for(;o<a&&io(r[2*o],r[2*o+1]);o++);}for(;o<a;)o+=og(e,r,o,a,a,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(e,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r,o,a=this.path.data,s=$n.CMD,l=n==="x",u=[],h=0;h<a.length;){var c=void 0,p=void 0,d=void 0,f=void 0,g=void 0,y=void 0,m=void 0;switch(a[h++]){case s.M:r=a[h++],o=a[h++];break;case s.L:if(c=a[h++],p=a[h++],(m=l?(e-r)/(c-r):(e-o)/(p-o))<=1&&m>=0){var v=l?(p-o)*m+o:(c-r)*m+r;return l?[e,v]:[v,e]}r=c,o=p;break;case s.C:c=a[h++],p=a[h++],d=a[h++],f=a[h++],g=a[h++],y=a[h++];var _=l?Hp(r,c,d,g,e,u):Hp(o,p,f,y,e,u);if(_>0)for(var x=0;x<_;x++){var b=u[x];if(b<=1&&b>=0)return v=l?Qe(o,p,f,y,b):Qe(r,c,d,g,b),l?[e,v]:[v,e]}r=g,o=y}}},t}(Me),Pk=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t}($b),Jb=function(i){function t(e){var n=i.call(this,e)||this;return n.type="ec-polygon",n}return z(t,i),t.prototype.getDefaultShape=function(){return new Pk},t.prototype.buildPath=function(e,n){var r=n.points,o=n.stackedOnPoints,a=0,s=r.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&io(r[2*s-2],r[2*s-1]);s--);for(;a<s&&io(r[2*a],r[2*a+1]);a++);}for(;a<s;){var u=og(e,r,a,s,s,1,n.smooth,l,n.connectNulls);og(e,o,a+u-1,u,s,-1,n.stackedOnSmooth,l,n.connectNulls),a+=u+1,e.closePath()}},t}(Me);function Qb(i,t,e,n,r){var o=i.getArea(),a=o.x,s=o.y,l=o.width,u=o.height,h=e.get(["lineStyle","width"])||2;a-=h/2,s-=h/2,l+=h,u+=h,a=Math.floor(a),l=Math.round(l);var c=new Se({shape:{x:a,y:s,width:l,height:u}});if(t){var p=i.getBaseAxis(),d=p.isHorizontal(),f=p.inverse;d?(f&&(c.shape.x+=l),c.shape.width=0):(f||(c.shape.y+=u),c.shape.height=0),$e(c,{shape:{width:l,height:u,x:a,y:s}},e,null,n,typeof r=="function"?function(g){r(g,c)}:null)}return c}function ew(i,t,e){var n=i.getArea(),r=vt(n.r0,1),o=vt(n.r,1),a=new Et({shape:{cx:vt(i.cx,1),cy:vt(i.cy,1),r0:r,r:o,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});return t&&(i.getBaseAxis().dim==="angle"?a.shape.endAngle=n.startAngle:a.shape.r=r,$e(a,{shape:{endAngle:n.endAngle,r:o}},e)),a}function Hh(i,t,e,n,r){return i?i.type==="polar"?ew(i,t,e):i.type==="cartesian2d"?Qb(i,t,e,n,r):null:null}function vi(i,t){return i.type===t}function tw(i,t){if(i.length===t.length){for(var e=0;e<i.length;e++)if(i[e]!==t[e])return;return!0}}function nw(i){for(var t=1/0,e=1/0,n=-1/0,r=-1/0,o=0;o<i.length;){var a=i[o++],s=i[o++];isNaN(a)||(t=Math.min(a,t),n=Math.max(a,n)),isNaN(s)||(e=Math.min(s,e),r=Math.max(s,r))}return[[t,e],[n,r]]}function iw(i,t){var e=nw(i),n=e[0],r=e[1],o=nw(t),a=o[0],s=o[1];return Math.max(Math.abs(n[0]-a[0]),Math.abs(n[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function rw(i){return typeof i=="number"?i:i?.5:0}function nr(i,t,e){for(var n=t.getBaseAxis(),r=n.dim==="x"||n.dim==="radius"?0:1,o=[],a=0,s=[],l=[],u=[];a<i.length-2;a+=2)switch(u[0]=i[a+2],u[1]=i[a+3],l[0]=i[a],l[1]=i[a+1],o.push(l[0],l[1]),e){case"end":s[r]=u[r],s[1-r]=l[1-r],o.push(s[0],s[1]);break;case"middle":var h=(l[r]+u[r])/2,c=[];s[r]=c[r]=h,s[1-r]=l[1-r],c[1-r]=u[1-r],o.push(s[0],s[1]),o.push(c[0],c[1]);break;default:s[r]=l[r],s[1-r]=u[1-r],o.push(s[0],s[1])}return o.push(i[a++],i[a++]),o}function Ok(i,t,e){var n=i.get("showAllSymbol"),r=n==="auto";if(!n||r){var o=e.getAxesByScale("ordinal")[0];if(o&&(!r||!function(l,u){var h=l.getExtent(),c=Math.abs(h[1]-h[0])/l.scale.count();isNaN(c)&&(c=0);for(var p=u.count(),d=Math.max(1,Math.round(p/5)),f=0;f<p;f+=d)if(1.5*pl.getSymbolSize(u,f)[l.isHorizontal()?1:0]>c)return!1;return!0}(o,t))){var a=t.mapDimension(o.dim),s={};return D(o.getViewLabels(),function(l){var u=o.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(a,l))}}}}function ow(i,t){return[i[2*t],i[2*t+1]]}function aw(i,t,e,n){if(vi(t,"cartesian2d")){var r=n.getModel("endLabel"),o=r.get("show"),a=r.get("valueAnimation"),s=n.getData(),l={lastFrameIndex:0},u=o?function(f,g){i._endLabelOnDuring(f,g,s,l,a,r,t)}:null,h=t.getBaseAxis().isHorizontal(),c=Qb(t,e,n,function(){var f=i._endLabel;f&&e&&l.originalX!=null&&f.attr({x:l.originalX,y:l.originalY})},u);if(!n.get("clip",!0)){var p=c.shape,d=Math.max(p.width,p.height);h?(p.y-=d,p.height+=2*d):(p.x-=d,p.width+=2*d)}return u&&u(1,c),c}return ew(t,e,n)}var Rk=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.init=function(){var e=new oe,n=new dl;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=e},t.prototype.render=function(e,n,r){var o=this,a=e.coordinateSystem,s=this.group,l=e.getData(),u=e.getModel("lineStyle"),h=e.getModel("areaStyle"),c=l.getLayout("points")||[],p=a.type==="polar",d=this._coordSys,f=this._symbolDraw,g=this._polyline,y=this._polygon,m=this._lineGroup,v=e.get("animation"),_=!h.isEmpty(),x=h.get("origin"),b=rg(a,l,x),w=_&&function(G,F,H){if(!H.valueDim)return[];for(var V=F.count(),U=ya(2*V),Y=0;Y<V;Y++){var Z=qb(H,G,F,Y);U[2*Y]=Z[0],U[2*Y+1]=Z[1]}return U}(a,l,b),S=e.get("showSymbol"),M=S&&!p&&Ok(e,l,a),I=this._data;I&&I.eachItemGraphicEl(function(G,F){G.__temp&&(s.remove(G),I.setItemGraphicEl(F,null))}),S||f.remove(),s.add(m);var T,C=!p&&e.get("step");a&&a.getArea&&e.get("clip",!0)&&((T=a.getArea()).width!=null?(T.x-=.1,T.y-=.1,T.width+=.2,T.height+=.2):T.r0&&(T.r0-=.5,T.r+=.5)),this._clipShapeForSymbol=T;var A=function(G,F){var H=G.getVisual("visualMeta");if(H&&H.length&&G.count()&&F.type==="cartesian2d"){for(var V,U,Y=H.length-1;Y>=0;Y--){var Z=H[Y].dimension,K=G.dimensions[Z],$=G.getDimensionInfo(K);if((V=$&&$.coordDim)==="x"||V==="y"){U=H[Y];break}}if(U){var ne=F.getAxis(V),le=j(U.stops,function(Je){return{offset:0,coord:ne.toGlobalCoord(ne.dataToCoord(Je.value)),color:Je.color}}),fe=le.length,ge=U.outerColors.slice();fe&&le[0].coord>le[fe-1].coord&&(le.reverse(),ge.reverse());var Fe=le[0].coord-10,Ze=le[fe-1].coord+10,Ve=Ze-Fe;if(Ve<.001)return"transparent";D(le,function(Je){Je.offset=(Je.coord-Fe)/Ve}),le.push({offset:fe?le[fe-1].offset:.5,color:ge[1]||"transparent"}),le.unshift({offset:fe?le[0].offset:.5,color:ge[0]||"transparent"});var He=new Ho(0,0,0,0,le,!0);return He[V]=Fe,He[V+"2"]=Ze,He}}}(l,a)||l.getVisual("style")[l.getVisual("drawType")];g&&d.type===a.type&&C===this._step?(_&&!y?y=this._newPolygon(c,w):y&&!_&&(m.remove(y),y=this._polygon=null),p||this._initOrUpdateEndLabel(e,a,Wr(A)),m.setClipPath(aw(this,a,!1,e)),S&&f.updateData(l,{isIgnore:M,clipShape:T,disableAnimation:!0,getSymbolPoint:function(F){return[c[2*F],c[2*F+1]]}}),tw(this._stackedOnPoints,w)&&tw(this._points,c)||(v?this._doUpdateAnimation(l,w,a,r,C,x):(C&&(c=nr(c,a,C),w&&(w=nr(w,a,C))),g.setShape({points:c}),y&&y.setShape({points:c,stackedOnPoints:w})))):(S&&f.updateData(l,{isIgnore:M,clipShape:T,disableAnimation:!0,getSymbolPoint:function(F){return[c[2*F],c[2*F+1]]}}),v&&this._initSymbolLabelAnimation(l,a,T),C&&(c=nr(c,a,C),w&&(w=nr(w,a,C))),g=this._newPolyline(c),_&&(y=this._newPolygon(c,w)),p||this._initOrUpdateEndLabel(e,a,Wr(A)),m.setClipPath(aw(this,a,!0,e)));var L=e.get(["emphasis","focus"]),k=e.get(["emphasis","blurScope"]);g.useStyle(J(u.getLineStyle(),{fill:"none",stroke:A,lineJoin:"bevel"})),Mt(g,e,"lineStyle"),g.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"&&(g.getState("emphasis").style.lineWidth=+g.style.lineWidth+1),se(g).seriesIndex=e.seriesIndex,Ge(g,L,k);var P=rw(e.get("smooth")),O=e.get("smoothMonotone"),R=e.get("connectNulls");if(g.setShape({smooth:P,smoothMonotone:O,connectNulls:R}),y){var N=l.getCalculationInfo("stackedOnSeries"),E=0;y.useStyle(J(h.getAreaStyle(),{fill:A,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),N&&(E=rw(N.get("smooth"))),y.setShape({smooth:P,stackedOnSmooth:E,smoothMonotone:O,connectNulls:R}),Mt(y,e,"areaStyle"),se(y).seriesIndex=e.seriesIndex,Ge(y,L,k)}var B=function(F){o._changePolyState(F)};l.eachItemGraphicEl(function(G){G&&(G.onHoverStateChange=B)}),this._polyline.onHoverStateChange=B,this._data=l,this._coordSys=a,this._stackedOnPoints=w,this._points=c,this._step=C,this._valueOrigin=x},t.prototype.dispose=function(){},t.prototype.highlight=function(e,n,r,o){var a=e.getData(),s=Mr(a,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=a.getLayout("points"),u=a.getItemGraphicEl(s);if(!u){var h=l[2*s],c=l[2*s+1];if(isNaN(h)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,c))return;(u=new pl(a,s)).x=h,u.y=c,u.setZ(e.get("zlevel"),e.get("z"));var p=u.getSymbolPath().getTextContent();p&&(p.z2=this._polyline.z2+1),u.__temp=!0,a.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Re.prototype.highlight.call(this,e,n,r,o)},t.prototype.downplay=function(e,n,r,o){var a=e.getData(),s=Mr(a,o);if(this._changePolyState("normal"),s!=null&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Re.prototype.downplay.call(this,e,n,r,o)},t.prototype._changePolyState=function(e){var n=this._polygon;Su(this._polyline,e),n&&Su(n,e)},t.prototype._newPolyline=function(e){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new kk({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(e,n){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new Jb({shape:{points:e,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},t.prototype._initSymbolLabelAnimation=function(e,n,r){var o,a,s=n.getBaseAxis(),l=s.inverse;n.type==="cartesian2d"?(o=s.isHorizontal(),a=!1):n.type==="polar"&&(o=s.dim==="angle",a=!0);var u=e.hostModel,h=u.get("animationDuration");typeof h=="function"&&(h=h(null));var c=u.get("animationDelay")||0,p=typeof c=="function"?c(null):c;e.eachItemGraphicEl(function(d,f){var g=d;if(g){var y=[d.x,d.y],m=void 0,v=void 0,_=void 0;if(a){var x=r,b=n.pointToCoord(y);o?(m=x.startAngle,v=x.endAngle,_=-b[1]/180*Math.PI):(m=x.r0,v=x.r,_=b[0])}else{var w=r;o?(m=w.x,v=w.x+w.width,_=d.x):(m=w.y+w.height,v=w.y,_=d.y)}var S=v===m?0:(_-m)/(v-m);l&&(S=1-S);var M=typeof c=="function"?c(f):h*S+p,I=g.getSymbolPath(),T=I.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,delay:M}),T&&T.animateFrom({style:{opacity:0}},{duration:300,delay:M}),I.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,n,r){var o=e.getModel("endLabel");if(o.get("show")){var a=e.getData(),s=this._polyline,l=this._endLabel;l||((l=this._endLabel=new Ie({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var u=function(h){for(var c,p,d=h.length/2;d>0&&(c=h[2*d-2],p=h[2*d-1],isNaN(c)||isNaN(p));d--);return d-1}(a.getLayout("points"));u>=0&&(Lt(s,St(e,"endLabel"),{inheritColor:r,labelFetcher:e,labelDataIndex:u,defaultText:function(c,p,d){return d!=null?Xb(a,d):ga(a,c)},enableTextSetter:!0},function(h,c){var p=c.getBaseAxis(),d=p.isHorizontal(),f=p.inverse,g=d?f?"right":"left":"center",y=d?"middle":f?"top":"bottom";return{normal:{align:h.get("align")||g,verticalAlign:h.get("verticalAlign")||y}}}(o,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,n,r,o,a,s,l){var u=this._endLabel,h=this._polyline;if(u){e<1&&o.originalX==null&&(o.originalX=u.x,o.originalY=u.y);var c=r.getLayout("points"),p=r.hostModel,d=p.get("connectNulls"),f=s.get("precision"),g=s.get("distance")||0,y=l.getBaseAxis(),m=y.isHorizontal(),v=y.inverse,_=n.shape,x=v?m?_.x:_.y+_.height:m?_.x+_.width:_.y,b=(m?g:0)*(v?-1:1),w=(m?0:-g)*(v?-1:1),S=m?"x":"y",M=function(O,R,N){for(var E,B,G=O.length/2,F=N==="x"?0:1,H=0,V=-1,U=0;U<G;U++)if(B=O[2*U+F],!isNaN(B)&&!isNaN(O[2*U+1-F]))if(U!==0){if(E<=R&&B>=R||E>=R&&B<=R){V=U;break}H=U,E=B}else E=B;return{range:[H,V],t:(R-E)/(B-E)}}(c,x,S),I=M.range,T=I[1]-I[0],C=void 0;if(T>=1){if(T>1&&!d){var A=ow(c,I[0]);u.attr({x:A[0]+b,y:A[1]+w}),a&&(C=p.getRawValue(I[0]))}else{(A=h.getPointOn(x,S))&&u.attr({x:A[0]+b,y:A[1]+w});var L=p.getRawValue(I[0]),k=p.getRawValue(I[1]);a&&(C=Vv(r,f,L,k,M.t))}o.lastFrameIndex=I[0]}else{var P=e===1||o.lastFrameIndex>0?I[0]:0;A=ow(c,P),a&&(C=p.getRawValue(P)),u.attr({x:A[0]+b,y:A[1]+w})}a&&Ts(u).setLabelText(C)}},t.prototype._doUpdateAnimation=function(e,n,r,o,a,s){var l=this._polyline,u=this._polygon,h=e.hostModel,c=function(b,w,S,M,I,T,C,A){for(var L=function(pe,gt){var pt=[];return gt.diff(pe).add(function(qe){pt.push({cmd:"+",idx:qe})}).update(function(qe,Ot){pt.push({cmd:"=",idx:Ot,idx1:qe})}).remove(function(qe){pt.push({cmd:"-",idx:qe})}).execute(),pt}(b,w),k=[],P=[],O=[],R=[],N=[],E=[],B=[],G=rg(I,w,C),F=(rg(T,b,A),b.getLayout("points")||[]),H=w.getLayout("points")||[],V=0;V<L.length;V++){var U=L[V],Y=!0,Z=void 0,K=void 0;switch(U.cmd){case"=":Z=2*U.idx,K=2*U.idx1;var $=F[Z],ne=F[Z+1],le=H[K],fe=H[K+1];(isNaN($)||isNaN(ne))&&($=le,ne=fe),k.push($,ne),P.push(le,fe),O.push(S[Z],S[Z+1]),R.push(M[K],M[K+1]),B.push(w.getRawIndex(U.idx1));break;case"+":var ge=U.idx,Fe=G.dataDimsForPoint,Ze=I.dataToPoint([w.get(Fe[0],ge),w.get(Fe[1],ge)]);K=2*ge,k.push(Ze[0],Ze[1]),P.push(H[K],H[K+1]);var Ve=qb(G,I,w,ge);O.push(Ve[0],Ve[1]),R.push(M[K],M[K+1]),B.push(w.getRawIndex(ge));break;case"-":Y=!1}Y&&(N.push(U),E.push(E.length))}E.sort(function(pe,gt){return B[pe]-B[gt]});var He=k.length,Je=ya(He),at=ya(He),jt=ya(He),Ft=ya(He),Ee=[];for(V=0;V<E.length;V++){var ye=E[V],Le=2*V,De=2*ye;Je[Le]=k[De],Je[Le+1]=k[De+1],at[Le]=P[De],at[Le+1]=P[De+1],jt[Le]=O[De],jt[Le+1]=O[De+1],Ft[Le]=R[De],Ft[Le+1]=R[De+1],Ee[V]=N[ye]}return{current:Je,next:at,stackedOnCurrent:jt,stackedOnNext:Ft,status:Ee}}(this._data,e,this._stackedOnPoints,n,this._coordSys,r,this._valueOrigin,s),p=c.current,d=c.stackedOnCurrent,f=c.next,g=c.stackedOnNext;if(a&&(p=nr(c.current,r,a),d=nr(c.stackedOnCurrent,r,a),f=nr(c.next,r,a),g=nr(c.stackedOnNext,r,a)),iw(p,f)>3e3||u&&iw(d,g)>3e3)return l.setShape({points:f}),void(u&&u.setShape({points:f,stackedOnPoints:g}));l.shape.__points=c.current,l.shape.points=p;var y={shape:{points:f}};c.current!==p&&(y.shape.__points=c.next),l.stopAnimation(),Te(l,y,h),u&&(u.setShape({points:p,stackedOnPoints:d}),u.stopAnimation(),Te(u,{shape:{stackedOnPoints:g}},h),l.shape.points!==u.shape.points&&(u.shape.points=l.shape.points));for(var m=[],v=c.status,_=0;_<v.length;_++)if(v[_].cmd==="="){var x=e.getItemGraphicEl(v[_].idx1);x&&m.push({el:x,ptIdx:_})}l.animators&&l.animators.length&&l.animators[0].during(function(){u&&u.dirtyShape();for(var b=l.shape.__points,w=0;w<m.length;w++){var S=m[w].el,M=2*m[w].ptIdx;S.x=b[M],S.y=b[M+1],S.markRedraw()}})},t.prototype.remove=function(e){var n=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(n.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Re);function fl(i,t){return{seriesType:i,plan:ia(),reset:function(n){var r=n.getData(),o=n.coordinateSystem,a=n.pipelineContext,s=t||a.large;if(o){var l=j(o.dimensions,function(g){return r.mapDimension(g)}).slice(0,2),u=l.length,h=r.getCalculationInfo("stackResultDimension");gi(r,l[0])&&(l[0]=h),gi(r,l[1])&&(l[1]=h);var c=r.getDimensionInfo(l[0]),p=r.getDimensionInfo(l[1]),d=c&&c.index,f=p&&p.index;return u&&{progress:function(y,m){for(var v=y.end-y.start,_=s&&ya(v*u),x=[],b=[],w=y.start,S=0;w<y.end;w++){var M=void 0;if(u===1){var I=m.getByDimIdx(d,w);M=o.dataToPoint(I,null,b)}else x[0]=m.getByDimIdx(d,w),x[1]=m.getByDimIdx(f,w),M=o.dataToPoint(x,null,b);s?(_[S++]=M[0],_[S++]=M[1]):m.setItemLayout(w,M.slice())}s&&m.setLayout("points",_)}}}}}}var Nk={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return n===0?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},Ek=function(t){return Math.round(t.length/2)};function sw(i){return{seriesType:i,reset:function(e,n,r){var o=e.getData(),a=e.get("sampling"),s=e.coordinateSystem,l=o.count();if(l>10&&s.type==="cartesian2d"&&a){var u=s.getBaseAxis(),h=s.getOtherAxis(u),c=u.getExtent(),p=r.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(p||1),f=Math.round(l/d);if(f>1){a==="lttb"&&e.setData(o.lttbDownSample(o.mapDimension(h.dim),1/f));var g=void 0;typeof a=="string"?g=Nk[a]:typeof a=="function"&&(g=a),g&&e.setData(o.downSample(o.mapDimension(h.dim),1/f,g,Ek))}}}}}var gl=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.getInitialData=function(e,n){return ni(this.getSource(),this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e){var n=this.coordinateSystem;if(n){var r=n.dataToPoint(n.clampData(e)),o=this.getData(),a=o.getLayout("offset"),s=o.getLayout("size");return r[n.getBaseAxis().isHorizontal()?0:1]+=a+s/2,r}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(ze);ze.registerClass(gl);var zk=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.getInitialData=function(){return ni(this.getSource(),this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>e&&(e=n),e},t.prototype.brushSelector=function(e,n,r){return r.rect(n.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Ui(gl.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(gl),Bk=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},ag=function(i){function t(e){var n=i.call(this,e)||this;return n.type="sausage",n}return z(t,i),t.prototype.getDefaultShape=function(){return new Bk},t.prototype.buildPath=function(e,n){var r=n.cx,o=n.cy,a=Math.max(n.r0||0,0),s=Math.max(n.r,0),l=.5*(s-a),u=a+l,h=n.startAngle,c=n.endAngle,p=n.clockwise,d=Math.cos(h),f=Math.sin(h),g=Math.cos(c),y=Math.sin(c);(p?c-h<2*Math.PI:h-c<2*Math.PI)&&(e.moveTo(d*a+r,f*a+o),e.arc(d*u+r,f*u+o,l,-Math.PI+h,h,!p)),e.arc(r,o,s,h,c,!p),e.moveTo(g*s+r,y*s+o),e.arc(g*u+r,y*u+o,l,c-2*Math.PI,c-Math.PI,!p),a!==0&&(e.arc(r,o,a,c,h,p),e.moveTo(d*a+r,y*a+o)),e.closePath()},t}(Me),Wh=[0,0],sg=Math.max,lg=Math.min,Vk=function(i){function t(){var e=i.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return z(t,i),t.prototype.render=function(e,n,r,o){this._model=e,this._removeOnRenderedListener(r),this._updateDrawMode(e);var a=e.get("coordinateSystem");(a==="cartesian2d"||a==="polar")&&(this._isLargeDraw?this._renderLarge(e,n,r):this._renderNormal(e,n,r,o))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,n){this._incrementalRenderLarge(e,n)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;this._isLargeDraw!=null&&n===this._isLargeDraw||(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e,n,r,o){var a,s=this.group,l=e.getData(),u=this._data,h=e.coordinateSystem,c=h.getBaseAxis();h.type==="cartesian2d"?a=c.isHorizontal():h.type==="polar"&&(a=c.dim==="angle");var p=e.isAnimationEnabled()?e:null,d=function(C,A){var L=C.get("realtimeSort",!0),k=A.getBaseAxis();if(L&&k.type==="category"&&A.type==="cartesian2d")return{baseAxis:k,otherAxis:A.getOtherAxis(k)}}(e,h);d&&this._enableRealtimeSort(d,l,r);var f=e.get("clip",!0)||d,g=function(C,A){var L=C.getArea&&C.getArea();if(vi(C,"cartesian2d")){var k=C.getBaseAxis();if(k.type!=="category"||!k.onBand){var P=A.getLayout("bandWidth");k.isHorizontal()?(L.x-=P,L.width+=2*P):(L.y-=P,L.height+=2*P)}}return L}(h,l);s.removeClipPath();var y=e.get("roundCap",!0),m=e.get("showBackground",!0),v=e.getModel("backgroundStyle"),_=v.get("borderRadius")||0,x=[],b=this._backgroundEls,w=o&&o.isInitSort,S=o&&o.type==="changeAxisOrder";function M(C){var A=Uh[h.type](l,C),L=function(k,P,O){return new(k.type==="polar"?Et:Se)({shape:gw(P,O,k),silent:!0,z2:0})}(h,a,A);return L.useStyle(v.getItemStyle()),h.type==="cartesian2d"&&L.setShape("r",_),x[C]=L,L}l.diff(u).add(function(C){var A=l.getItemModel(C),L=Uh[h.type](l,C,A);if(m&&M(C),l.hasValue(C)){var k=!1;f&&(k=lw[h.type](g,L));var P=uw[h.type](e,l,C,L,a,p,c.model,!1,y);cw(P,l,C,A,L,e,a,h.type==="polar"),w?P.attr({shape:L}):d?hw(d,p,P,L,C,a,!1,!1):$e(P,{shape:L},e,C),l.setItemGraphicEl(C,P),s.add(P),P.ignore=k}}).update(function(C,A){var L=l.getItemModel(C),k=Uh[h.type](l,C,L);if(m){var P=void 0;b.length===0?P=M(A):((P=b[A]).useStyle(v.getItemStyle()),h.type==="cartesian2d"&&P.setShape("r",_),x[C]=P);var O=Uh[h.type](l,C);Te(P,{shape:gw(a,O,h)},p,C)}var R=u.getItemGraphicEl(A);if(!l.hasValue(C))return s.remove(R),void(R=null);var N=!1;f&&(N=lw[h.type](g,k))&&s.remove(R),R||(R=uw[h.type](e,l,C,k,a,p,c.model,!!R,y)),S||cw(R,l,C,L,k,e,a,h.type==="polar"),w?R.attr({shape:k}):d?hw(d,p,R,k,C,a,!0,S):Te(R,{shape:k},e,C,null),l.setItemGraphicEl(C,R),R.ignore=N,s.add(R)}).remove(function(C){var A=u.getItemGraphicEl(C);A&&ws(A,e,C)}).execute();var I=this._backgroundGroup||(this._backgroundGroup=new oe);I.removeAll();for(var T=0;T<x.length;++T)I.add(x[T]);s.add(I),this._backgroundEls=x,this._data=l},t.prototype._renderLarge=function(e,n,r){this._clear(),dw(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,n){this._removeBackground(),dw(n,this.group,!0)},t.prototype._updateLargeClip=function(e){var n=e.get("clip",!0)?Hh(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._enableRealtimeSort=function(e,n,r){var o=this;if(n.count()){var a=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,e,r),this._isFirstFrame=!1;else{var s=function(u){var h=n.getItemGraphicEl(u);if(h){var c=h.shape;return(a.isHorizontal()?Math.abs(c.height):Math.abs(c.width))||0}return 0};this._onRendered=function(){o._updateSortWithinSameData(n,s,a,r)},r.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,n,r){var o=[];return e.each(e.mapDimension(n.dim),function(a,s){var l=r(s);l=l==null?NaN:l,o.push({dataIndex:s,mappedValue:l,ordinalNumber:a})}),o.sort(function(a,s){return s.mappedValue-a.mappedValue}),{ordinalNumbers:j(o,function(a){return a.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,n,r){for(var o=r.scale,a=e.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,u=o.getOrdinalMeta().categories.length;l<u;++l){var h=e.rawIndexOf(a,o.getRawOrdinalNumber(l)),c=h<0?Number.MIN_VALUE:n(e.indexOfRawIndex(h));if(c>s)return!0;s=c}return!1},t.prototype._isOrderDifferentInView=function(e,n){for(var r=n.scale,o=r.getExtent(),a=Math.max(0,o[0]),s=Math.min(o[1],r.getOrdinalMeta().categories.length-1);a<=s;++a)if(e.ordinalNumbers[a]!==r.getRawOrdinalNumber(a))return!0},t.prototype._updateSortWithinSameData=function(e,n,r,o){if(this._isOrderChangedWithinSameData(e,n,r)){var a=this._dataSort(e,r,n);this._isOrderDifferentInView(a,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a}))}},t.prototype._dispatchInitSort=function(e,n,r){var o=n.baseAxis,a=this._dataSort(e,o,function(s){return e.get(e.mapDimension(n.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a,animation:{duration:0}})},t.prototype.remove=function(e,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(e,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var n=this.group,r=this._data;e&&e.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){ws(o,e,se(o).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Re),lw={cartesian2d:function(t,e){var n=e.width<0?-1:1,r=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var o=t.x+t.width,a=t.y+t.height,s=sg(e.x,t.x),l=lg(e.x+e.width,o),u=sg(e.y,t.y),h=lg(e.y+e.height,a),c=l<s,p=h<u;return e.x=c&&s>o?l:s,e.y=p&&u>a?h:u,e.width=c?0:l-s,e.height=p?0:h-u,n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),c||p},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}var o=lg(e.r,t.r),a=sg(e.r0,t.r0);e.r=o,e.r0=a;var s=o-a<0;return n<0&&(r=e.r,e.r=e.r0,e.r0=r),s}},uw={cartesian2d:function(t,e,n,r,o,a,s,l,u){var h=new Se({shape:X({},r),z2:1});return h.__dataIndex=n,h.name="item",a&&(h.shape[o?"height":"width"]=0),h},polar:function(t,e,n,r,o,a,s,l,u){var h=r.startAngle<r.endAngle,c=new(!o&&u?ag:Et)({shape:J({clockwise:h},r),z2:1});if(c.name="item",a){var p=o?"r":"endAngle",d={};c.shape[p]=o?0:r.startAngle,d[p]=r[p],(l?Te:$e)(c,{shape:d},a)}return c}};function hw(i,t,e,n,r,o,a,s){var l,u;o?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(a?Te:$e)(e,{shape:l},t,r,null),(a?Te:$e)(e,{shape:u},t?i.baseAxis.model:null,r)}var Uh={cartesian2d:function(t,e,n){var r=t.getItemLayout(e),o=n?function(l,u){var h=l.get(["itemStyle","borderColor"]);if(!h||h==="none")return 0;var c=l.get(["itemStyle","borderWidth"])||0,p=isNaN(u.width)?Number.MAX_VALUE:Math.abs(u.width),d=isNaN(u.height)?Number.MAX_VALUE:Math.abs(u.height);return Math.min(c,p,d)}(n,r):0,a=r.width>0?1:-1,s=r.height>0?1:-1;return{x:r.x+a*o/2,y:r.y+s*o/2,width:r.width-a*o,height:r.height-s*o}},polar:function(t,e,n){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle}}};function cw(i,t,e,n,r,o,a,s){var l=t.getItemVisual(e,"style");s||i.setShape("r",n.get(["itemStyle","borderRadius"])||0),i.useStyle(l);var u=n.getShallow("cursor");if(u&&i.attr("cursor",u),!s){var h=a?r.height>0?"bottom":"top":r.width>0?"left":"right",c=St(n);Lt(i,c,{labelFetcher:o,labelDataIndex:e,defaultText:ga(o.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h}),l1(i.getTextContent(),c,o.getRawValue(e),function(d){return Xb(t,d)})}var p=n.getModel(["emphasis"]);Ge(i,p.get("focus"),p.get("blurScope")),Mt(i,n),function(d){return d.startAngle!=null&&d.endAngle!=null&&d.startAngle===d.endAngle}(r)&&(i.style.fill="none",i.style.stroke="none",D(i.states,function(d){d.style&&(d.style.fill=d.style.stroke="none")}))}var Gk=function(){},pw=function(i){function t(e){var n=i.call(this,e)||this;return n.type="largeBar",n}return z(t,i),t.prototype.getDefaultShape=function(){return new Gk},t.prototype.buildPath=function(e,n){for(var r=n.points,o=this.__startPoint,a=this.__baseDimIdx,s=0;s<r.length;s+=2)o[a]=r[s+a],e.moveTo(o[0],o[1]),e.lineTo(r[s],r[s+1])},t}(Me);function dw(i,t,e){var n=i.getData(),r=[],o=n.getLayout("valueAxisHorizontal")?1:0;r[1-o]=n.getLayout("valueAxisStart");var a=n.getLayout("largeDataIndices"),s=n.getLayout("barWidth"),l=i.getModel("backgroundStyle");if(i.get("showBackground",!0)){var u=n.getLayout("largeBackgroundPoints"),h=[];h[1-o]=n.getLayout("backgroundStart");var c=new pw({shape:{points:u},incremental:!!e,silent:!0,z2:0});c.__startPoint=h,c.__baseDimIdx=o,c.__largeDataIndices=a,c.__barWidth=s,function(d,f,g){var y=f.get("borderColor")||f.get("color"),m=f.getItemStyle();d.useStyle(m),d.style.fill=null,d.style.stroke=y,d.style.lineWidth=g.getLayout("barWidth")}(c,l,n),t.add(c)}var p=new pw({shape:{points:n.getLayout("largePoints")},incremental:!!e});p.__startPoint=r,p.__baseDimIdx=o,p.__largeDataIndices=a,p.__barWidth=s,t.add(p),function(d,f,g){var y=g.getVisual("style");d.useStyle(X({},y)),d.style.fill=null,d.style.stroke=y.fill,d.style.lineWidth=g.getLayout("barWidth")}(p,0,n),se(p).seriesIndex=i.seriesIndex,i.get("silent")||(p.on("mousedown",fw),p.on("mousemove",fw))}var fw=th(function(i){var t=function(e,n,r){var o=e.__baseDimIdx,a=1-o,s=e.shape.points,l=e.__largeDataIndices,u=Math.abs(e.__barWidth/2),h=e.__startPoint[a];Wh[0]=n,Wh[1]=r;for(var c=Wh[o],p=Wh[1-o],d=c-u,f=c+u,g=0,y=s.length/2;g<y;g++){var m=2*g,v=s[m+o],_=s[m+a];if(v>=d&&v<=f&&(h<=_?p>=h&&p<=_:p>=_&&p<=h))return l[g]}return-1}(this,i.offsetX,i.offsetY);se(this).dataIndex=t>=0?t:null},30,!1);function gw(i,t,e){if(vi(e,"cartesian2d")){var n=t,r=e.getArea();return{x:i?n.x:r.x,y:i?r.y:n.y,width:i?n.width:r.width,height:i?r.height:n.height}}var o=t;return{cx:(r=e.getArea()).cx,cy:r.cy,r0:i?r.r0:o.r0,r:i?r.r:o.r,startAngle:i?o.startAngle:0,endAngle:i?o.endAngle:2*Math.PI}}var Yh=2*Math.PI,yw=Math.PI/180;function Fk(i,t,e){t.eachSeriesByType(i,function(n){var r=n.getData(),o=r.mapDimension("value"),a=function(k,P){return ht(k.getBoxLayoutParams(),{width:P.getWidth(),height:P.getHeight()})}(n,e),s=n.get("center"),l=n.get("radius");W(l)||(l=[0,l]),W(s)||(s=[s,s]);var u=q(a.width,e.getWidth()),h=q(a.height,e.getHeight()),c=Math.min(u,h),p=q(s[0],u)+a.x,d=q(s[1],h)+a.y,f=q(l[0],c/2),g=q(l[1],c/2),y=-n.get("startAngle")*yw,m=n.get("minAngle")*yw,v=0;r.each(o,function(k){!isNaN(k)&&v++});var _=r.getSum(o),x=Math.PI/(_||v)*2,b=n.get("clockwise"),w=n.get("roseType"),S=n.get("stillShowZeroSum"),M=r.getDataExtent(o);M[0]=0;var I=Yh,T=0,C=y,A=b?1:-1;if(r.setLayout({viewRect:a,r:g}),r.each(o,function(k,P){var O;if(isNaN(k))r.setItemLayout(P,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:p,cy:d,r0:f,r:w?NaN:g});else{(O=w!=="area"?_===0&&S?x:k*x:Yh/v)<m?(O=m,I-=m):T+=k;var R=C+A*O;r.setItemLayout(P,{angle:O,startAngle:C,endAngle:R,clockwise:b,cx:p,cy:d,r0:f,r:w?Oe(k,M,[f,g]):g}),C=R}}),I<Yh&&v)if(I<=.001){var L=Yh/v;r.each(o,function(k,P){if(!isNaN(k)){var O=r.getItemLayout(P);O.angle=L,O.startAngle=y+A*P*L,O.endAngle=y+A*(P+1)*L}})}else x=I/T,C=y,r.each(o,function(k,P){if(!isNaN(k)){var O=r.getItemLayout(P),R=O.angle===m?m:k*x;O.startAngle=C,O.endAngle=C+A*R,C+=A*R}})})}function yl(i){return{seriesType:i,reset:function(e,n){var r=n.findComponents({mainType:"legend"});if(r&&r.length){var o=e.getData();o.filterSelf(function(a){for(var s=o.getName(a),l=0;l<r.length;l++)if(!r[l].isSelected(s))return!1;return!0})}}}}var Hk=Math.PI/180;function mw(i,t,e,n,r,o,a,s,l,u){if(!(i.length<2)){for(var h=i.length,c=0;c<h;c++)if(i[c].position==="outer"&&i[c].labelAlignTo==="labelLine"){var p=i[c].label.x-u;i[c].linePoints[1][0]+=p,i[c].label.x=u}q_(i,l,l+a)&&function(f){for(var g={list:[],maxY:0},y={list:[],maxY:0},m=0;m<f.length;m++)if(f[m].labelAlignTo==="none"){var v=f[m],_=v.label.y>e?y:g,x=Math.abs(v.label.y-e);if(x>_.maxY){var b=v.label.x-t-v.len2*r,w=n+v.len,S=Math.abs(b)<w?Math.sqrt(x*x/(1-b*b/w/w)):w;_.rB=S,_.maxY=x}_.list.push(v)}d(g),d(y)}(i)}function d(f){for(var g=f.rB,y=g*g,m=0;m<f.list.length;m++){var v=f.list[m],_=Math.abs(v.label.y-e),x=n+v.len,b=x*x,w=Math.sqrt((1-Math.abs(_*_/y))*b);v.label.x=t+(w+v.len2)*r}}}function vw(i){return i.position==="center"}function Wk(i){var t,e,n=i.getData(),r=[],o=!1,a=(i.get("minShowLabelAngle")||0)*Hk,s=n.getLayout("viewRect"),l=n.getLayout("r"),u=s.width,h=s.x,c=s.y,p=s.height;function d(b){b.ignore=!0}n.each(function(b){var w=n.getItemGraphicEl(b),S=w.shape,M=w.getTextContent(),I=w.getTextGuideLine(),T=n.getItemModel(b),C=T.getModel("label"),A=C.get("position")||T.get(["emphasis","label","position"]),L=C.get("distanceToLabelLine"),k=C.get("alignTo"),P=q(C.get("edgeDistance"),u),O=C.get("bleedMargin"),R=T.getModel("labelLine"),N=R.get("length");N=q(N,u);var E=R.get("length2");if(E=q(E,u),Math.abs(S.endAngle-S.startAngle)<a)return D(M.states,d),void(M.ignore=!0);if(function(Je){if(!Je.ignore)return!0;for(var at in Je.states)if(Je.states[at].ignore===!1)return!0;return!1}(M)){var B,G,F,H,V=(S.startAngle+S.endAngle)/2,U=Math.cos(V),Y=Math.sin(V);t=S.cx,e=S.cy;var Z,K=A==="inside"||A==="inner";if(A==="center")B=S.cx,G=S.cy,H="center";else{var $=(K?(S.r+S.r0)/2*U:S.r*U)+t,ne=(K?(S.r+S.r0)/2*Y:S.r*Y)+e;if(B=$+3*U,G=ne+3*Y,!K){var le=$+U*(N+l-S.r),fe=ne+Y*(N+l-S.r),ge=le+(U<0?-1:1)*E;B=k==="edge"?U<0?h+P:h+u-P:ge+(U<0?-L:L),G=fe,F=[[$,ne],[le,fe],[ge,fe]]}H=K?"center":k==="edge"?U>0?"right":"left":U>0?"left":"right"}var Fe=C.get("rotate");if(Z=typeof Fe=="number"?Fe*(Math.PI/180):Fe?U<0?-V+Math.PI:-V:0,o=!!Z,M.x=B,M.y=G,M.rotation=Z,M.setStyle({verticalAlign:"middle"}),K){M.setStyle({align:H});var Ze=M.states.select;Ze&&(Ze.x+=M.x,Ze.y+=M.y)}else{var Ve=M.getBoundingRect().clone();Ve.applyTransform(M.getComputedTransform());var He=(M.style.margin||0)+2.1;Ve.y-=He/2,Ve.height+=He,r.push({label:M,labelLine:I,position:A,len:N,len2:E,minTurnAngle:R.get("minTurnAngle"),maxSurfaceAngle:R.get("maxSurfaceAngle"),surfaceNormal:new xe(U,Y),linePoints:F,textAlign:H,labelDistance:L,labelAlignTo:k,edgeDistance:P,bleedMargin:O,rect:Ve})}w.setTextConfig({inside:K})}}),!o&&i.get("avoidLabelOverlap")&&function(b,w,S,M,I,T,C,A){for(var L=[],k=[],P=Number.MAX_VALUE,O=-Number.MAX_VALUE,R=0;R<b.length;R++){var N=b[R].label;vw(b[R])||(N.x<w?(P=Math.min(P,N.x),L.push(b[R])):(O=Math.max(O,N.x),k.push(b[R])))}for(mw(k,w,S,M,1,0,T,0,A,O),mw(L,w,S,M,-1,0,T,0,A,P),R=0;R<b.length;R++){var E=b[R];if(N=E.label,!vw(E)){var B=E.linePoints;if(B){var G=E.labelAlignTo==="edge",F=E.rect.width,H=void 0;(H=G?N.x<w?B[2][0]-E.labelDistance-C-E.edgeDistance:C+I-E.edgeDistance-B[2][0]-E.labelDistance:N.x<w?N.x-C-E.bleedMargin:C+I-N.x-E.bleedMargin)<E.rect.width&&(E.label.style.width=H,E.labelAlignTo==="edge"&&(F=H));var V=B[1][0]-B[2][0];G?N.x<w?B[2][0]=C+E.edgeDistance+F+E.labelDistance:B[2][0]=C+I-E.edgeDistance-F-E.labelDistance:(N.x<w?B[2][0]=N.x+E.labelDistance:B[2][0]=N.x-E.labelDistance,B[1][0]=B[2][0]+V),B[1][1]=B[2][1]=N.y}}}}(r,t,e,l,u,p,h,c);for(var f=0;f<r.length;f++){var g=r[f],y=g.label,m=g.labelLine,v=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:g.textAlign}),v&&(D(y.states,d),y.ignore=!0);var _=y.states.select;_&&(_.x+=y.x,_.y+=y.y)}if(m){var x=g.linePoints;v||!x?(D(m.states,d),m.ignore=!0):(X_(x,g.minTurnAngle),$D(x,g.surfaceNormal,g.maxSurfaceAngle),m.setShape({points:x}),y.__hostTarget.textGuideLineConfig={anchor:new xe(x[0][0],x[0][1])})}}}function ma(i,t){var e=i.get("borderRadius");return e==null?null:(W(e)||(e=[e,e]),{innerCornerRadius:hn(e[0],t.r0),cornerRadius:hn(e[1],t.r)})}var Uk=function(i){function t(e,n,r){var o=i.call(this)||this;o.z2=2;var a=new Ie;return o.setTextContent(a),o.updateData(e,n,r,!0),o}return z(t,i),t.prototype.updateData=function(e,n,r,o){var a=this,s=e.hostModel,l=e.getItemModel(n),u=l.getModel("emphasis"),h=e.getItemLayout(n),c=X(ma(l.getModel("itemStyle"),h)||{},h);if(isNaN(c.startAngle))a.setShape(c);else{o?(a.setShape(c),s.getShallow("animationType")==="scale"?(a.shape.r=h.r0,$e(a,{shape:{r:h.r}},s,n)):r!=null?(a.setShape({startAngle:r,endAngle:r}),$e(a,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},s,n)):(a.shape.endAngle=h.startAngle,Te(a,{shape:{endAngle:h.endAngle}},s,n))):Te(a,{shape:c},s,n),a.useStyle(e.getItemVisual(n,"style")),Mt(a,l);var p=(h.startAngle+h.endAngle)/2,d=s.get("selectedOffset"),f=Math.cos(p)*d,g=Math.sin(p)*d,y=l.getShallow("cursor");y&&a.attr("cursor",y),this._updateLabel(s,e,n),a.ensureState("emphasis").shape=qt({r:h.r+(u.get("scale")&&u.get("scaleSize")||0)},ma(u.getModel("itemStyle"),h)),X(a.ensureState("select"),{x:f,y:g,shape:ma(l.getModel(["select","itemStyle"]),h)}),X(a.ensureState("blur"),{shape:ma(l.getModel(["blur","itemStyle"]),h)});var m=a.getTextGuideLine(),v=a.getTextContent();m&&X(m.ensureState("select"),{x:f,y:g}),X(v.ensureState("select"),{x:f,y:g}),Ge(this,u.get("focus"),u.get("blurScope"))}},t.prototype._updateLabel=function(e,n,r){var o=this,a=n.getItemModel(r),s=a.getModel("labelLine"),l=n.getItemVisual(r,"style"),u=l&&l.fill,h=l&&l.opacity;Lt(o,St(a),{labelFetcher:n.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:h,defaultText:e.getFormattedLabel(r,"normal")||n.getName(r)});var c=o.getTextContent();o.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var p=e.get(["label","position"]);if(p!=="outside"&&p!=="outer")o.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new zt,this.setTextGuideLine(d)),rf(this,of(a),{stroke:u,opacity:Hn(s.get(["lineStyle","opacity"]),h,1)})}},t}(Et),Yk=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return z(t,i),t.prototype.init=function(){var e=new oe;this._sectorGroup=e},t.prototype.render=function(e,n,r,o){var a,s=e.getData(),l=this._data,u=this.group;if(!l&&s.count()>0){for(var h=s.getItemLayout(0),c=1;isNaN(h&&h.startAngle)&&c<s.count();++c)h=s.getItemLayout(c);h&&(a=h.startAngle)}s.diff(l).add(function(p){var d=new Uk(s,p,a);s.setItemGraphicEl(p,d),u.add(d)}).update(function(p,d){var f=l.getItemGraphicEl(d);f.updateData(s,p,a),f.off("click"),u.add(f),s.setItemGraphicEl(p,f)}).remove(function(p){ws(l.getItemGraphicEl(p),e,p)}).execute(),Wk(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,n){var r=n.getData().getItemLayout(0);if(r){var o=e[0]-r.cx,a=e[1]-r.cy,s=Math.sqrt(o*o+a*a);return s<=r.r&&s>=r.r0}},t.type="pie",t}(Re);function va(i,t,e){t=W(t)&&{coordDimensions:t}||X({},t);var n=i.getSource(),r=ha(n,t),o=new Pt(r,i);return o.initData(n,e),o}var ml=function(){function i(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return i.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},i.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},i.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},i.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},i}(),Xk=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.useColorPaletteOnData=!0,e}return z(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new ml(Q(this.getData,this),Q(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){i.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return va(this,{coordDimensions:["value"],encodeDefaulter:he(Ed,this)})},t.prototype.getDataParams=function(e){var n=this.getData(),r=i.prototype.getDataParams.call(this,e),o=[];return n.each(n.mapDimension("value"),function(a){o.push(a)}),r.percent=Cv(o,e,n.hostModel.get("percentPrecision")),r.$vars.push("percent"),r},t.prototype._defaultLabelLine=function(e){Sr(e,"labelLine",["show"]);var n=e.labelLine,r=e.emphasis.labelLine;n.show=n.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(ze),Zk=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return z(t,i),t.prototype.getInitialData=function(e,n){return ni(this.getSource(),this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e==null?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e==null?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,n,r){return r.point(n.getItemLayout(e))},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}}},t}(ze),jk=function(){},ug=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultShape=function(){return new jk},t.prototype.buildPath=function(e,n){var r=n.points,o=n.size,a=this.symbolProxy,s=a.shape,l=e.getContext?e.getContext():e;if(l&&o[0]<4)this._ctx=l;else{this._ctx=null;for(var u=0;u<r.length;){var h=r[u++],c=r[u++];isNaN(h)||isNaN(c)||this.softClipShape&&!this.softClipShape.contain(h,c)||(s.x=h-o[0]/2,s.y=c-o[1]/2,s.width=o[0],s.height=o[1],a.buildPath(e,s,!0))}}},t.prototype.afterBrush=function(){var e=this.shape,n=e.points,r=e.size,o=this._ctx;if(o)for(var a=0;a<n.length;){var s=n[a++],l=n[a++];isNaN(s)||isNaN(l)||this.softClipShape&&!this.softClipShape.contain(s,l)||o.fillRect(s-r[0]/2,l-r[1]/2,r[0],r[1])}},t.prototype.findDataIndex=function(e,n){for(var r=this.shape,o=r.points,a=r.size,s=Math.max(a[0],4),l=Math.max(a[1],4),u=o.length/2-1;u>=0;u--){var h=2*u,c=o[h]-s/2,p=o[h+1]-l/2;if(e>=c&&n>=p&&e<=c+s&&n<=p+l)return u}return-1},t}(Me),qk=function(){function i(){this.group=new oe}return i.prototype.isPersistent=function(){return!this._incremental},i.prototype.updateData=function(t,e){this.group.removeAll();var n=new ug({rectHover:!0,cursor:"default"});n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,!1,e),this.group.add(n),this._incremental=null},i.prototype.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var r=2*(n.endIndex-n.startIndex),o=4*n.startIndex*2;e=new Float32Array(e.buffer,o,r)}n.setShape("points",e)})}},i.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new xs({silent:!0})),this.group.add(this._incremental)):this._incremental=null},i.prototype.incrementalUpdate=function(t,e,n){var r;this._incremental?(r=new ug,this._incremental.addDisplayable(r,!0)):((r=new ug({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(r)),r.setShape({points:e.getLayout("points")}),this._setCommon(r,e,!!this._incremental,n)},i.prototype._setCommon=function(t,e,n,r){var o=e.hostModel;r=r||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=r.clipShape||null,t.symbolProxy=ot(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<4;t.useStyle(o.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("style"),u=l&&l.fill;if(u&&t.setColor(u),!n){var h=se(t);h.seriesIndex=o.seriesIndex,t.on("mousemove",function(c){h.dataIndex=null;var p=t.findDataIndex(c.offsetX,c.offsetY);p>=0&&(h.dataIndex=p+(t.startIndex||0))})}},i.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},i.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},i}(),Kk=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){var o=e.getData();this._updateSymbolDraw(o,e).updateData(o,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,r){var o=e.getData();this._updateSymbolDraw(o,e).incrementalPrepareUpdate(o),this._finished=!1},t.prototype.incrementalRender=function(e,n,r){this._symbolDraw.incrementalUpdate(e,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=e.end===n.getData().count()},t.prototype.updateTransform=function(e,n,r){var o=e.getData();if(this.group.dirty(),!this._finished||o.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var a=fl("").reset(e,n,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,r=n&&n.getArea&&n.getArea();return e.get("clip",!0)?r:null},t.prototype._updateSymbolDraw=function(e,n){var r=this._symbolDraw,o=n.pipelineContext.large;return r&&o===this._isLargeDraw||(r&&r.remove(),r=this._symbolDraw=o?new qk:new dl,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(Re),$k=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(ve),hg=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",lt).models[0]},t.type="cartesian2dAxis",t}(ve);We(hg,da);var _w={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Jk=de({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},_w),cg=de({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},_w),xw={category:Jk,value:cg,time:de({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},cg),log:J({scale:!0,logBase:10},cg)},Qk={value:1,category:1,time:1,log:1};function _a(i,t,e,n){D(Qk,function(r,o){var a=de(de({},xw[o],!0),n,!0),s=function(l){function u(){for(var h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];var p=l.apply(this,h)||this;return p.type=t+"Axis."+o,p}return z(u,l),u.prototype.mergeDefaultAndTheme=function(h,c){var p=ks(this),d=p?qo(h):{};de(h,c.getTheme().get(o+"Axis")),de(h,this.getDefaultOption()),h.type=bw(h),p&&Yi(h,d,p)},u.prototype.optionUpdated=function(){this.option.type==="category"&&(this.__ordinalMeta=Wf.createByAxisModel(this))},u.prototype.getCategories=function(h){var c=this.option;if(c.type==="category")return h?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+o,u.defaultOption=a,u}(e);i.registerComponentModel(s)}),i.registerSubTypeDefaulter(t+"Axis",bw)}function bw(i){return i.type||(i.data?"category":"value")}var eP=function(){function i(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return i.prototype.getAxis=function(t){return this._axes[t]},i.prototype.getAxes=function(){return j(this._dimList,function(t){return this._axes[t]},this)},i.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Ke(this.getAxes(),function(e){return e.scale.type===t})},i.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},i}(),pg=["x","y"];function ww(i){return i.type==="interval"||i.type==="time"}var tP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=pg,e}return z(t,i),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,n=this.getAxis("y").scale;if(ww(e)&&ww(n)){var r=e.getExtent(),o=n.getExtent(),a=this.dataToPoint([r[0],o[0]]),s=this.dataToPoint([r[1],o[1]]),l=r[1]-r[0],u=o[1]-o[0];if(l&&u){var h=(s[0]-a[0])/l,c=(s[1]-a[1])/u,p=a[0]-r[0]*h,d=a[1]-o[0]*c,f=this._transform=[h,0,0,c,p,d];this._invTransform=fr([],f)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var n=this.getAxis("x"),r=this.getAxis("y");return n.contain(n.toLocalCoord(e[0]))&&r.contain(r.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.dataToPoint=function(e,n,r){r=r||[];var o=e[0],a=e[1];if(this._transform&&o!=null&&isFinite(o)&&a!=null&&isFinite(a))return mt(r,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(o)),r[1]=l.toGlobalCoord(l.dataToCoord(a)),r},t.prototype.clampData=function(e,n){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),s=o.getExtent(),l=r.parse(e[0]),u=o.parse(e[1]);return(n=n||[])[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),n},t.prototype.pointToData=function(e,n){if(n=n||[],this._invTransform)return mt(n,e,this._invTransform);var r=this.getAxis("x"),o=this.getAxis("y");return n[0]=r.coordToData(r.toLocalCoord(e[0])),n[1]=o.coordToData(o.toLocalCoord(e[1])),n},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),r=Math.min(e[0],e[1]),o=Math.min(n[0],n[1]),a=Math.max(e[0],e[1])-r,s=Math.max(n[0],n[1])-o;return new me(r,o,a,s)},t}(eP),nP=function(i){function t(e,n,r,o,a){var s=i.call(this,e,n,r)||this;return s.index=0,s.type=o||"value",s.position=a||"bottom",s}return z(t,i),t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),e&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(e,n){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(bn);function dg(i,t,e){e=e||{};var n=i.coordinateSystem,r=t.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,u=r.dim,h=n.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],p={left:0,right:1,top:0,bottom:1,onZero:2},d=t.get("offset")||0,f=u==="x"?[c[2]-d,c[3]+d]:[c[0]-d,c[1]+d];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));f[p.onZero]=Math.max(Math.min(g,f[1]),f[0])}o.position=[u==="y"?f[p[l]]:c[0],u==="x"?f[p[l]]:c[3]],o.rotation=Math.PI/2*(u==="x"?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?f[p[s]]-f[p.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),yt(e.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var y=t.get(["axisLabel","rotate"]);return o.labelRotate=l==="top"?-y:y,o.z2=1,o}function Sw(i){return i.get("coordinateSystem")==="cartesian2d"}function Mw(i){var t={xAxisModel:null,yAxisModel:null};return D(t,function(e,n){var r=n.replace(/Model$/,""),o=i.getReferringComponents(r,lt).models[0];t[n]=o}),t}var iP=function(){function i(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=pg,this._initCartesian(t,e,n),this.model=t}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),D(n.x,function(o){Ji(o.scale,o.model)}),D(n.y,function(o){Ji(o.scale,o.model)});var r={};D(n.x,function(o){Iw(n,"y",o,r)}),D(n.y,function(o){Iw(n,"x",o,r)}),this.resize(this.model,e)},i.prototype.resize=function(t,e,n){var r=t.getBoxLayoutParams(),o=!n&&t.get("containLabel"),a=ht(r,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var s=this._axesList;function l(){D(s,function(u){var h=u.isHorizontal(),c=h?[0,a.width]:[0,a.height],p=u.inverse?1:0;u.setExtent(c[p],c[1-p]),function(d,f){var g=d.getExtent(),y=g[0]+g[1];d.toGlobalCoord=d.dim==="x"?function(m){return m+f}:function(m){return y-m+f},d.toLocalCoord=d.dim==="x"?function(m){return m-f}:function(m){return y-m+f}}(u,h?a.x:a.y)})}l(),o&&(D(s,function(u){if(!u.model.get(["axisLabel","inside"])){var h=function(d){var f=d.model,g=d.scale;if(f.get(["axisLabel","show"])&&!g.isBlank()){var y,m,v=g.getExtent();m=g instanceof Lh?g.count():(y=g.getTicks()).length;var _,x=d.getLabelModel(),b=al(d),w=1;m>40&&(w=Math.ceil(m/40));for(var S=0;S<m;S+=w){var M=b(y?y[S]:{value:v[0]+S},S),I=ok(x.getTextRect(M),x.get("rotate")||0);_?_.union(I):_=I}return _}}(u);if(h){var c=u.isHorizontal()?"height":"width",p=u.model.get(["axisLabel","margin"]);a[c]-=h[c]+p,u.position==="top"?a.y+=h.height+p:u.position==="left"&&(a.x+=h.width+p)}}}),l()),D(this._coordsList,function(u){u.calcAffineTransform()})},i.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(n!=null)return n[e||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var n="x"+t+"y"+e;return this._coordsMap[n]}ae(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===t||o[r].getAxis("y").index===e)return o[r]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},i.prototype.convertFromPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},i.prototype._findConvertTarget=function(t){var e,n,r=t.seriesModel,o=t.xAxisModel||r&&r.getReferringComponents("xAxis",lt).models[0],a=t.yAxisModel||r&&r.getReferringComponents("yAxis",lt).models[0],s=t.gridModel,l=this._coordsList;return r?ie(l,e=r.coordinateSystem)<0&&(e=null):o&&a?e=this.getCartesian(o.componentIndex,a.componentIndex):o?n=this.getAxis("x",o.componentIndex):a?n=this.getAxis("y",a.componentIndex):s&&s.coordinateSystem===this&&(e=this._coordsList[0]),{cartesian:e,axis:n}},i.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},i.prototype._initCartesian=function(t,e,n){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function u(h){return function(c,p){if(fg(c,t)){var d=c.get("position");h==="x"?d!=="top"&&d!=="bottom"&&(d=a.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=a.left?"right":"left"),a[d]=!0;var f=new nP(h,ol(c),[0,0],c.get("type"),d),g=f.type==="category";f.onBand=g&&c.get("boundaryGap"),f.inverse=c.get("inverse"),c.axis=f,f.model=c,f.grid=o,f.index=p,o._axesList.push(f),s[h][p]=f,l[h]++}}}this._axesMap=s,D(s.x,function(h,c){D(s.y,function(p,d){var f="x"+c+"y"+d,g=new tP(f);g.master=r,g.model=t,r._coordsMap[f]=g,r._coordsList.push(g),g.addAxis(h),g.addAxis(p)})})},i.prototype._updateScale=function(t,e){function n(r,o){D(Rh(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}D(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),t.eachSeries(function(r){if(Sw(r)){var o=Mw(r),a=o.xAxisModel,s=o.yAxisModel;if(!fg(a,e)||!fg(s,e))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),u=r.getData(),h=l.getAxis("x"),c=l.getAxis("y");u.type==="list"&&(n(u,h),n(u,c))}},this)},i.prototype.getTooltipAxes=function(t){var e=[],n=[];return D(this.getCartesians(),function(r){var o=t!=null&&t!=="auto"?r.getAxis(t):r.getBaseAxis(),a=r.getOtherAxis(o);ie(e,o)<0&&e.push(o),ie(n,a)<0&&n.push(a)}),{baseAxes:e,otherAxes:n}},i.create=function(t,e){var n=[];return t.eachComponent("grid",function(r,o){var a=new i(r,t,e);a.name="grid_"+o,a.resize(r,e,!0),r.coordinateSystem=a,n.push(a)}),t.eachSeries(function(r){if(Sw(r)){var o=Mw(r),a=o.xAxisModel,s=o.yAxisModel,l=a.getCoordSysModel(),u=l.coordinateSystem;r.coordinateSystem=u.getCartesian(a.componentIndex,s.componentIndex)}}),n},i.dimensions=pg,i}();function fg(i,t){return i.getCoordSysModel()===t}function Iw(i,t,e,n){e.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=i[t],a=e.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(l!=null)Tw(o[l])&&(r=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&Tw(o[u])&&!n[h(o[u])]){r=o[u];break}r&&(n[h(r)]=!0)}function h(c){return c.dim+"_"+c.index}}function Tw(i){return i&&i.type!=="category"&&i.type!=="time"&&function(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}(i)}var ir=Math.PI,Gt=function(){function i(t,e){this.group=new oe,this.opt=e,this.axisModel=t,J(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new oe({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return i.prototype.hasBuilder=function(t){return!!Cw[t]},i.prototype.add=function(t){Cw[t](this.opt,this.axisModel,this.group,this._transformGroup)},i.prototype.getGroup=function(){return this.group},i.innerTextLayout=function(t,e,n){var r,o,a=Ip(e-t);return is(a)?(o=n>0?"top":"bottom",r="center"):is(a-ir)?(o=n>0?"bottom":"top",r="center"):(o="middle",r=a>0&&a<ir?n>0?"right":"left":n>0?"left":"right"),{rotation:a,textAlign:r,textVerticalAlign:o}},i.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},i.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},i}(),Cw={axisLine:function(t,e,n,r){var o=e.get(["axisLine","show"]);if(o==="auto"&&t.handleAutoShown&&(o=t.handleAutoShown("axisLine")),o){var a=e.axis.getExtent(),s=r.transform,l=[a[0],0],u=[a[1],0];s&&(mt(l,l,s),mt(u,u,s));var h=X({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new ft({subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:h,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});c.anid="line",n.add(c);var p=e.get(["axisLine","symbol"]),d=e.get(["axisLine","symbolSize"]),f=e.get(["axisLine","symbolOffset"])||0;if(typeof f=="number"&&(f=[f,f]),p!=null){typeof p=="string"&&(p=[p,p]),typeof d!="string"&&typeof d!="number"||(d=[d,d]);var g=d[0],y=d[1];D([{rotate:t.rotation+Math.PI/2,offset:f[0],r:0},{rotate:t.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]))}],function(m,v){if(p[v]!=="none"&&p[v]!=null){var _=ot(p[v],-g/2,-y/2,g,y,h.stroke,!0),x=m.r+m.offset;_.attr({rotation:m.rotate,x:l[0]+x*Math.cos(t.rotation),y:l[1]-x*Math.sin(t.rotation),silent:!0,z2:11}),n.add(_)}})}}},axisTickLabel:function(t,e,n,r){var o=function(s,l,u,h){var c=u.axis,p=u.getModel("axisTick"),d=p.get("show");if(d==="auto"&&h.handleAutoShown&&(d=h.handleAutoShown("axisTick")),!(!d||c.scale.isBlank())){for(var f=p.getModel("lineStyle"),g=h.tickDirection*p.get("length"),y=Lw(c.getTicksCoords(),l.transform,g,J(f.getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])}),"ticks"),m=0;m<y.length;m++)s.add(y[m]);return y}}(n,r,e,t),a=function(s,l,u,h){var c=u.axis;if(!(!yt(h.axisLabelShow,u.get(["axisLabel","show"]))||c.scale.isBlank())){var p=u.getModel("axisLabel"),d=p.get("margin"),f=c.getViewLabels(),g=(yt(h.labelRotate,p.get("rotate"))||0)*ir/180,y=Gt.innerTextLayout(h.rotation,g,h.labelDirection),m=u.getCategories&&u.getCategories(!0),v=[],_=Gt.isLabelSilent(u),x=u.get("triggerEvent");return D(f,function(b,w){var S=c.scale.type==="ordinal"?c.scale.getRawOrdinalNumber(b.tickValue):b.tickValue,M=b.formattedLabel,I=b.rawLabel,T=p;if(m&&m[S]){var C=m[S];ae(C)&&C.textStyle&&(T=new Ae(C.textStyle,p,u.ecModel))}var A=T.getTextColor()||u.get(["axisLine","lineStyle","color"]),L=c.dataToCoord(S),k=new Ie({x:L,y:h.labelOffset+h.labelDirection*d,rotation:y.rotation,silent:_,z2:10,style:nt(T,{text:M,align:T.getShallow("align",!0)||y.textAlign,verticalAlign:T.getShallow("verticalAlign",!0)||T.getShallow("baseline",!0)||y.textVerticalAlign,fill:typeof A=="function"?A(c.type==="category"?I:c.type==="value"?S+"":S,w):A})});if(k.anid="label_"+S,x){var P=Gt.makeAxisEventDataBase(u);P.targetType="axisLabel",P.value=I,se(k).eventData=P}l.add(k),k.updateTransform(),v.push(k),s.add(k),k.decomposeTransform()}),v}}(n,r,e,t);(function(s,l,u){if(!vb(s.axis)){var h=s.get(["axisLabel","showMinLabel"]),c=s.get(["axisLabel","showMaxLabel"]);u=u||[];var p=(l=l||[])[0],d=l[1],f=l[l.length-1],g=l[l.length-2],y=u[0],m=u[1],v=u[u.length-1],_=u[u.length-2];h===!1?(wn(p),wn(y)):Aw(p,d)&&(h?(wn(d),wn(m)):(wn(p),wn(y))),c===!1?(wn(f),wn(v)):Aw(g,f)&&(c?(wn(g),wn(_)):(wn(f),wn(v)))}})(e,a,o),function(s,l,u,h){var c=u.axis,p=u.getModel("minorTick");if(!(!p.get("show")||c.scale.isBlank())){var d=c.getMinorTicksCoords();if(!!d.length)for(var f=p.getModel("lineStyle"),g=h*p.get("length"),y=J(f.getLineStyle(),J(u.getModel("axisTick").getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])})),m=0;m<d.length;m++)for(var v=Lw(d[m],l.transform,g,y,"minorticks_"+m),_=0;_<v.length;_++)s.add(v[_])}}(n,r,e,t.tickDirection)},axisName:function(t,e,n,r){var o=yt(t.axisName,e.get("name"));if(o){var a,s,l=e.get("nameLocation"),u=t.nameDirection,h=e.getModel("nameTextStyle"),c=e.get("nameGap")||0,p=e.axis.getExtent(),d=p[0]>p[1]?-1:1,f=[l==="start"?p[0]-d*c:l==="end"?p[1]+d*c:(p[0]+p[1])/2,Dw(l)?t.labelOffset+u*c:0],g=e.get("nameRotate");g!=null&&(g=g*ir/180),Dw(l)?a=Gt.innerTextLayout(t.rotation,g!=null?g:t.rotation,u):(a=function(w,S,M,I){var T,C,A=Ip(M-w),L=I[0]>I[1],k=S==="start"&&!L||S!=="start"&&L;return is(A-ir/2)?(C=k?"bottom":"top",T="center"):is(A-1.5*ir)?(C=k?"top":"bottom",T="center"):(C="middle",T=A<1.5*ir&&A>ir/2?k?"left":"right":k?"right":"left"),{rotation:A,textAlign:T,textVerticalAlign:C}}(t.rotation,l,g||0,p),(s=t.axisNameAvailableWidth)!=null&&(s=Math.abs(s/Math.sin(a.rotation)),!isFinite(s)&&(s=null)));var y=h.getFont(),m=e.get("nameTruncate",!0)||{},v=m.ellipsis,_=yt(t.nameTruncateMaxWidth,m.maxWidth,s),x=new Ie({x:f[0],y:f[1],rotation:a.rotation,silent:Gt.isLabelSilent(e),style:nt(h,{text:o,font:y,overflow:"truncate",width:_,ellipsis:v,fill:h.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:h.get("align")||a.textAlign,verticalAlign:h.get("verticalAlign")||a.textVerticalAlign}),z2:1});if(Yo({el:x,componentModel:e,itemName:o}),x.__fullText=o,x.anid="name",e.get("triggerEvent")){var b=Gt.makeAxisEventDataBase(e);b.targetType="axisName",b.name=o,se(x).eventData=b}r.add(x),x.updateTransform(),n.add(x),x.decomposeTransform()}}};function wn(i){i&&(i.ignore=!0)}function Aw(i,t){var e=i&&i.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(e&&n){var r=dr([]);return Pi(r,r,-i.rotation),e.applyTransform(ki([],r,i.getLocalTransform())),n.applyTransform(ki([],r,t.getLocalTransform())),e.intersect(n)}}function Dw(i){return i==="middle"||i==="center"}function Lw(i,t,e,n,r){for(var o=[],a=[],s=[],l=0;l<i.length;l++){var u=i[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=e,t&&(mt(a,a,t),mt(s,s,t));var h=new ft({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});h.anid=r+"_"+i[l].tickValue,o.push(h)}return o}function rP(i,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(n,r,o){var a=r.getComponent("tooltip"),s=r.getComponent("axisPointer"),l=s.get("link",!0)||[],u=[];D(o.getCoordinateSystems(),function(h){if(h.axisPointerEnabled){var c=vl(h.model),p=n.coordSysAxesInfo[c]={};n.coordSysMap[c]=h;var d=h.model.getModel("tooltip",a);if(D(h.getAxes(),he(m,!1,null)),h.getTooltipAxes&&a&&d.get("show")){var f=d.get("trigger")==="axis",g=d.get(["axisPointer","type"])==="cross",y=h.getTooltipAxes(d.get(["axisPointer","axis"]));(f||g)&&D(y.baseAxes,he(m,!g||"cross",f)),g&&D(y.otherAxes,he(m,"cross",!1))}}function m(v,_,x){var b=x.model.getModel("axisPointer",s),w=b.get("show");if(w&&(w!=="auto"||v||mg(b))){_==null&&(_=b.get("triggerTooltip"));var S=(b=v?function(L,k,P,O,R,N){var E=k.getModel("axisPointer"),B={};D(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(V){B[V]=te(E.get(V))}),B.snap=L.type!=="category"&&!!N,E.get("type")==="cross"&&(B.type="line");var G=B.label||(B.label={});if(G.show==null&&(G.show=!1),R==="cross"){var F=E.get(["label","show"]);if(G.show=F==null||F,!N){var H=B.lineStyle=E.get("crossStyle");H&&J(G,H.textStyle)}}return L.model.getModel("axisPointer",new Ae(B,P,O))}(x,d,s,r,v,_):b).get("snap"),M=vl(x.model),I=_||S||x.type==="category",T=n.axesInfo[M]={key:M,axis:x,coordSys:h,axisPointerModel:b,triggerTooltip:_,involveSeries:I,snap:S,useHandle:mg(b),seriesModels:[],linkGroup:null};p[M]=T,n.seriesInvolved=n.seriesInvolved||I;var C=function(L,k){for(var P=k.model,O=k.dim,R=0;R<L.length;R++){var N=L[R]||{};if(gg(N[O+"AxisId"],P.id)||gg(N[O+"AxisIndex"],P.componentIndex)||gg(N[O+"AxisName"],P.name))return R}}(l,x);if(C!=null){var A=u[C]||(u[C]={axesInfo:{}});A.axesInfo[M]=T,A.mapper=l[C].mapper,T.linkGroup=A}}}})}(e,i,t),e.seriesInvolved&&function(n,r){r.eachSeries(function(o){var a=o.coordinateSystem,s=o.get(["tooltip","trigger"],!0),l=o.get(["tooltip","show"],!0);a&&s!=="none"&&s!==!1&&s!=="item"&&l!==!1&&o.get(["axisPointer","show"],!0)!==!1&&D(n.coordSysAxesInfo[vl(a.model)],function(u){var h=u.axis;a.getAxis(h.dim)===h&&(u.seriesModels.push(o),u.seriesDataCount==null&&(u.seriesDataCount=0),u.seriesDataCount+=o.getData().count())})})}(e,i),e}function gg(i,t){return i==="all"||W(i)&&ie(i,t)>=0||i===t}function oP(i){var t=yg(i);if(t){var e=t.axisPointerModel,n=t.axis.scale,r=e.option,o=e.get("status"),a=e.get("value");a!=null&&(a=n.parse(a));var s=mg(e);o==null&&(r.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(a==null||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}function yg(i){var t=(i.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[vl(i)]}function mg(i){return!!i.get(["handle","show"])}function vl(i){return i.type+"||"+i.id}var kw={},ro=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r,o){this.axisPointerClass&&oP(e),i.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},t.prototype.updateAxisPointer=function(e,n,r,o){this._doUpdateAxisPointerClass(e,r,!1)},t.prototype.remove=function(e,n){var r=this._axisPointer;r&&r.remove(n)},t.prototype.dispose=function(e,n){this._disposeAxisPointer(n),i.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,r){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var a=function(s){var l=yg(s);return l&&l.axisPointerModel}(e);a?(this._axisPointer||(this._axisPointer=new o)).render(e,a,n,r):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,n){kw[e]=n},t.getAxisPointerClass=function(e){return e&&kw[e]},t.type="axis",t}(Ye),vg=Ne();function Pw(i,t,e,n){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=n.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var h=s.length,c=vg(i).splitAreaColors,p=re(),d=0;if(c)for(var f=0;f<u.length;f++){var g=c.get(u[f].tickValue);if(g!=null){d=(g+(h-1)*f)%h;break}}var y=r.toGlobalCoord(u[0].coord),m=a.getAreaStyle();for(s=W(s)?s:[s],f=1;f<u.length;f++){var v=r.toGlobalCoord(u[f].coord),_=void 0,x=void 0,b=void 0,w=void 0;r.isHorizontal()?(_=y,x=l.y,b=v-_,w=l.height,y=_+b):(_=l.x,x=y,b=l.width,y=x+(w=v-x));var S=u[f-1].tickValue;S!=null&&p.set(S,d),t.add(new Se({anid:S!=null?"area_"+S:null,shape:{x:_,y:x,width:b,height:w},style:J({fill:s[d]},m),autoBatch:!0,silent:!0})),d=(d+1)%h}vg(i).splitAreaColors=p}}}function Ow(i){vg(i).splitAreaColors=null}var aP=["axisLine","axisTickLabel","axisName"],sP=["splitArea","splitLine","minorSplitLine"],Rw=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return z(t,i),t.prototype.render=function(e,n,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new oe,this.group.add(this._axisGroup),e.get("show")){var s=e.getCoordSysModel(),l=dg(s,e),u=new Gt(e,X({handleAutoShown:function(c){for(var p=s.coordinateSystem.getCartesians(),d=0;d<p.length;d++){var f=p[d].getOtherAxis(e.axis).type;if(f==="value"||f==="log")return!0}return!1}},l));D(aP,u.add,u),this._axisGroup.add(u.getGroup()),D(sP,function(h){e.get([h,"show"])&&lP[h](this,this._axisGroup,e,s)},this),Ss(a,this._axisGroup,e),i.prototype.render.call(this,e,n,r,o)}},t.prototype.remove=function(){Ow(this)},t.type="cartesianAxis",t}(ro),lP={splitLine:function(t,e,n,r){var o=n.axis;if(!o.scale.isBlank()){var a=n.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color");l=W(l)?l:[l];for(var u=r.coordinateSystem.getRect(),h=o.isHorizontal(),c=0,p=o.getTicksCoords({tickModel:a}),d=[],f=[],g=s.getLineStyle(),y=0;y<p.length;y++){var m=o.toGlobalCoord(p[y].coord);h?(d[0]=m,d[1]=u.y,f[0]=m,f[1]=u.y+u.height):(d[0]=u.x,d[1]=m,f[0]=u.x+u.width,f[1]=m);var v=c++%l.length,_=p[y].tickValue;e.add(new ft({anid:_!=null?"line_"+p[y].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:J({stroke:l[v]},g),silent:!0}))}}},minorSplitLine:function(t,e,n,r){var o=n.axis,a=n.getModel("minorSplitLine").getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=o.isHorizontal(),u=o.getMinorTicksCoords();if(u.length)for(var h=[],c=[],p=a.getLineStyle(),d=0;d<u.length;d++)for(var f=0;f<u[d].length;f++){var g=o.toGlobalCoord(u[d][f].coord);l?(h[0]=g,h[1]=s.y,c[0]=g,c[1]=s.y+s.height):(h[0]=s.x,h[1]=g,c[0]=s.x+s.width,c[1]=g),e.add(new ft({anid:"minor_line_"+u[d][f].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:p,silent:!0}))}},splitArea:function(t,e,n,r){Pw(t,e,n,r)}},Nw=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="xAxis",t}(Rw),uP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=Nw.type,e}return z(t,i),t.type="yAxis",t}(Rw),hP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="grid",e}return z(t,i),t.prototype.render=function(e,n){this.group.removeAll(),e.get("show")&&this.group.add(new Se({shape:e.coordinateSystem.getRect(),style:J({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Ye),Ew={offset:0};function zw(i){i.registerComponentView(hP),i.registerComponentModel($k),i.registerCoordinateSystem("cartesian2d",iP),_a(i,"x",hg,Ew),_a(i,"y",hg,Ew),i.registerComponentView(Nw),i.registerComponentView(uP),i.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function cP(i){i.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],r=t.coordinateSystem;if(r){var o=r.getIndicatorAxes();D(o,function(a,s){e.each(e.mapDimension(o[s].dim),function(l,u){n[u]=n[u]||[];var h=r.dataToPoint(l,s);n[u][s]=Bw(h)?h:Vw(r)})}),e.each(function(a){var s=Vm(n[a],function(l){return Bw(l)})||Vw(r);n[a].push(s.slice()),e.setItemLayout(a,n[a])})}})}function Bw(i){return!isNaN(i[0])&&!isNaN(i[1])}function Vw(i){return[i.cx,i.cy]}function pP(i){var t=i.polar;if(t){W(t)||(t=[t]);var e=[];D(t,function(n,r){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),i.radar=i.radar||[],W(i.radar)||(i.radar=[i.radar]),i.radar.push(n)):e.push(n)}),i.polar=e}D(i.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var dP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){var o=e.coordinateSystem,a=this.group,s=e.getData(),l=this._data;function u(p,d){var f=p.getItemVisual(d,"symbol")||"circle";if(f!=="none"){var g=function(v){return W(v)||(v=[+v,+v]),v}(p.getItemVisual(d,"symbolSize")),y=ot(f,-1,-1,2,2),m=p.getItemVisual(d,"symbolRotate")||0;return y.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:m*Math.PI/180||0}),y}}function h(p,d,f,g,y,m){f.removeAll();for(var v=0;v<d.length-1;v++){var _=u(g,y);_&&(_.__dimIdx=v,p[v]?(_.setPosition(p[v]),Is[m?"initProps":"updateProps"](_,{x:d[v][0],y:d[v][1]},e,y)):_.setPosition(d[v]),f.add(_))}}function c(p){return j(p,function(d){return[o.cx,o.cy]})}s.diff(l).add(function(p){var d=s.getItemLayout(p);if(d){var f=new Dt,g=new zt,y={shape:{points:d}};f.shape.points=c(d),g.shape.points=c(d),$e(f,y,e,p),$e(g,y,e,p);var m=new oe,v=new oe;m.add(g),m.add(f),m.add(v),h(g.shape.points,d,v,s,p,!0),s.setItemGraphicEl(p,m)}}).update(function(p,d){var f=l.getItemGraphicEl(d),g=f.childAt(0),y=f.childAt(1),m=f.childAt(2),v={shape:{points:s.getItemLayout(p)}};v.shape.points&&(h(g.shape.points,v.shape.points,m,s,p,!1),Te(g,v,e),Te(y,v,e),s.setItemGraphicEl(p,f))}).remove(function(p){a.remove(l.getItemGraphicEl(p))}).execute(),s.eachItemGraphicEl(function(p,d){var f=s.getItemModel(d),g=p.childAt(0),y=p.childAt(1),m=p.childAt(2),v=s.getItemVisual(d,"style"),_=v.fill;a.add(p),g.useStyle(J(f.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:_})),Mt(g,f,"lineStyle"),Mt(y,f,"areaStyle");var x=f.getModel("areaStyle"),b=x.isEmpty()&&x.parentModel.isEmpty();y.ignore=b,D(["emphasis","select","blur"],function(M){var I=f.getModel([M,"areaStyle"]),T=I.isEmpty()&&I.parentModel.isEmpty();y.ensureState(M).ignore=T&&b}),y.useStyle(J(x.getAreaStyle(),{fill:_,opacity:.7,decal:v.decal}));var w=f.getModel("emphasis"),S=w.getModel("itemStyle").getItemStyle();m.eachChild(function(M){if(M instanceof ut){var I=M.style;M.useStyle(X({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},v))}else M.useStyle(v),M.setColor(_);M.ensureState("emphasis").style=te(S);var T=s.get(s.dimensions[M.__dimIdx],d);(T==null||isNaN(T))&&(T=""),Lt(M,St(f),{labelFetcher:s.hostModel,labelDataIndex:d,labelDimIndex:M.__dimIdx,defaultText:T,inheritColor:_,defaultOpacity:v.opacity})}),Ge(p,w.get("focus"),w.get("blurScope"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(Re),fP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.useColorPaletteOnData=!0,e.hasSymbolVisual=!0,e}return z(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new ml(Q(this.getData,this),Q(this.getRawData,this))},t.prototype.getInitialData=function(e,n){return va(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,n,r){var o=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),s=this.getData().getName(e),l=s===""?this.name:s,u=b_(this,e);return _t("section",{header:l,sortBlocks:!0,blocks:j(a,function(h){var c=o.get(o.mapDimension(h.dim),e);return _t("nameValue",{markerType:"subItem",markerColor:u,name:h.name,value:c,sortParam:c})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var n=this.getData(),r=this.coordinateSystem,o=n.getValues(j(r.dimensions,function(u){return n.mapDimension(u)}),e),a=0,s=o.length;a<s;a++)if(!isNaN(o[a])){var l=r.getIndicatorAxes();return r.coordToPoint(l[a].dataToCoord(o[a]),a)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbolSize:8},t}(ze),_l=xw.value;function Xh(i,t){return J({show:t},i)}var gP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),n=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),h=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),p=this.get("triggerEvent"),d=j(this.get("indicator")||[],function(f){f.max!=null&&f.max>0&&!f.min?f.min=0:f.min!=null&&f.min<0&&!f.max&&(f.max=0);var g=l;f.color!=null&&(g=J({color:f.color},l));var y=de(te(f),{boundaryGap:e,splitNumber:n,scale:r,axisLine:o,axisTick:a,axisLabel:s,name:f.text,nameLocation:"end",nameGap:c,nameTextStyle:g,triggerEvent:p},!1);if(u||(y.name=""),typeof h=="string"){var m=y.name;y.name=h.replace("{value}",m!=null?m:"")}else typeof h=="function"&&(y.name=h(y.name,y));var v=new Ae(y,null,this.ecModel);return We(v,da.prototype),v.mainType="radar",v.componentIndex=this.componentIndex,v},this);this._indicatorModels=d},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:de({lineStyle:{color:"#bbb"}},_l.axisLine),axisLabel:Xh(_l.axisLabel,!1),axisTick:Xh(_l.axisTick,!1),splitLine:Xh(_l.splitLine,!0),splitArea:Xh(_l.splitArea,!0),indicator:[]},t}(ve),yP=["axisLine","axisTickLabel","axisName"],mP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var n=e.coordinateSystem;D(j(n.getIndicatorAxes(),function(r){return new Gt(r.model,{position:[n.cx,n.cy],rotation:r.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(r){D(yP,r.add,r),this.group.add(r.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var n=e.coordinateSystem,r=n.getIndicatorAxes();if(r.length){var o=e.get("shape"),a=e.getModel("splitLine"),s=e.getModel("splitArea"),l=a.getModel("lineStyle"),u=s.getModel("areaStyle"),h=a.get("show"),c=s.get("show"),p=l.get("color"),d=u.get("color"),f=W(p)?p:[p],g=W(d)?d:[d],y=[],m=[];if(o==="circle")for(var v=r[0].getTicksCoords(),_=n.cx,x=n.cy,b=0;b<v.length;b++)h&&y[L(y,f,b)].push(new fn({shape:{cx:_,cy:x,r:v[b].coord}})),c&&b<v.length-1&&m[L(m,g,b)].push(new Go({shape:{cx:_,cy:x,r0:v[b].coord,r:v[b+1].coord}}));else{var w,S=j(r,function(k,P){var O=k.getTicksCoords();return w=w==null?O.length-1:Math.min(O.length-1,w),j(O,function(R){return n.coordToPoint(R.coord,P)})}),M=[];for(b=0;b<=w;b++){for(var I=[],T=0;T<r.length;T++)I.push(S[T][b]);I[0]&&I.push(I[0].slice()),h&&y[L(y,f,b)].push(new zt({shape:{points:I}})),c&&M&&m[L(m,g,b-1)].push(new Dt({shape:{points:I.concat(M)}})),M=I.slice().reverse()}}var C=l.getLineStyle(),A=u.getAreaStyle();D(m,function(k,P){this.group.add(en(k,{style:J({stroke:"none",fill:g[P%g.length]},A),silent:!0}))},this),D(y,function(k,P){this.group.add(en(k,{style:J({fill:"none",stroke:f[P%f.length]},C),silent:!0}))},this)}function L(k,P,O){var R=O%P.length;return k[R]=k[R]||[],R}},t.type="radar",t}(Ye),vP=function(i){function t(e,n,r){var o=i.call(this,e,n,r)||this;return o.type="value",o.angle=0,o.name="",o}return z(t,i),t}(bn),_P=function(){function i(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=j(t.getIndicatorModels(),function(r,o){var a="indicator_"+o,s=new vP(a,new no);return s.name=r.get("name"),s.model=r,r.axis=s,this.dimensions.push(a),s},this),this.resize(t,n)}return i.prototype.getIndicatorAxes=function(){return this._indicatorAxes},i.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},i.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},i.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=Math.sqrt(e*e+n*n);e/=r,n/=r;for(var o,a=Math.atan2(-n,e),s=1/0,l=-1,u=0;u<this._indicatorAxes.length;u++){var h=this._indicatorAxes[u],c=Math.abs(a-h.angle);c<s&&(o=h,l=u,s=c)}return[l,+(o&&o.coordToData(r))]},i.prototype.resize=function(t,e){var n=t.get("center"),r=e.getWidth(),o=e.getHeight(),a=Math.min(r,o)/2;this.cx=q(n[0],r),this.cy=q(n[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");typeof s!="string"&&typeof s!="number"||(s=[0,s]),this.r0=q(s[0],a),this.r=q(s[1],a),D(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var h=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;h=Math.atan2(Math.sin(h),Math.cos(h)),l.angle=h},this)},i.prototype.update=function(t,e){var n=this._indicatorAxes,r=this._model;D(n,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if(s.get("coordinateSystem")==="radar"&&t.getComponent("radar",s.get("radarIndex"))===r){var u=s.getData();D(n,function(h){h.scale.unionExtentFromData(u,u.mapDimension(h.dim))})}},this);var o=r.get("splitNumber");function a(s){var l=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=s/l;return u===2?u=5:u*=2,u*l}D(n,function(s,l){var u=mb(s.scale,s.model).extent;Ji(s.scale,s.model);var h=s.model,c=s.scale,p=pa(c,h.get("min",!0)),d=pa(c,h.get("max",!0)),f=c.getInterval();if(p!=null&&d!=null)c.setExtent(+p,+d),c.setInterval((d-p)/o);else if(p!=null){var g=void 0;do g=p+f*o,c.setExtent(+p,g),c.setInterval(f),f=a(f);while(g<u[1]&&isFinite(g)&&isFinite(u[1]))}else if(d!=null){var y=void 0;do y=d-f*o,c.setExtent(y,+d),c.setInterval(f),f=a(f);while(y>u[0]&&isFinite(y)&&isFinite(u[0]))}else c.getTicks().length-1>o&&(f=a(f)),y=vt((g=Math.ceil(u[1]/f)*f)-f*o),c.setExtent(y,g),c.setInterval(f)})},i.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},i.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},i.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},i.create=function(t,e){var n=[];return t.eachComponent("radar",function(r){var o=new i(r,t,e);n.push(o),r.coordinateSystem=o}),t.eachSeriesByType("radar",function(r){r.get("coordinateSystem")==="radar"&&(r.coordinateSystem=n[r.get("radarIndex")||0])}),n},i.dimensions=[],i}();function xP(i){i.registerCoordinateSystem("radar",_P),i.registerComponentModel(gP),i.registerComponentView(mP),i.registerVisual({seriesType:"radar",reset:function(e){var n=e.getData();n.each(function(r){n.setItemVisual(r,"legendSymbol","roundRect")}),n.setVisual("legendSymbol","roundRect")}})}var Gw="\0_ec_interaction_mutex";function Fw(i,t){return!!_g(i)[t]}function _g(i){return i[Gw]||(i[Gw]={})}Gn({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var xl=function(i){function t(e){var n=i.call(this)||this;n._zr=e;var r=Q(n._mousedownHandler,n),o=Q(n._mousemoveHandler,n),a=Q(n._mouseupHandler,n),s=Q(n._mousewheelHandler,n),l=Q(n._pinchHandler,n);return n.enable=function(u,h){this.disable(),this._opt=J(te(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),u!==!0&&u!=="move"&&u!=="pan"||(e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a)),u!==!0&&u!=="scale"&&u!=="zoom"||(e.on("mousewheel",s),e.on("pinch",l))},n.disable=function(){e.off("mousedown",r),e.off("mousemove",o),e.off("mouseup",a),e.off("mousewheel",s),e.off("pinch",l)},n}return z(t,i),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(Km(e)||e.target&&e.target.draggable)){var n=e.offsetX,r=e.offsetY;this.pointerChecker&&this.pointerChecker(e,n,r)&&(this._x=n,this._y=r,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&Zh("moveOnMouseMove",e,this._opt)&&e.gestureEvent!=="pinch"&&!Fw(this._zr,"globalPan")){var n=e.offsetX,r=e.offsetY,o=this._x,a=this._y,s=n-o,l=r-a;this._x=n,this._y=r,this._opt.preventDefaultMouseMove&&li(e.event),Hw(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:o,oldY:a,newX:n,newY:r,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Km(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var n=Zh("zoomOnMouseWheel",e,this._opt),r=Zh("moveOnMouseWheel",e,this._opt),o=e.wheelDelta,a=Math.abs(o),s=e.offsetX,l=e.offsetY;if(o!==0&&(n||r)){if(n){var u=a>3?1.4:a>1?1.2:1.1;xg(this,"zoom","zoomOnMouseWheel",e,{scale:o>0?u:1/u,originX:s,originY:l,isAvailableBehavior:null})}if(r){var h=Math.abs(o);xg(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(o>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){Fw(this._zr,"globalPan")||xg(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(Dn);function xg(i,t,e,n,r){i.pointerChecker&&i.pointerChecker(n,r.originX,r.originY)&&(li(n.event),Hw(i,t,e,n,r))}function Hw(i,t,e,n,r){r.isAvailableBehavior=Q(Zh,null,e,n),i.trigger(t,r)}function Zh(i,t,e){var n=e[i];return!i||n&&(!be(n)||t.event[n+"Key"])}function bg(i,t,e){var n=i.target;n.x+=t,n.y+=e,n.dirty()}function wg(i,t,e,n){var r=i.target,o=i.zoomLimit,a=i.zoom=i.zoom||1;if(a*=t,o){var s=o.min||0,l=o.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/i.zoom;i.zoom=a,r.x-=(e-r.x)*(u-1),r.y-=(n-r.y)*(u-1),r.scaleX*=u,r.scaleY*=u,r.dirty()}var bP={axisPointer:1,tooltip:1,brush:1};function jh(i,t,e){var n=t.getComponentByElement(i.topTarget),r=n&&n.coordinateSystem;return n&&n!==e&&!bP.hasOwnProperty(n.mainType)&&r&&r.model!==e}var Sg=["rect","circle","line","ellipse","polygon","polyline","path"],wP=re(Sg),SP=re(Sg.concat(["g"])),MP=re(Sg.concat(["g"])),Ww=Ne();function qh(i){var t=i.getItemStyle(),e=i.get("areaColor");return e!=null&&(t.fill=e),t}var Uw=function(){function i(t){var e=new oe;this.uid=Xo("ec_map_draw"),this._controller=new xl(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new oe),e.add(this._svgGroup=new oe)}return i.prototype.draw=function(t,e,n,r,o){var a=t.mainType==="geo",s=t.getData&&t.getData();a&&e.eachComponent({mainType:"series",subType:"map"},function(y){s||y.getHostGeoModel()!==t||(s=y.getData())});var l=t.coordinateSystem,u=this._regionsGroup,h=this.group,c=l.getTransformInfo(),p=c.raw,d=c.roam;!u.childAt(0)||o?(h.x=d.x,h.y=d.y,h.scaleX=d.scaleX,h.scaleY=d.scaleY,h.dirty()):Te(h,d,t);var f=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,g={api:n,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:f,isGeo:a,transformInfoRaw:p};l.resourceType==="geoJSON"?this._buildGeoJSON(g):l.resourceType==="geoSVG"&&this._buildSVG(g),this._updateController(t,e,n),this._updateMapSelectHandler(t,u,n,r)},i.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=re(),n=this._regionsGroup,r=t.transformInfoRaw,o=t.mapOrGeoModel,a=t.data,s=function(u){return[u[0]*r.scaleX+r.x,u[1]*r.scaleY+r.y]};n.removeAll(),D(t.geo.regions,function(l){var u=l.name,h=o.getRegionModel(u),c=a?a.indexOfName(u):null,p=e.get(u),d=!!p;d||(p=e.set(u,new oe),n.add(p));var f=new hd({segmentIgnoreThreshold:1,shape:{paths:[]}});p.add(f),d||(Zw(t,p,u,h,o,c),jw(t,p,u,h,o),qw(t,p,u,h,o)),D(l.geometries,function(y){if(y.type==="polygon"){for(var m=[],v=0;v<y.exterior.length;++v)m.push(s(y.exterior[v]));for(f.shape.paths.push(new Dt({segmentIgnoreThreshold:1,shape:{points:m}})),v=0;v<(y.interiors?y.interiors.length:0);++v){for(var _=y.interiors[v],x=[],b=0;b<_.length;++b)x.push(s(_[b]));f.shape.paths.push(new Dt({segmentIgnoreThreshold:1,shape:{points:x}}))}}}),Yw(t,f,c,h),f instanceof Xn&&(f.culling=!0);var g=s(l.getCenter());Xw(t,f,u,h,o,c,g)},this)},i.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var r=this._svgDispatcherMap=re(),o=!1;D(this._svgGraphicRecord.named,function(a){var s=a.name,l=t.mapOrGeoModel,u=t.data,h=a.svgNodeTagLower,c=a.el,p=u?u.indexOfName(s):null,d=l.getRegionModel(s);wP.get(h)!=null&&c instanceof Xn&&Yw(t,c,p,d),c instanceof Xn&&(c.culling=!0),c.z2EmphasisLift=0,a.namedFrom||(MP.get(h)!=null&&Xw(t,c,s,d,l,p,null),Zw(t,c,s,d,l,p),jw(t,c,s,d,l),SP.get(h)!=null&&(qw(t,c,s,d,l)==="self"&&(o=!0),(r.get(s)||r.set(s,[])).push(c)))},this),this._enableBlurEntireSVG(o,t)},i.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(r){if(!r.isGroup){Br(r);var o=r.ensureState("blur").style||{};o.opacity==null&&n!=null&&(o.opacity=n),r.ensureState("emphasis")}})}},i.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},i.prototype.findHighDownDispatchers=function(t,e){if(t==null)return[];var n=e.coordinateSystem;if(n.resourceType==="geoJSON"){var r=this._regionsGroupByName;if(r){var o=r.get(t);return o?[o]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},i.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},i.prototype._useSVG=function(t){var e=fh(t);if(e&&e.type==="geoSVG"){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},i.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var e=fh(t);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},i.prototype._updateController=function(t,e,n){var r=t.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=t.get("scaleLimit"),a.zoom=r.getZoom(),o.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}o.off("pan").on("pan",function(u){this._mouseDownFlag=!1,bg(a,u.dx,u.dy),n.dispatchAction(X(l(),{dx:u.dx,dy:u.dy}))},this),o.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,wg(a,u.scale,u.originX,u.originY),n.dispatchAction(X(l(),{zoom:u.scale,originX:u.originX,originY:u.originY}))},this),o.setPointerChecker(function(u,h,c){return r.containPoint([h,c])&&!jh(u,n,t)})},i.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=Ww(e).ignore)})},i.prototype._updateMapSelectHandler=function(t,e,n,r){var o=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){o._mouseDownFlag=!0}),e.on("click",function(a){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},i}();function Yw(i,t,e,n){var r=n.getModel("itemStyle"),o=n.getModel(["emphasis","itemStyle"]),a=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=qh(r),u=qh(o),h=qh(s),c=qh(a),p=i.data;if(p){var d=p.getItemVisual(e,"style"),f=p.getItemVisual(e,"decal");i.isVisualEncodedByVisualMap&&d.fill&&(l.fill=d.fill),f&&(l.decal=Us(f,i.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=h,t.ensureState("blur").style=c,Br(t)}function Xw(i,t,e,n,r,o,a){var s=i.data,l=i.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),o)),h=s&&s.getItemLayout(o);if(l||u||h&&h.showLabel){var c=l?e:o,p=void 0;(!s||o>=0)&&(p=r);var d=a?{normal:{align:"center",verticalAlign:"middle"}}:null;Lt(t,St(n),{labelFetcher:p,labelDataIndex:c,defaultText:e},d);var f=t.getTextContent();if(f&&(Ww(f).ignore=f.ignore,t.textConfig&&a)){var g=t.getBoundingRect().clone();t.textConfig.position=[(a[0]-g.x)/g.width*100+"%",(a[1]-g.y)/g.height*100+"%"]}(function(y,m,v){se(y).dataIndex=m,se(y).dataType=v})(t,o,null),t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function Zw(i,t,e,n,r,o){i.data?i.data.setItemGraphicEl(o,t):se(t).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:e,region:n&&n.option||{}}}function jw(i,t,e,n,r){i.data||Yo({el:t,componentModel:r,itemName:e,itemTooltipOption:n.get("tooltip")})}function qw(i,t,e,n,r){t.highDownSilentOnTouch=!!r.get("selectedMode");var o=n.getModel("emphasis"),a=o.get("focus");return Ge(t,a,o.get("blurScope")),i.isGeo&&function(s,l,u){var h=se(s);h.componentMainType=l.mainType,h.componentIndex=l.componentIndex,h.componentHighDownName=u}(t,r,e),a}var IP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r,o){if(!o||o.type!=="mapToggleSelect"||o.from!==this.uid){var a=this.group;if(a.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&o&&o.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),o&&o.type==="geoRoam"&&o.componentType==="series"&&o.seriesId===e.id)(s=this._mapDraw)&&a.add(s.group);else if(e.needsDrawMap){var s=this._mapDraw||new Uw(r);a.add(s.group),s.draw(e,n,r,this,o),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(e,n,r)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,n,r){var o=e.originalData,a=this.group;o.each(o.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=o.getItemLayout(l);if(u&&u.point){var h=u.point,c=u.offset,p=new fn({style:{fill:e.getData().getVisual("style").fill},shape:{cx:h[0]+9*c,cy:h[1],r:3},silent:!0,z2:8+(c?0:11)});if(!c){var d=e.mainSeries.getData(),f=o.getName(l),g=d.indexOfName(f),y=o.getItemModel(l),m=y.getModel("label"),v=d.getItemGraphicEl(g);Lt(p,St(y),{labelFetcher:{getFormattedLabel:function(x,b){return e.getFormattedLabel(g,b)}}}),p.disableLabelAnimation=!0,m.get("position")||p.setTextConfig({position:"bottom"}),v.onHoverStateChange=function(_){Su(p,_)}}a.add(p)}}})},t.type="map",t}(Re),TP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(n){if(n!=null){var r=this.getData().getName(n),o=this.coordinateSystem,a=o.getRegion(r);return a&&o.dataToPoint(a.getCenter())}},e}return z(t,i),t.prototype.getInitialData=function(e){for(var n=va(this,{coordDimensions:["value"],encodeDefaulter:he(Ed,this)}),r=re(),o=[],a=0,s=n.count();a<s;a++){var l=n.getName(a);r.set(l,!0)}return D(gf(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(u){var h=u.name;r.get(h)||o.push(h)}),n.appendValues([],o),n},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return e!=null?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var n=this.getData();return n.get(n.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var n=this.getData();return n.getItemModel(n.indexOfName(e))},t.prototype.formatTooltip=function(e,n,r){for(var o=this.getData(),a=this.getRawValue(e),s=o.getName(e),l=this.seriesGroup,u=[],h=0;h<l.length;h++){var c=l[h].originalData.indexOfName(s),p=o.mapDimension("value");isNaN(l[h].originalData.get(p,c))||u.push(l[h].name)}return _t("section",{header:u.join(", "),noHeader:!u.length,blocks:[_t("nameValue",{name:s,value:a})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var n=e.symbolType||"roundRect",r=ot(n,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return r.setStyle(e.itemStyle),r.style.stroke="none",n.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(ze);function CP(i){var t={};i.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),r=n?"o"+n.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)}),D(t,function(e,n){for(var r,o,a,s=(r=j(e,function(u){return u.getData()}),o=e[0].get("mapValueCalculation"),a={},D(r,function(u){u.each(u.mapDimension("value"),function(h,c){var p="ec-"+u.getName(c);a[p]=a[p]||[],isNaN(h)||a[p].push(h)})}),r[0].map(r[0].mapDimension("value"),function(u,h){for(var c="ec-"+r[0].getName(h),p=0,d=1/0,f=-1/0,g=a[c].length,y=0;y<g;y++)d=Math.min(d,a[c][y]),f=Math.max(f,a[c][y]),p+=a[c][y];return g===0?NaN:o==="min"?d:o==="max"?f:o==="average"?p/g:p})),l=0;l<e.length;l++)e[l].originalData=e[l].getData();for(l=0;l<e.length;l++)e[l].seriesGroup=e,e[l].needsDrawMap=l===0&&!e[l].getHostGeoModel(),e[l].setData(s.cloneShallow()),e[l].mainSeries=e[0]})}function AP(i){var t={};i.eachSeriesByType("map",function(e){var n=e.getMapType();if(!e.getHostGeoModel()&&!t[n]){var r={};D(e.seriesGroup,function(a){var s=a.coordinateSystem,l=a.originalData;a.get("showLegendSymbol")&&i.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,h){var c=l.getName(h),p=s.getRegion(c);if(p&&!isNaN(u)){var d=r[c]||0,f=s.dataToPoint(p.getCenter());r[c]=d+1,l.setItemLayout(h,{point:f,offset:d})}})});var o=e.getData();o.each(function(a){var s=o.getName(a),l=o.getItemLayout(a)||{};l.showLabel=!r[s],o.setItemLayout(a,l)}),t[n]=!0}})}var Kw=mt,xa=function(i){function t(e){var n=i.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new ui,n._rawTransformable=new ui,n.name=e,n}return z(t,i),t.prototype.setBoundingRect=function(e,n,r,o){return this._rect=new me(e,n,r,o),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,n,r,o){this._transformTo(e,n,r,o),this._viewRect=new me(e,n,r,o)},t.prototype._transformTo=function(e,n,r,o){var a=this.getBoundingRect(),s=this._rawTransformable;s.transform=a.calculateTransform(new me(e,n,r,o));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(e){e&&(this._center=e,this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var n=this.zoomLimit;n&&(n.max!=null&&(e=Math.min(n.max,e)),n.min!=null&&(e=Math.max(n.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=mt([],o,e),r=mt([],r,e),n.originX=o[0],n.originY=o[1],n.x=r[0]-o[0],n.y=r[1]-o[1],n.scaleX=n.scaleY=a,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,n=this._rawTransformable;n.parent=e,e.updateTransform(),n.updateTransform(),To(this.transform||(this.transform=[]),n.transform||[1,0,0,1,0,0]),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],fr(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,n=this._roamTransformable,r=new ui;return r.transform=n.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,n,r){var o=n?this._rawTransform:this.transform;return r=r||[],o?Kw(r,e,o):Ct(r,e)},t.prototype.pointToData=function(e){var n=this.invTransform;return n?Kw([],e,n):[e[0],e[1]]},t.prototype.convertToPixel=function(e,n,r){var o=$w(n);return o===this?o.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,n,r){var o=$w(n);return o===this?o.pointToData(r):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(ui);function $w(i){var t=i.seriesModel;return t?t.coordinateSystem:null}var DP={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Kh=function(i){function t(e,n,r){var o=i.call(this,e)||this;o.dimensions=["lng","lat"],o.type="geo",o._nameCoordMap=re(),o.map=n;var a=gf(n,r.nameMap,r.nameProperty),s=fh(n);o.resourceType=s?s.type:null;var l=DP[s.type];o._regionsMap=a.regionsMap,o._invertLongitute=l.invertLongitute,o.regions=a.regions,o.aspectScale=we(r.aspectScale,l.aspectScale);var u=a.boundingRect;return o.setBoundingRect(u.x,u.y,u.width,u.height),o}return z(t,i),t.prototype._transformTo=function(e,n,r,o){var a=this.getBoundingRect(),s=this._invertLongitute;a=a.clone(),s&&(a.y=-a.y-a.height);var l=this._rawTransformable;l.transform=a.calculateTransform(new me(e,n,r,o));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var n=this.regions,r=0;r<n.length;r++){var o=n[r];if(o.type==="geoJSON"&&o.contain(e))return n[r]}},t.prototype.addGeoCoord=function(e,n){this._nameCoordMap.set(e,n)},t.prototype.getGeoCoord=function(e){var n=this._regionsMap.get(e);return this._nameCoordMap.get(e)||n&&n.getCenter()},t.prototype.dataToPoint=function(e,n,r){if(typeof e=="string"&&(e=this.getGeoCoord(e)),e)return xa.prototype.dataToPoint.call(this,e,n,r)},t.prototype.convertToPixel=function(e,n,r){var o=Jw(n);return o===this?o.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,n,r){var o=Jw(n);return o===this?o.pointToData(r):null},t}(xa);function Jw(i){var t=i.geoModel,e=i.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",lt).models[0]||{}).coordinateSystem:null}function Qw(i,t){var e=i.get("boundingCoords");if(e!=null){var n=e[0],r=e[1];isNaN(n[0])||isNaN(n[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(n[0],n[1],r[0]-n[0],r[1]-n[1])}var o,a,s,l=this.getBoundingRect(),u=i.get("layoutCenter"),h=i.get("layoutSize"),c=t.getWidth(),p=t.getHeight(),d=l.width/l.height*this.aspectScale,f=!1;if(u&&h&&(o=[q(u[0],c),q(u[1],p)],a=q(h,Math.min(c,p)),isNaN(o[0])||isNaN(o[1])||isNaN(a)||(f=!0)),f)s={},d>1?(s.width=a,s.height=a/d):(s.height=a,s.width=a*d),s.y=o[1]-s.height/2,s.x=o[0]-s.width/2;else{var g=i.getBoxLayoutParams();g.aspect=d,s=ht(g,{width:c,height:p})}this.setViewRect(s.x,s.y,s.width,s.height),this.setCenter(i.get("center")),this.setZoom(i.get("zoom"))}We(Kh,xa);var eS=new(function(){function i(){this.dimensions=Kh.prototype.dimensions}return i.prototype.create=function(t,e){var n=[];t.eachComponent("geo",function(o,a){var s=o.get("map"),l=new Kh(s+a,s,{nameMap:o.get("nameMap"),nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale")});l.zoomLimit=o.get("scaleLimit"),n.push(l),o.coordinateSystem=l,l.model=o,l.resize=Qw,l.resize(o,e)}),t.eachSeries(function(o){if(o.get("coordinateSystem")==="geo"){var a=o.get("geoIndex")||0;o.coordinateSystem=n[a]}});var r={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var a=o.getMapType();r[a]=r[a]||[],r[a].push(o)}}),D(r,function(o,a){var s=j(o,function(u){return u.get("nameMap")}),l=new Kh(a,a,{nameMap:pr(s),nameProperty:o[0].get("nameProperty"),aspectScale:o[0].get("aspectScale")});l.zoomLimit=yt.apply(null,j(o,function(u){return u.get("scaleLimit")})),n.push(l),l.resize=Qw,l.resize(o[0],e),D(o,function(u){u.coordinateSystem=l,function(h,c){D(c.get("geoCoord"),function(p,d){h.addGeoCoord(d,p)})}(l,u)})}),n},i.prototype.getFilledRegions=function(t,e,n,r){for(var o=(t||[]).slice(),a=re(),s=0;s<o.length;s++)a.set(o[s].name,o[s]);return D(gf(e,n,r).regions,function(l){var u=l.name;!a.get(u)&&o.push({name:u})}),o},i}()),LP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.init=function(e,n,r){var o=fh(e.map);if(o&&o.type==="geoJSON"){var a=e.itemStyle=e.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(e,r),Sr(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,n=this.option;n.regions=eS.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var r={};this._optionModelMap=An(n.regions||[],function(o,a){var s=a.name;return s&&(o.set(s,new Ae(a,e,e.ecModel)),a.selected&&(r[s]=!0)),o},re()),n.selectedMap||(n.selectedMap=r)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Ae(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,n){var r=this.getRegionModel(e),o=n==="normal"?r.get(["label","formatter"]):r.get(["emphasis","label","formatter"]),a={name:e};return typeof o=="function"?(a.status=n,o(a)):typeof o=="string"?o.replace("{a}",e!=null?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var n=this.option,r=n.selectedMode;r&&(r!=="multiple"&&(n.selectedMap=null),(n.selectedMap||(n.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var n=this.option.selectedMap;n&&(n[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var n=this.option.selectedMap;return!(!n||!n[e])},t.type="geo",t.layoutMode="box",t.defaultOption={zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(ve);function Mg(i,t,e){var n=i.getZoom(),r=i.getCenter(),o=t.zoom,a=i.dataToPoint(r);if(t.dx!=null&&t.dy!=null&&(a[0]-=t.dx,a[1]-=t.dy,i.setCenter(i.pointToData(a))),o!=null){if(e){var s=e.min||0,l=e.max||1/0;o=Math.max(Math.min(n*o,l),s)/n}i.scaleX*=o,i.scaleY*=o;var u=(t.originX-i.x)*(o-1),h=(t.originY-i.y)*(o-1);i.x-=u,i.y-=h,i.updateTransform(),i.setCenter(i.pointToData(a)),i.setZoom(o*n)}return{center:i.getCenter(),zoom:i.getZoom()}}var kP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return z(t,i),t.prototype.init=function(e,n){var r=new Uw(n);this._mapDraw=r,this.group.add(r.group),this._api=n},t.prototype.render=function(e,n,r,o){var a=this._mapDraw;e.get("show")?a.draw(e,n,r,this,o):this._mapDraw.group.removeAll(),a.group.on("click",this._handleRegionClick,this),a.group.silent=e.get("silent"),this._model=e,this.updateSelectStatus(e,n,r)},t.prototype._handleRegionClick=function(e){var n;oa(e.target,function(r){return(n=se(r).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(e,n,r){var o=this;this._mapDraw.group.traverse(function(a){var s=se(a).eventData;if(s)return o._model.isSelected(s.name)?r.enterSelect(a):r.leaveSelect(a),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Ye);function tS(i){function t(e,n){n.update="geo:updateSelectStatus",i.registerAction(n,function(r,o){var a={},s=[];return o.eachComponent({mainType:"geo",query:r},function(l){l[e](r.name),D(l.coordinateSystem.regions,function(h){a[h.name]=l.isSelected(h.name)||!1});var u=[];D(a,function(h,c){a[c]&&u.push(c)}),s.push({geoIndex:l.componentIndex,name:u})}),{selected:a,allSelected:s,name:r.name}})}i.registerCoordinateSystem("geo",eS),i.registerComponentModel(LP),i.registerComponentView(kP),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),i.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,n){var r=e.componentType||"series";n.eachComponent({mainType:r,query:e},function(o){var a=o.coordinateSystem;if(a.type==="geo"){var s=Mg(a,e,o.get("scaleLimit"));o.setCenter&&o.setCenter(s.center),o.setZoom&&o.setZoom(s.zoom),r==="series"&&D(o.seriesGroup,function(l){l.setCenter(s.center),l.setZoom(s.zoom)})}})})}function PP(i,t){var e=i.isExpand?i.children:[],n=i.parentNode.children,r=i.hierNode.i?n[i.hierNode.i-1]:null;if(e.length){(function(a){for(var s=a.children,l=s.length,u=0,h=0;--l>=0;){var c=s[l];c.hierNode.prelim+=u,c.hierNode.modifier+=u,h+=c.hierNode.change,u+=c.hierNode.shift+h}})(i);var o=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;r?(i.hierNode.prelim=r.hierNode.prelim+t(i,r),i.hierNode.modifier=i.hierNode.prelim-o):i.hierNode.prelim=o}else r&&(i.hierNode.prelim=r.hierNode.prelim+t(i,r));i.parentNode.hierNode.defaultAncestor=function(a,s,l,u){if(s){for(var h=a,c=a,p=c.parentNode.children[0],d=s,f=h.hierNode.modifier,g=c.hierNode.modifier,y=p.hierNode.modifier,m=d.hierNode.modifier;d=Ig(d),c=Tg(c),d&&c;){h=Ig(h),p=Tg(p),h.hierNode.ancestor=a;var v=d.hierNode.prelim+m-c.hierNode.prelim-g+u(d,c);v>0&&(NP(RP(d,a,l),a,v),g+=v,f+=v),m+=d.hierNode.modifier,g+=c.hierNode.modifier,f+=h.hierNode.modifier,y+=p.hierNode.modifier}d&&!Ig(h)&&(h.hierNode.thread=d,h.hierNode.modifier+=m-f),c&&!Tg(p)&&(p.hierNode.thread=c,p.hierNode.modifier+=g-y,l=a)}return l}(i,r,i.parentNode.hierNode.defaultAncestor||n[0],t)}function OP(i){var t=i.hierNode.prelim+i.parentNode.hierNode.modifier;i.setLayout({x:t},!0),i.hierNode.modifier+=i.parentNode.hierNode.modifier}function nS(i){return arguments.length?i:EP}function bl(i,t){return i-=Math.PI/2,{x:t*Math.cos(i),y:t*Math.sin(i)}}function Ig(i){var t=i.children;return t.length&&i.isExpand?t[t.length-1]:i.hierNode.thread}function Tg(i){var t=i.children;return t.length&&i.isExpand?t[0]:i.hierNode.thread}function RP(i,t,e){return i.hierNode.ancestor.parentNode===t.parentNode?i.hierNode.ancestor:e}function NP(i,t,e){var n=e/(t.hierNode.i-i.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,i.hierNode.change+=n}function EP(i,t){return i.parentNode===t.parentNode?1:2}var zP=function(){this.parentPoint=[],this.childPoints=[]},BP=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new zP},t.prototype.buildPath=function(e,n){var r=n.childPoints,o=r.length,a=n.parentPoint,s=r[0],l=r[o-1];if(o===1)return e.moveTo(a[0],a[1]),void e.lineTo(s[0],s[1]);var u=n.orient,h=u==="TB"||u==="BT"?0:1,c=1-h,p=q(n.forkPosition,1),d=[];d[h]=a[h],d[c]=a[c]+(l[c]-a[c])*p,e.moveTo(a[0],a[1]),e.lineTo(d[0],d[1]),e.moveTo(s[0],s[1]),d[h]=s[h],e.lineTo(d[0],d[1]),d[h]=l[h],e.lineTo(d[0],d[1]),e.lineTo(l[0],l[1]);for(var f=1;f<o-1;f++){var g=r[f];e.moveTo(g[0],g[1]),d[h]=g[h],e.lineTo(d[0],d[1])}},t}(Me),VP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new oe,e}return z(t,i),t.prototype.init=function(e,n){this._controller=new xl(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,r){var o=e.getData(),a=e.layoutInfo,s=this._mainGroup;e.get("layout")==="radial"?(s.x=a.x+a.width/2,s.y=a.y+a.height/2):(s.x=a.x,s.y=a.y),this._updateViewCoordSys(e),this._updateController(e,n,r);var l=this._data;o.diff(l).add(function(u){iS(o,u)&&rS(o,u,null,s,e)}).update(function(u,h){var c=l.getItemGraphicEl(h);iS(o,u)?rS(o,u,c,s,e):c&&oS(l,h,c,s,e)}).remove(function(u){var h=l.getItemGraphicEl(u);h&&oS(l,u,h,s,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&o.eachItemGraphicEl(function(u,h){u.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=o},t.prototype._updateViewCoordSys=function(e){var n=e.getData(),r=[];n.each(function(h){var c=n.getItemLayout(h);!c||isNaN(c.x)||isNaN(c.y)||r.push([+c.x,+c.y])});var o=[],a=[];Xp(r,o,a);var s=this._min,l=this._max;a[0]-o[0]==0&&(o[0]=s?s[0]:o[0]-1,a[0]=l?l[0]:a[0]+1),a[1]-o[1]==0&&(o[1]=s?s[1]:o[1]-1,a[1]=l?l[1]:a[1]+1);var u=e.coordinateSystem=new xa;u.zoomLimit=e.get("scaleLimit"),u.setBoundingRect(o[0],o[1],a[0]-o[0],a[1]-o[1]),u.setCenter(e.get("center")),u.setZoom(e.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=o,this._max=a},t.prototype._updateController=function(e,n,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,h,c){var p=l.getBoundingRect();return p.applyTransform(l.transform),p.contain(h,c)&&!jh(u,r,e)}),a.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){bg(s,u.dx,u.dy),r.dispatchAction({seriesId:e.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){wg(s,u.scale,u.originX,u.originY),r.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(e),r.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var n=e.getData(),r=this._getNodeGlobalScale(e);n.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},t.prototype._getNodeGlobalScale=function(e){var n=e.coordinateSystem;if(n.type!=="view")return 1;var r=this._nodeScaleRatio,o=n.scaleX||1;return((n.getZoom()-1)*r+1)/o},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(Re);function iS(i,t){var e=i.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function rS(i,t,e,n,r){var o=!e,a=i.tree.getNodeByDataIndex(t),s=a.getModel(),l=a.getVisual("style").fill,u=a.isExpand===!1&&a.children.length!==0?l:"#fff",h=i.tree.root,c=a.parentNode===h?a:a.parentNode||a,p=i.getItemGraphicEl(c.dataIndex),d=c.getLayout(),f=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:d,g=a.getLayout();o?((e=new pl(i,t,null,{symbolInnerColor:u,useNameLabel:!0})).x=f.x,e.y=f.y):e.updateData(i,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=g.rawX,e.__radialRawY=g.rawY,n.add(e),i.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,Te(e,{x:g.x,y:g.y},r);var y=e.getSymbolPath();if(r.get("layout")==="radial"){var m=h.children[0],v=m.getLayout(),_=m.children.length,x=void 0,b=void 0;if(g.x===v.x&&a.isExpand===!0){var w={x:(m.children[0].getLayout().x+m.children[_-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[_-1].getLayout().y)/2};(x=Math.atan2(w.y-v.y,w.x-v.x))<0&&(x=2*Math.PI+x),(b=w.x<v.x)&&(x-=Math.PI)}else(x=Math.atan2(g.y-v.y,g.x-v.x))<0&&(x=2*Math.PI+x),a.children.length===0||a.children.length!==0&&a.isExpand===!1?(b=g.x<v.x)&&(x-=Math.PI):(b=g.x>v.x)||(x-=Math.PI);var S=b?"left":"right",M=s.getModel("label"),I=M.get("rotate"),T=I*(Math.PI/180),C=y.getTextContent();C&&(y.setTextConfig({position:M.get("position")||S,rotation:I==null?-x:T,origin:"center"}),C.setStyle("verticalAlign","middle"))}var A=s.get(["emphasis","focus"]),L=A==="ancestor"?a.getAncestorsIndices():A==="descendant"?a.getDescendantIndices():null;L&&(se(e).focus=L),function(k,P,O,R,N,E,B,G){var F=P.getModel(),H=k.get("edgeShape"),V=k.get("layout"),U=k.getOrient(),Y=k.get(["lineStyle","curveness"]),Z=k.get("edgeForkPosition"),K=F.getModel("lineStyle").getLineStyle(),$=R.__edge;if(H==="curve")P.parentNode&&P.parentNode!==O&&($||($=R.__edge=new Fo({shape:Cg(V,U,Y,N,N)})),Te($,{shape:Cg(V,U,Y,E,B)},k));else if(H==="polyline"&&V==="orthogonal"&&P!==O&&P.children&&P.children.length!==0&&P.isExpand===!0){for(var ne=P.children,le=[],fe=0;fe<ne.length;fe++){var ge=ne[fe].getLayout();le.push([ge.x,ge.y])}$||($=R.__edge=new BP({shape:{parentPoint:[B.x,B.y],childPoints:[[B.x,B.y]],orient:U,forkPosition:Z}})),Te($,{shape:{parentPoint:[B.x,B.y],childPoints:le}},k)}$&&($.useStyle(J({strokeNoScale:!0,fill:null},K)),Mt($,F,"lineStyle"),Br($),G.add($))}(r,a,h,e,f,d,g,n),e.__edge&&(e.onHoverStateChange=function(k){if(k!=="blur"){var P=a.parentNode&&i.getItemGraphicEl(a.parentNode.dataIndex);P&&P.hoverState===1||Su(e.__edge,k)}})}function oS(i,t,e,n,r){for(var o,a=i.tree.getNodeByDataIndex(t),s=i.tree.root,l=a.parentNode===s?a:a.parentNode||a;(o=l.getLayout())==null;)l=l.parentNode===s?l:l.parentNode||l;var u={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};Hi(e,{x:o.x+1,y:o.y+1},r,{cb:function(){n.remove(e),i.setItemGraphicEl(t,null)},removeOpt:u}),e.fadeOut(null,{fadeLabel:!0,animation:u});var h=i.getItemGraphicEl(l.dataIndex).__edge,c=e.__edge||(l.isExpand===!1||l.children.length===1?h:void 0),p=r.get("edgeShape"),d=r.get("layout"),f=r.get("orient"),g=r.get(["lineStyle","curveness"]);c&&(p==="curve"?Hi(c,{shape:Cg(d,f,g,o,o),style:{opacity:0}},r,{cb:function(){n.remove(c)},removeOpt:u}):p==="polyline"&&r.get("layout")==="orthogonal"&&Hi(c,{shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]]},style:{opacity:0}},r,{cb:function(){n.remove(c)},removeOpt:u}))}function Cg(i,t,e,n,r){var o,a,s,l,u,h,c,p;if(i==="radial"){u=n.rawX,c=n.rawY,h=r.rawX,p=r.rawY;var d=bl(u,c),f=bl(u,c+(p-c)*e),g=bl(h,p+(c-p)*e),y=bl(h,p);return{x1:d.x||0,y1:d.y||0,x2:y.x||0,y2:y.y||0,cpx1:f.x||0,cpy1:f.y||0,cpx2:g.x||0,cpy2:g.y||0}}return u=n.x,c=n.y,h=r.x,p=r.y,t!=="LR"&&t!=="RL"||(o=u+(h-u)*e,a=c,s=h+(u-h)*e,l=p),t!=="TB"&&t!=="BT"||(o=u,a=c+(p-c)*e,s=h,l=p+(c-p)*e),{x1:u,y1:c,x2:h,y2:p,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var Sn=Ne();function aS(i){var t=i.mainData,e=i.datas;e||(e={main:t},i.datasAttr={main:"data"}),i.datas=i.mainData=null,sS(t,e,i),D(e,function(n){D(t.TRANSFERABLE_METHODS,function(r){n.wrapMethod(r,he(GP,i))})}),t.wrapMethod("cloneShallow",he(HP,i)),D(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,he(FP,i))}),Tt(e[t.dataType]===t)}function GP(i,t){if(Sn(n=this).mainData===n){var e=X({},Sn(this).datas);e[this.dataType]=t,sS(t,e,i)}else Ag(t,this.dataType,Sn(this).mainData,i);var n;return t}function FP(i,t){return i.struct&&i.struct.update(),t}function HP(i,t){return D(Sn(t).datas,function(e,n){e!==t&&Ag(e.cloneShallow(),n,t,i)}),t}function WP(i){var t=Sn(this).mainData;return i==null||t==null?t:Sn(t).datas[i]}function UP(){var i=Sn(this).mainData;return i==null?[{data:i}]:j(ke(Sn(i).datas),function(t){return{type:t,data:Sn(i).datas[t]}})}function sS(i,t,e){Sn(i).datas={},D(t,function(n,r){Ag(n,r,i,e)})}function Ag(i,t,e,n){Sn(e).datas[t]=i,Sn(i).mainData=e,i.dataType=t,n.struct&&(i[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=i),i.getLinkedData=WP,i.getLinkedDataAll=UP}var YP=function(){function i(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return i.prototype.isRemoved=function(){return this.dataIndex<0},i.prototype.eachNode=function(t,e,n){typeof t=="function"&&(n=e,e=t,t=null),be(t=t||{})&&(t={order:t});var r,o=t.order||"preorder",a=this[t.attr||"children"];o==="preorder"&&(r=e.call(n,this));for(var s=0;!r&&s<a.length;s++)a[s].eachNode(t,e,n);o==="postorder"&&e.call(n,this)},i.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},i.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,r=n.length;e<r;e++){var o=n[e].getNodeById(t);if(o)return o}},i.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,r=n.length;e<r;e++){var o=n[e].contains(t);if(o)return o}},i.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},i.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},i.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},i.prototype.getValue=function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},i.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},i.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},i.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},i.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},i.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},i.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},i.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},i.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},i.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},i.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},i}(),Dg=function(){function i(t){this.type="tree",this._nodes=[],this.hostModel=t}return i.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},i.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},i.prototype.getNodeById=function(t){return this.root.getNodeById(t)},i.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,r=e.length;n<r;n++)e[n].dataIndex=-1;for(n=0,r=t.count();n<r;n++)e[t.getRawIndex(n)].dataIndex=n},i.prototype.clearLayouts=function(){this.data.clearItemLayouts()},i.createTree=function(t,e,n){var r=new i(e),o=[],a=1;(function u(h,c){var p=h.value;a=Math.max(a,W(p)?p.length:1),o.push(h);var d=new YP(dt(h.name,""),r);c?function(y,m){var v=m.children;y.parentNode!==m&&(v.push(y),y.parentNode=m)}(d,c):r.root=d,r._nodes.push(d);var f=h.children;if(f)for(var g=0;g<f.length;g++)u(f[g],d)})(t),r.root.updateDepthAndHeight(0);var s=ha(o,{coordDimensions:["value"],dimensionsCount:a}),l=new Pt(s,e);return l.initData(o),n&&n(l),aS({mainData:l,struct:r,structAttr:"tree"}),r.update(),r},i}(),XP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return z(t,i),t.prototype.getInitialData=function(e){var n={name:e.name,children:e.data},r=e.leaves||{},o=new Ae(r,this,this.ecModel),a=Dg.createTree(n,this,function(u){u.wrapMethod("getItemModel",function(h,c){var p=a.getNodeByDataIndex(c);return p.children.length&&p.isExpand||(h.parentModel=o),h})}),s=0;a.eachNode("preorder",function(u){u.depth>s&&(s=u.depth)});var l=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return a.root.eachNode("preorder",function(u){var h=u.hostTree.data.getRawDataItem(u.dataIndex);u.isExpand=h&&h.collapsed!=null?!h.collapsed:u.depth<=l}),a.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,n,r){for(var o=this.getData().tree,a=o.root.children[0],s=o.getNodeByDataIndex(e),l=s.getValue(),u=s.name;s&&s!==a;)u=s.parentNode.name+"."+u,s=s.parentNode;return _t("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},t.type="series.tree",t.layoutMode="box",t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(ze);function wl(i,t){for(var e,n=[i];e=n.pop();)if(t(e),e.isExpand){var r=e.children;if(r.length)for(var o=r.length-1;o>=0;o--)n.push(r[o])}}function ZP(i,t){i.eachSeriesByType("tree",function(e){(function(n,r){var o=function(w,S){return ht(w.getBoxLayoutParams(),{width:S.getWidth(),height:S.getHeight()})}(n,r);n.layoutInfo=o;var a=n.get("layout"),s=0,l=0,u=null;a==="radial"?(s=2*Math.PI,l=Math.min(o.height,o.width)/2,u=nS(function(w,S){return(w.parentNode===S.parentNode?1:2)/w.depth})):(s=o.width,l=o.height,u=nS());var h=n.getData().tree.root,c=h.children[0];if(c){(function(w){var S=w;S.hierNode={defaultAncestor:null,ancestor:S,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var M,I,T=[S];M=T.pop();)if(I=M.children,M.isExpand&&I.length)for(var C=I.length-1;C>=0;C--){var A=I[C];A.hierNode={defaultAncestor:null,ancestor:A,prelim:0,modifier:0,change:0,shift:0,i:C,thread:null},T.push(A)}})(h),function(w,S,M){for(var I,T=[w],C=[];I=T.pop();)if(C.push(I),I.isExpand){var A=I.children;if(A.length)for(var L=0;L<A.length;L++)T.push(A[L])}for(;I=C.pop();)S(I,M)}(c,PP,u),h.hierNode.modifier=-c.hierNode.prelim,wl(c,OP);var p=c,d=c,f=c;wl(c,function(w){var S=w.getLayout().x;S<p.getLayout().x&&(p=w),S>d.getLayout().x&&(d=w),w.depth>f.depth&&(f=w)});var g=p===d?1:u(p,d)/2,y=g-p.getLayout().x,m=0,v=0,_=0,x=0;if(a==="radial")m=s/(d.getLayout().x+g+y),v=l/(f.depth-1||1),wl(c,function(w){_=(w.getLayout().x+y)*m,x=(w.depth-1)*v;var S=bl(_,x);w.setLayout({x:S.x,y:S.y,rawX:_,rawY:x},!0)});else{var b=n.getOrient();b==="RL"||b==="LR"?(v=l/(d.getLayout().x+g+y),m=s/(f.depth-1||1),wl(c,function(w){x=(w.getLayout().x+y)*v,_=b==="LR"?(w.depth-1)*m:s-(w.depth-1)*m,w.setLayout({x:_,y:x},!0)})):b!=="TB"&&b!=="BT"||(m=s/(d.getLayout().x+g+y),v=l/(f.depth-1||1),wl(c,function(w){_=(w.getLayout().x+y)*m,x=b==="TB"?(w.depth-1)*v:l-(w.depth-1)*v,w.setLayout({x:_,y:x},!0)}))}}})(e,t)})}function jP(i){i.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(n){var r=n.getModel().getModel("itemStyle").getItemStyle();X(e.ensureUniqueItemVisual(n.dataIndex,"style"),r)})})}function Sl(i,t,e){if(i&&ie(t,i.type)>=0){var n=e.getData().tree.root,r=i.targetNode;if(typeof r=="string"&&(r=n.getNodeById(r)),r&&n.contains(r))return{node:r};var o=i.targetNodeId;if(o!=null&&(r=n.getNodeById(o)))return{node:r}}}function lS(i){for(var t=[];i;)(i=i.parentNode)&&t.push(i);return t.reverse()}function Lg(i,t){return ie(lS(i),t)>=0}function kg(i,t){for(var e=[];i;){var n=i.dataIndex;e.push({name:i.name,dataIndex:n,value:t.getRawValue(n)}),i=i.parentNode}return e.reverse(),e}var qP=function(){},uS=["treemapZoomToNode","treemapRender","treemapMove"];function hS(i){var t=i.getData().tree,e={};t.eachNode(function(n){for(var r=n;r&&r.depth>1;)r=r.parentNode;var o=Gd(i.ecModel,r.name||r.dataIndex+"",e);n.setVisual("decal",o)})}var KP=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return z(t,i),t.prototype.getInitialData=function(e,n){var r={name:e.name,children:e.data};cS(r);var o=e.levels||[],a=this.designatedVisualItemStyle={},s=new Ae({itemStyle:a},this,n),l=j((o=e.levels=function(h,c){var p,d,f=je(c.get("color")),g=je(c.get(["aria","decal","decals"]));if(!!f){D(h=h||[],function(m){var v=new Ae(m),_=v.get("color"),x=v.get("decal");(v.get(["itemStyle","color"])||_&&_!=="none")&&(p=!0),(v.get(["itemStyle","decal"])||x&&x!=="none")&&(d=!0)});var y=h[0]||(h[0]={});return p||(y.color=f.slice()),!d&&g&&(y.decal=g.slice()),h}}(o,n))||[],function(h){return new Ae(h,s,n)},this),u=Dg.createTree(r,this,function(h){h.wrapMethod("getItemModel",function(c,p){var d=u.getNodeByDataIndex(p),f=l[d.depth];return c.parentModel=f||s,c})});return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,n,r){var o=this.getData(),a=this.getRawValue(e);return _t("nameValue",{name:o.getName(e),value:a})},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=kg(r,this),n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},X(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var n=this._idIndexMap;n||(n=this._idIndexMap=re(),this._idIndexMapCount=0);var r=n.get(e);return r==null&&n.set(e,r=this._idIndexMapCount++),r},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;e&&(e===n||n.contains(e))||(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){hS(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(ze);function cS(i){var t=0;D(i.children,function(n){cS(n);var r=n.value;W(r)&&(r=r[0]),t+=r});var e=i.value;W(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),W(i.value)?i.value[0]=e:i.value=e}var $P=function(){function i(t){this.group=new oe,t.add(this.group)}return i.prototype.render=function(t,e,n,r){var o=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&n){var s=o.getModel("itemStyle"),l=s.getModel("textStyle"),u={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,l),this._renderContent(t,u,s,l,r),ju(a,u.pos,u.box)}},i.prototype._prepare=function(t,e,n){for(var r=t;r;r=r.parentNode){var o=dt(r.getModel().get("name"),""),a=n.getTextRect(o),s=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=s+8,e.renderList.push({node:r,text:o,width:s})}},i.prototype._renderContent=function(t,e,n,r,o){for(var a,s,l,u,h,c,p,d,f,g=0,y=e.emptyItemWidth,m=t.get(["breadcrumb","height"]),v=(a=e.pos,s=e.box,u=s.width,h=s.height,c=q(a.left,u),p=q(a.top,h),d=q(a.right,u),f=q(a.bottom,h),(isNaN(c)||isNaN(parseFloat(a.left)))&&(c=0),(isNaN(d)||isNaN(parseFloat(a.right)))&&(d=u),(isNaN(p)||isNaN(parseFloat(a.top)))&&(p=0),(isNaN(f)||isNaN(parseFloat(a.bottom)))&&(f=h),l=Hr(l||0),{width:Math.max(d-c-l[1]-l[3],0),height:Math.max(f-p-l[0]-l[2],0)}),_=e.totalWidth,x=e.renderList,b=x.length-1;b>=0;b--){var w=x[b],S=w.node,M=w.width,I=w.text;_>v.width&&(_-=M-y,M=y,I=null);var T=new Dt({shape:{points:JP(g,0,M,m,b===x.length-1,b===0)},style:J(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new Ie({style:{text:I,fill:r.getTextColor(),font:r.getFont()}}),textConfig:{position:"inside"},z2:1e5,onclick:he(o,S)});T.disableLabelAnimation=!0,this.group.add(T),QP(T,t,S),g+=M+8}},i.prototype.remove=function(){this.group.removeAll()},i}();function JP(i,t,e,n,r,o){var a=[[r?i:i-5,t],[i+e,t],[i+e,t+n],[r?i:i-5,t+n]];return!o&&a.splice(2,0,[i+e+5,t+n/2]),!r&&a.push([i,t+n/2]),a}function QP(i,t,e){se(i).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&kg(e,t)}}var eO=function(){function i(){this._storage=[],this._elExistsMap={}}return i.prototype.add=function(t,e,n,r,o){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:r,easing:o}),!0)},i.prototype.finished=function(t){return this._finishedCallback=t,this},i.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var a=this._storage[r];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:n,aborted:n})}return this},i}(),Pg=oe,pS=Se,dS="label",fS="upperLabel",oo=Cr([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),gS=function(t){var e=oo(t);return e.stroke=e.fill=e.lineWidth=null,e},$h=Ne(),tO=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return z(t,i),t.prototype.render=function(e,n,r,o){if(!(ie(n.findComponents({mainType:"series",subType:"treemap",query:o}),e)<0)){this.seriesModel=e,this.api=r,this.ecModel=n;var a=Sl(o,["treemapZoomToNode","treemapRootToNode"],e),s=o&&o.type,l=e.layoutInfo,u=!this._oldTree,h=this._storage,c=s==="treemapRootToNode"&&a&&h?{rootNodeGroup:h.nodeGroup[a.node.getRawIndex()],direction:o.direction}:null,p=this._giveContainerGroup(l),d=this._doRender(p,e,c);u||s&&s!=="treemapZoomToNode"&&s!=="treemapRootToNode"?d.renderFinally():this._doAnimation(p,d,e,c),this._resetController(r),this._renderBreadcrumb(e,r,a)}},t.prototype._giveContainerGroup=function(e){var n=this._containerGroup;return n||(n=this._containerGroup=new Pg,this._initEvents(n),this.group.add(n)),n.x=e.x,n.y=e.y,n},t.prototype._doRender=function(e,n,r){var o=n.getData().tree,a=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},u=this._storage,h=[];function c(d,f,g,y){return function(m,v,_,x,b,w,S,M,I,T){if(!S)return;var C=S.getLayout(),A=m.getData(),L=S.getModel();if(A.setItemGraphicEl(S.dataIndex,null),!C||!C.isInView)return;var k=C.width,P=C.height,O=C.borderWidth,R=C.invisible,N=S.getRawIndex(),E=M&&M.getRawIndex(),B=S.viewChildren,G=C.upperHeight,F=B&&B.length,H=L.getModel("itemStyle"),V=L.getModel(["emphasis","itemStyle"]),U=L.getModel(["blur","itemStyle"]),Y=L.getModel(["select","itemStyle"]),Z=H.get("borderRadius")||0,K=at("nodeGroup",Pg);if(!K)return;if(I.add(K),K.x=C.x||0,K.y=C.y||0,K.markRedraw(),$h(K).nodeWidth=k,$h(K).nodeHeight=P,C.isAboveViewRoot)return K;var $=at("background",pS,T,20);$&&Fe(K,$,F&&C.upperLabelHeight);var ne=L.get(["emphasis","focus"]),le=L.get(["emphasis","blurScope"]),fe=ne==="ancestor"?S.getAncestorsIndices():ne==="descendant"?S.getDescendantIndices():ne;if(F)Mu(K)&&zo(K,!1),$&&(zo($,!0),A.setItemGraphicEl(S.dataIndex,$),rd($,fe,le));else{var ge=at("content",pS,T,30);ge&&Ze(K,ge),$&&Mu($)&&zo($,!1),zo(K,!0),A.setItemGraphicEl(S.dataIndex,K),rd(K,fe,le)}return K;function Fe(Ee,ye,Le){var De=se(ye);if(De.dataIndex=S.dataIndex,De.seriesIndex=m.seriesIndex,ye.setShape({x:0,y:0,width:k,height:P,r:Z}),R)Ve(ye);else{ye.invisible=!1;var pe=S.getVisual("style"),gt=pe.stroke,pt=gS(H);pt.fill=gt;var qe=oo(V);qe.fill=V.get("borderColor");var Ot=oo(U);Ot.fill=U.get("borderColor");var Mi=oo(Y);if(Mi.fill=Y.get("borderColor"),Le){var Ra=k-2*O;He(ye,gt,pe.opacity,{x:O,y:0,width:Ra,height:G})}else ye.removeTextContent();ye.setStyle(pt),ye.ensureState("emphasis").style=qe,ye.ensureState("blur").style=Ot,ye.ensureState("select").style=Mi,Br(ye)}Ee.add(ye)}function Ze(Ee,ye){var Le=se(ye);Le.dataIndex=S.dataIndex,Le.seriesIndex=m.seriesIndex;var De=Math.max(k-2*O,0),pe=Math.max(P-2*O,0);if(ye.culling=!0,ye.setShape({x:O,y:O,width:De,height:pe,r:Z}),R)Ve(ye);else{ye.invisible=!1;var gt=S.getVisual("style"),pt=gt.fill,qe=gS(H);qe.fill=pt,qe.decal=gt.decal;var Ot=oo(V),Mi=oo(U),Ra=oo(Y);He(ye,pt,gt.opacity,null),ye.setStyle(qe),ye.ensureState("emphasis").style=Ot,ye.ensureState("blur").style=Mi,ye.ensureState("select").style=Ra,Br(ye)}Ee.add(ye)}function Ve(Ee){!Ee.invisible&&w.push(Ee)}function He(Ee,ye,Le,De){var pe=L.getModel(De?fS:dS),gt=dt(L.get("name"),null),pt=pe.getShallow("show");Lt(Ee,St(L,De?fS:dS),{defaultText:pt?gt:null,inheritColor:ye,defaultOpacity:Le,labelFetcher:m,labelDataIndex:S.dataIndex});var qe=Ee.getTextContent(),Ot=qe.style,Mi=$l(Ot.padding||0);De&&(Ee.setTextConfig({layoutRect:De}),qe.disableLabelLayout=!0),qe.beforeUpdate=function(){var G2=Math.max((De?De.width:Ee.shape.width)-Mi[1]-Mi[3],0),F2=Math.max((De?De.height:Ee.shape.height)-Mi[0]-Mi[2],0);Ot.width===G2&&Ot.height===F2||qe.setStyle({width:G2,height:F2})},Ot.truncateMinChar=2,Ot.lineOverflow="truncate",Je(Ot,De,C);var Ra=qe.getState("emphasis");Je(Ra?Ra.style:null,De,C)}function Je(Ee,ye,Le){var De=Ee?Ee.text:null;if(!ye&&Le.isLeafRoot&&De!=null){var pe=m.get("drillDownIcon",!0);Ee.text=pe?pe+" "+De:De}}function at(Ee,ye,Le,De){var pe=E!=null&&_[Ee][E],gt=b[Ee];return pe?(_[Ee][E]=null,jt(gt,pe)):R||((pe=new ye)instanceof Xn&&(pe.z2=function(pt,qe){return 100*pt+qe}(Le,De)),Ft(gt,pe)),v[Ee][N]=pe}function jt(Ee,ye){var Le=Ee[N]={};ye instanceof Pg?(Le.oldX=ye.x,Le.oldY=ye.y):Le.oldShape=X({},ye.shape)}function Ft(Ee,ye){var Le=Ee[N]={},De=S.parentNode,pe=ye instanceof oe;if(De&&(!x||x.direction==="drillDown")){var gt=0,pt=0,qe=b.background[De.getRawIndex()];!x&&qe&&qe.oldShape&&(gt=qe.oldShape.width,pt=qe.oldShape.height),pe?(Le.oldX=0,Le.oldY=pt):Le.oldShape={x:gt,y:pt,width:0,height:0}}Le.fadein=!pe}}(n,l,u,r,s,h,d,f,g,y)}(function d(f,g,y,m,v){m?(g=f,D(f,function(b,w){!b.isRemoved()&&x(w,w)})):new $i(g,f,_,_).add(x).update(x).remove(he(x,null)).execute();function _(b){return b.getId()}function x(b,w){var S=b!=null?f[b]:null,M=w!=null?g[w]:null,I=c(S,M,y,v);I&&d(S&&S.viewChildren||[],M&&M.viewChildren||[],I,m,v+1)}})(o.root?[o.root]:[],a&&a.root?[a.root]:[],e,o===a||!a,0);var p=function(d){var f={nodeGroup:[],background:[],content:[]};return d&&D(d,function(g,y){var m=f[y];D(g,function(v){v&&(m.push(v),$h(v).willDelete=!0)})}),f}(u);return this._oldTree=o,this._storage=l,{lastsForAnimation:s,willDeleteEls:p,renderFinally:function(){D(p,function(f){D(f,function(g){g.parent&&g.parent.remove(g)})}),D(h,function(f){f.invisible=!0,f.dirty()})}}},t.prototype._doAnimation=function(e,n,r,o){if(r.get("animation")){var a=r.get("animationDurationUpdate"),s=r.get("animationEasing"),l=(Pe(a)?0:a)||0,u=(Pe(s)?null:s)||"cubicOut",h=new eO;D(n.willDeleteEls,function(c,p){D(c,function(d,f){if(!d.invisible){var g,y=d.parent,m=$h(y);if(o&&o.direction==="drillDown")g=y===o.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var v=0,_=0;m.willDelete||(v=m.nodeWidth/2,_=m.nodeHeight/2),g=p==="nodeGroup"?{x:v,y:_,style:{opacity:0}}:{shape:{x:v,y:_,width:0,height:0},style:{opacity:0}}}g&&h.add(d,g,l,0,u)}})}),D(this._storage,function(c,p){D(c,function(d,f){var g=n.lastsForAnimation[p][f],y={};g&&(d instanceof oe?g.oldX!=null&&(y.x=d.x,y.y=d.y,d.x=g.oldX,d.y=g.oldY):(g.oldShape&&(y.shape=X({},d.shape),d.setShape(g.oldShape)),g.fadein?(d.setStyle("opacity",0),y.style={opacity:1}):d.style.opacity!==1&&(y.style={opacity:1})),h.add(d,y,l,0,u))})},this),this._state="animating",h.finished(Q(function(){this._state="ready",n.renderFinally()},this)).start()}},t.prototype._resetController=function(e){var n=this._controller;n||((n=this._controller=new xl(e.getZr())).enable(this.seriesModel.get("roam")),n.on("pan",Q(this._onPan,this)),n.on("zoom",Q(this._onZoom,this)));var r=new me(0,0,e.getWidth(),e.getHeight());n.setPointerChecker(function(o,a,s){return r.contain(a,s)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var r=n.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+e.dx,y:r.y+e.dy,width:r.width,height:r.height}})}},t.prototype._onZoom=function(e){var n=e.originX,r=e.originY;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var a=o.getLayout();if(!a)return;var s=new me(a.x,a.y,a.width,a.height),l=this.seriesModel.layoutInfo,u=[1,0,0,1,0,0];Ln(u,u,[-(n-=l.x),-(r-=l.y)]),eu(u,u,[e.scale,e.scale]),Ln(u,u,[n,r]),s.applyTransform(u),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},t.prototype._initEvents=function(e){var n=this;e.on("click",function(r){if(n._state==="ready"){var o=n.seriesModel.get("nodeClick",!0);if(o){var a=n.findTarget(r.offsetX,r.offsetY);if(a){var s=a.node;if(s.getLayout().isLeafRoot)n._rootToNode(a);else if(o==="zoomToNode")n._zoomToNode(a);else if(o==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),h=l.get("target",!0)||"blank";u&&Xu(u,h)}}}}},this)},t.prototype._renderBreadcrumb=function(e,n,r){var o=this;r||(r=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2))||(r={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new $P(this.group))).render(e,n,r.node,function(a){o._state!=="animating"&&(Lg(e.getViewRoot(),a)?o._rootToNode({node:a}):o._zoomToNode({node:a}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,n){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var a=this._storage.background[o.getRawIndex()];if(a){var s=a.transformCoordToLocal(e,n),l=a.shape;if(!(l.x<=s[0]&&s[0]<=l.x+l.width&&l.y<=s[1]&&s[1]<=l.y+l.height))return!1;r={node:o,offsetX:s[0],offsetY:s[1]}}},this),r},t.type="treemap",t}(Re),Ml=D,nO=ae,Og=-1,xt=function(){function i(t){var e=t.mappingMethod,n=t.type,r=this.option=te(t);this.type=n,this.mappingMethod=e,this._normalizeData=iO[e];var o=i.visualHandlers[n];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[e],e==="piecewise"?(Rg(r),function(a){var s=a.pieceList;a.hasSpecialVisual=!1,D(s,function(l,u){l.originIndex=u,l.visual!=null&&(a.hasSpecialVisual=!0)})}(r)):e==="category"?r.categories?function(a){var s=a.categories,l=a.categoryMap={},u=a.visual;if(Ml(s,function(p,d){l[p]=d}),!W(u)){var h=[];ae(u)?Ml(u,function(p,d){var f=l[d];h[f!=null?f:Og]=p}):h[-1]=u,u=mS(a,h)}for(var c=s.length-1;c>=0;c--)u[c]==null&&(delete l[s[c]],s.pop())}(r):Rg(r,!0):(Tt(e!=="linear"||r.dataExtent),Rg(r))}return i.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},i.prototype.getNormalizer=function(){return Q(this._normalizeData,this)},i.listVisualTypes=function(){return ke(i.visualHandlers)},i.isValidType=function(t){return i.visualHandlers.hasOwnProperty(t)},i.eachVisual=function(t,e,n){ae(t)?D(t,e,n):e.call(n,t)},i.mapVisual=function(t,e,n){var r,o=W(t)?[]:ae(t)?{}:(r=!0,null);return i.eachVisual(t,function(a,s){var l=e.call(n,a,s);r?o=l:o[s]=l}),o},i.retrieveVisuals=function(t){var e,n={};return t&&Ml(i.visualHandlers,function(r,o){t.hasOwnProperty(o)&&(n[o]=t[o],e=!0)}),e?n:null},i.prepareVisualTypes=function(t){if(W(t))t=t.slice();else{if(!nO(t))return[];var e=[];Ml(t,function(n,r){e.push(r)}),t=e}return t.sort(function(n,r){return r==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},i.dependsOn=function(t,e){return e==="color"?!(!t||t.indexOf(e)!==0):t===e},i.findPieceIndex=function(t,e,n){for(var r,o=1/0,a=0,s=e.length;a<s;a++){var l=e[a].value;if(l!=null){if(l===t||typeof l=="string"&&l===t+"")return a;n&&p(l,a)}}for(a=0,s=e.length;a<s;a++){var u=e[a],h=u.interval,c=u.close;if(h){if(h[0]===-1/0){if(Qh(c[1],t,h[1]))return a}else if(h[1]===1/0){if(Qh(c[0],h[0],t))return a}else if(Qh(c[0],h[0],t)&&Qh(c[1],t,h[1]))return a;n&&p(h[0],a),n&&p(h[1],a)}}if(n)return t===1/0?e.length-1:t===-1/0?0:r;function p(d,f){var g=Math.abs(d-t);g<o&&(o=g,r=f)}},i.visualHandlers={color:{applyVisual:Il("color"),getColorMapper:function(){var e=this.option;return Q(e.mappingMethod==="category"?function(n,r){return!r&&(n=this._normalizeData(n)),Tl.call(this,n)}:function(n,r,o){var a=!!o;return!r&&(n=this._normalizeData(n)),o=Ya(n,e.parsedVisual,o),a?o:Pn(o,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Pn(Ya(e,this.option.parsedVisual),"rgba")},category:Tl,piecewise:function(e,n){var r=Eg.call(this,n);return r==null&&(r=Pn(Ya(e,this.option.parsedVisual),"rgba")),r},fixed:ao}},colorHue:Jh(function(t,e){return Lo(t,e)}),colorSaturation:Jh(function(t,e){return Lo(t,null,e)}),colorLightness:Jh(function(t,e){return Lo(t,null,null,e)}),colorAlpha:Jh(function(t,e){return Xa(t,e)}),decal:{applyVisual:Il("decal"),_normalizedToVisual:{linear:null,category:Tl,piecewise:null,fixed:null}},opacity:{applyVisual:Il("opacity"),_normalizedToVisual:Ng([0,1])},liftZ:{applyVisual:Il("liftZ"),_normalizedToVisual:{linear:ao,category:ao,piecewise:ao,fixed:ao}},symbol:{applyVisual:function(e,n,r){r("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:yS,category:Tl,piecewise:function(e,n){var r=Eg.call(this,n);return r==null&&(r=yS.call(this,e)),r},fixed:ao}},symbolSize:{applyVisual:Il("symbolSize"),_normalizedToVisual:Ng([0,1])}},i}();function Rg(i,t){var e=i.visual,n=[];ae(e)?Ml(e,function(r){n.push(r)}):e!=null&&n.push(e),t||n.length!==1||{color:1,symbol:1}.hasOwnProperty(i.type)||(n[1]=n[0]),mS(i,n)}function Jh(i){return{applyVisual:function(e,n,r){var o=this.mapValueToVisual(e);r("color",i(n("color"),o))},_normalizedToVisual:Ng([0,1])}}function yS(i){var t=this.option.visual;return t[Math.round(Oe(i,[0,1],[0,t.length-1],!0))]||{}}function Il(i){return function(t,e,n){n(i,this.mapValueToVisual(t))}}function Tl(i){var t=this.option.visual;return t[this.option.loop&&i!==Og?i%t.length:i]}function ao(){return this.option.visual[0]}function Ng(i){return{linear:function(e){return Oe(e,i,this.option.visual,!0)},category:Tl,piecewise:function(e,n){var r=Eg.call(this,n);return r==null&&(r=Oe(e,i,this.option.visual,!0)),r},fixed:ao}}function Eg(i){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var n=e[xt.findPieceIndex(i,e)];if(n&&n.visual)return n.visual[this.type]}}function mS(i,t){return i.visual=t,i.type==="color"&&(i.parsedVisual=j(t,function(e){return Rt(e)})),t}var iO={linear:function(t){return Oe(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=xt.findPieceIndex(t,e,!0);if(n!=null)return Oe(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return e==null?Og:e},fixed:sn};function Qh(i,t,e){return i?t<=e:t<e}var vS=Ne(),rO={seriesType:"treemap",reset:function(t){var e=t.getData().tree.root;e.isRemoved()||_S(e,{},t.getViewRoot().getAncestors(),t)}};function _S(i,t,e,n){var r=i.getModel(),o=i.getLayout(),a=i.hostTree.data;if(o&&!o.invisible&&o.isInView){var s,l=r.getModel("itemStyle"),u=function(g,y,m){var v=X({},y),_=m.designatedVisualItemStyle;return D(["color","colorAlpha","colorSaturation"],function(x){_[x]=y[x];var b=g.get(x);_[x]=null,b!=null&&(v[x]=b)}),v}(l,t,n),h=a.ensureUniqueItemVisual(i.dataIndex,"style"),c=l.get("borderColor"),p=l.get("borderColorSaturation");p!=null&&(c=function(g,y){return y!=null?Lo(y,null,null,g):null}(p,s=xS(u))),h.stroke=c;var d=i.viewChildren;if(d&&d.length){var f=function(g,y,m,v,_,x){if(!(!x||!x.length)){var b=Bg(y,"color")||_.color!=null&&_.color!=="none"&&(Bg(y,"colorAlpha")||Bg(y,"colorSaturation"));if(!!b){var w=y.get("visualMin"),S=y.get("visualMax"),M=m.dataExtent.slice();w!=null&&w<M[0]&&(M[0]=w),S!=null&&S>M[1]&&(M[1]=S);var I=y.get("colorMappingBy"),T={type:b.name,dataExtent:M,visual:b.range};T.type!=="color"||I!=="index"&&I!=="id"?T.mappingMethod="linear":(T.mappingMethod="category",T.loop=!0);var C=new xt(T);return vS(C).drColorMappingBy=I,C}}}(0,r,o,0,u,d);D(d,function(g,y){if(g.depth>=e.length||g===e[g.depth]){var m=function(v,_,x,b,w,S){var M=X({},_);if(w){var I=w.type,T=I==="color"&&vS(w).drColorMappingBy,C=T==="index"?b:T==="id"?S.mapIdToIndex(x.getId()):x.getValue(v.get("visualDimension"));M[I]=w.mapValueToVisual(C)}return M}(r,u,g,y,f,n);_S(g,m,e,n)}})}else s=xS(u),h.fill=s}}function xS(i){var t=zg(i,"color");if(t){var e=zg(i,"colorAlpha"),n=zg(i,"colorSaturation");return n&&(t=Lo(t,null,null,n)),e&&(t=Xa(t,e)),t}}function zg(i,t){var e=i[t];if(e!=null&&e!=="none")return e}function Bg(i,t){var e=i.get(t);return W(e)&&e.length?{name:t,range:e}:null}var Cl=Math.max,ec=Math.min,bS=yt,Vg=D,wS=["itemStyle","borderWidth"],oO=["itemStyle","gapWidth"],aO=["upperLabel","show"],sO=["upperLabel","height"],lO={seriesType:"treemap",reset:function(t,e,n,r){var o=n.getWidth(),a=n.getHeight(),s=t.option,l=ht(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=s.size||[],h=q(bS(l.width,u[0]),o),c=q(bS(l.height,u[1]),a),p=r&&r.type,d=Sl(r,["treemapZoomToNode","treemapRootToNode"],t),f=p==="treemapRender"||p==="treemapMove"?r.rootRect:null,g=t.getViewRoot(),y=lS(g);if(p!=="treemapMove"){var m=p==="treemapZoomToNode"?function(w,S,M,I,T){var C,A=(S||{}).node,L=[I,T];if(!A||A===M)return L;for(var k=I*T,P=k*w.option.zoomToNodeRatio;C=A.parentNode;){for(var O=0,R=C.children,N=0,E=R.length;N<E;N++)O+=R[N].getValue();var B=A.getValue();if(B===0)return L;P*=O/B;var G=C.getModel(),F=G.get(wS);(P+=4*F*F+(3*F+Math.max(F,TS(G)))*Math.pow(P,.5))>Mp&&(P=Mp),A=C}P<k&&(P=k);var H=Math.pow(P/k,.5);return[I*H,T*H]}(t,d,g,h,c):f?[f.width,f.height]:[h,c],v=s.sort;v&&v!=="asc"&&v!=="desc"&&(v="desc");var _={squareRatio:s.squareRatio,sort:v,leafDepth:s.leafDepth};g.hostTree.clearLayouts();var x={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};g.setLayout(x),SS(g,_,!1,0),x=g.getLayout(),Vg(y,function(w,S){var M=(y[S+1]||g).getValue();w.setLayout(X({dataExtent:[M,M],borderWidth:0,upperHeight:0},x))})}var b=t.getData().tree.root;b.setLayout(function(w,S,M){if(S)return{x:S.x,y:S.y};var I={x:0,y:0};if(!M)return I;var T=M.node,C=T.getLayout();if(!C)return I;for(var A=[C.width/2,C.height/2],L=T;L;){var k=L.getLayout();A[0]+=k.x,A[1]+=k.y,L=L.parentNode}return{x:w.width/2-A[0],y:w.height/2-A[1]}}(l,f,d),!0),t.setLayoutInfo(l),IS(b,new me(-l.x,-l.y,o,a),y,g,0)}};function SS(i,t,e,n){var r,o;if(!i.isRemoved()){var a=i.getLayout();r=a.width,o=a.height;var s=i.getModel(),l=s.get(wS),u=s.get(oO)/2,h=TS(s),c=Math.max(l,h),p=l-u,d=c-u;i.setLayout({borderWidth:l,upperHeight:c,upperLabelHeight:h},!0);var f=(r=Cl(r-2*p,0))*(o=Cl(o-p-d,0)),g=function(I,T,C,A,L,k){var P=I.children||[],O=A.sort;O!=="asc"&&O!=="desc"&&(O=null);var R=A.leafDepth!=null&&A.leafDepth<=k;if(L&&!R)return I.viewChildren=[];(function(F,H){H&&F.sort(function(V,U){var Y=H==="asc"?V.getValue()-U.getValue():U.getValue()-V.getValue();return Y===0?H==="asc"?V.dataIndex-U.dataIndex:U.dataIndex-V.dataIndex:Y})})(P=Ke(P,function(F){return!F.isRemoved()}),O);var N=function(F,H,V){for(var U=0,Y=0,Z=H.length;Y<Z;Y++)U+=H[Y].getValue();var K,$=F.get("visualDimension");return H&&H.length?$==="value"&&V?(K=[H[H.length-1].getValue(),H[0].getValue()],V==="asc"&&K.reverse()):(K=[1/0,-1/0],Vg(H,function(ne){var le=ne.getValue($);le<K[0]&&(K[0]=le),le>K[1]&&(K[1]=le)})):K=[NaN,NaN],{sum:U,dataExtent:K}}(T,P,O);if(N.sum===0)return I.viewChildren=[];if(N.sum=function(F,H,V,U,Y){if(!U)return V;for(var Z=F.get("visibleMin"),K=Y.length,$=K,ne=K-1;ne>=0;ne--){var le=Y[U==="asc"?K-ne-1:ne].getValue();le/V*H<Z&&($=ne,V-=le)}return U==="asc"?Y.splice(0,K-$):Y.splice($,K-$),V}(T,C,N.sum,O,P),N.sum===0)return I.viewChildren=[];for(var E=0,B=P.length;E<B;E++){var G=P[E].getValue()/N.sum*C;P[E].setLayout({area:G})}return R&&(P.length&&I.setLayout({isLeafRoot:!0},!0),P.length=0),I.viewChildren=P,I.setLayout({dataExtent:N.dataExtent},!0),P}(i,s,f,t,e,n);if(g.length){var y={x:p,y:d,width:r,height:o},m=ec(r,o),v=1/0,_=[];_.area=0;for(var x=0,b=g.length;x<b;){var w=g[x];_.push(w),_.area+=w.getLayout().area;var S=uO(_,m,t.squareRatio);S<=v?(x++,v=S):(_.area-=_.pop().getLayout().area,MS(_,m,y,u,!1),m=ec(y.width,y.height),_.length=_.area=0,v=1/0)}if(_.length&&MS(_,m,y,u,!0),!e){var M=s.get("childrenVisibleMin");M!=null&&f<M&&(e=!0)}for(x=0,b=g.length;x<b;x++)SS(g[x],t,e,n+1)}}}function uO(i,t,e){for(var n=0,r=1/0,o=0,a=void 0,s=i.length;o<s;o++)(a=i[o].getLayout().area)&&(a<r&&(r=a),a>n&&(n=a));var l=i.area*i.area,u=t*t*e;return l?Cl(u*n/l,l/(u*r)):1/0}function MS(i,t,e,n,r){var o=t===e.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=e[s[o]],h=t?i.area/t:0;(r||h>e[l[a]])&&(h=e[l[a]]);for(var c=0,p=i.length;c<p;c++){var d=i[c],f={},g=h?d.getLayout().area/h:0,y=f[l[a]]=Cl(h-2*n,0),m=e[s[o]]+e[l[o]]-u,v=c===p-1||m<g?m:g,_=f[l[o]]=Cl(v-2*n,0);f[s[a]]=e[s[a]]+ec(n,y/2),f[s[o]]=u+ec(n,_/2),u+=v,d.setLayout(f,!0)}e[s[a]]+=h,e[l[a]]-=h}function IS(i,t,e,n,r){var o=i.getLayout(),a=e[r],s=a&&a===i;if(!(a&&!s||r===e.length&&i!==n)){i.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var l=new me(t.x-o.x,t.y-o.y,t.width,t.height);Vg(i.viewChildren||[],function(u){IS(u,l,e,n,r+1)})}}function TS(i){return i.get(aO)?i.get(sO):0}function hO(i){var t=i.findComponents({mainType:"legend"});t&&t.length&&i.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),r=e.getGraph().data,o=n.mapArray(n.getName);r.filterSelf(function(a){var s=r.getItemModel(a).getShallow("category");if(s!=null){typeof s=="number"&&(s=o[s]);for(var l=0;l<t.length;l++)if(!t[l].isSelected(s))return!1}return!0})})}function cO(i){var t={};i.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),r=e.getData(),o={};n.each(function(a){var s=n.getName(a);o["ec-"+s]=a;var l=n.getItemModel(a),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(s,t)),n.setItemVisual(a,"style",u);for(var h=["symbol","symbolSize","symbolKeepAspect"],c=0;c<h.length;c++){var p=l.getShallow(h[c],!0);p!=null&&n.setItemVisual(a,h[c],p)}}),n.count()&&r.each(function(a){var s=r.getItemModel(a).getShallow("category");if(s!=null){typeof s=="string"&&(s=o["ec-"+s]);var l=n.getItemVisual(s,"style");X(r.ensureUniqueItemVisual(a,"style"),l);for(var u=["symbol","symbolSize","symbolKeepAspect"],h=0;h<u.length;h++)r.setItemVisual(a,u[h],n.getItemVisual(s,u[h]))}})})}function tc(i){return i instanceof Array||(i=[i,i]),i}function pO(i){i.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),r=tc(t.get("edgeSymbol")),o=tc(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",o&&o[0]),n.setVisual("toSymbolSize",o&&o[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(a){var s=n.getItemModel(a),l=e.getEdgeByIndex(a),u=tc(s.getShallow("symbol",!0)),h=tc(s.getShallow("symbolSize",!0)),c=s.getModel("lineStyle").getLineStyle(),p=n.ensureUniqueItemVisual(a,"style");switch(X(p,c),p.stroke){case"source":var d=l.node1.getVisual("style");p.stroke=d&&d.fill;break;case"target":d=l.node2.getVisual("style"),p.stroke=d&&d.fill}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),h[0]&&l.setVisual("fromSymbolSize",h[0]),h[1]&&l.setVisual("toSymbolSize",h[1])})})}var Gg="-->",nc=function(t){return t.get("autoCurveness")||null},CS=function(t,e){var n=nc(t),r=20,o=[];if(typeof n=="number")r=n;else if(W(n))return void(t.__curvenessList=n);e>r&&(r=e);var a=r%2?r+2:r+3;o=[];for(var s=0;s<a;s++)o.push((s%2?s+1:s)/10*(s%2?-1:1));t.__curvenessList=o},Al=function(t,e,n){var r=[t.id,t.dataIndex].join("."),o=[e.id,e.dataIndex].join(".");return[n.uid,r,o].join(Gg)},AS=function(t){var e=t.split(Gg);return[e[0],e[2],e[1]].join(Gg)},Fg=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function Hg(i,t,e,n){var r=nc(t),o=W(r);if(!r)return null;var a=function(y,m){var v=Al(y.node1,y.node2,m);return m.__edgeMap[v]}(i,t);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===e){s=l;break}var u=function(y,m){return Fg(Al(y.node1,y.node2,m),m)+Fg(Al(y.node2,y.node1,m),m)}(i,t);CS(t,u),i.lineStyle=i.lineStyle||{};var h=Al(i.node1,i.node2,t),c=t.__curvenessList,p=o||u%2?0:1;if(a.isForward)return c[p+s];var d=AS(h),f=Fg(d,t),g=c[s+f+p];return n?o?r&&r[0]===0?(f+p)%2?g:-g:((f%2?0:1)+p)%2?g:-g:(f+p)%2?g:-g:c[s+f+p]}function DS(i){var t=i.coordinateSystem;if(!t||t.type==="view"){var e=i.getGraph();e.eachNode(function(n){var r=n.getModel();n.setLayout([+r.get("x"),+r.get("y")])}),LS(e,i)}}function LS(i,t){i.eachEdge(function(e,n){var r=Hn(e.getModel().get(["lineStyle","curveness"]),-Hg(e,t,n,!0),0),o=Wn(e.node1.getLayout()),a=Wn(e.node2.getLayout()),s=[o,a];+r&&s.push([(o[0]+a[0])/2-(o[1]-a[1])*r,(o[1]+a[1])/2-(a[0]-o[0])*r]),e.setLayout(s)})}function dO(i,t){i.eachSeriesByType("graph",function(e){var n=e.get("layout"),r=e.coordinateSystem;if(r&&r.type!=="view"){var o=e.getData(),a=[];D(r.dimensions,function(p){a=a.concat(o.mapDimensionsAll(p))});for(var s=0;s<o.count();s++){for(var l=[],u=!1,h=0;h<a.length;h++){var c=o.get(a[h],s);isNaN(c)||(u=!0),l.push(c)}u?o.setItemLayout(s,r.dataToPoint(l)):o.setItemLayout(s,[NaN,NaN])}LS(o.graph,e)}else n&&n!=="none"||DS(e)})}function Dl(i){var t=i.coordinateSystem;if(t.type!=="view")return 1;var e=i.option.nodeScaleRatio,n=t.scaleX;return((t.getZoom()-1)*e+1)/n}function Ll(i){var t=i.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var kS=Math.PI,Wg=[];function PS(i,t){var e=i.coordinateSystem;if(!e||e.type==="view"){var n=e.getBoundingRect(),r=i.getData(),o=r.graph,a=n.width/2+n.x,s=n.height/2+n.y,l=Math.min(n.width,n.height)/2,u=r.count();r.setLayout({cx:a,cy:s}),u&&(fO[t](i,o,r,l,a,s,u),o.eachEdge(function(h,c){var p,d=Hn(h.getModel().get(["lineStyle","curveness"]),Hg(h,i,c),0),f=Wn(h.node1.getLayout()),g=Wn(h.node2.getLayout()),y=(f[0]+g[0])/2,m=(f[1]+g[1])/2;+d&&(p=[a*(d*=3)+y*(1-d),s*d+m*(1-d)]),h.setLayout([f,g,p])}))}}var fO={value:function(t,e,n,r,o,a,s){var l=0,u=n.getSum("value"),h=2*Math.PI/(u||s);e.eachNode(function(c){var p=c.getValue("value"),d=h*(u?p:1)/2;l+=d,c.setLayout([r*Math.cos(l)+o,r*Math.sin(l)+a]),l+=d})},symbolSize:function(t,e,n,r,o,a,s){var l=0;Wg.length=s;var u=Dl(t);e.eachNode(function(p){var d=Ll(p);isNaN(d)&&(d=2),d<0&&(d=0),d*=u;var f=Math.asin(d/2/r);isNaN(f)&&(f=kS/2),Wg[p.dataIndex]=f,l+=2*f});var h=(2*kS-l)/s/2,c=0;e.eachNode(function(p){var d=h+Wg[p.dataIndex];c+=d,p.setLayout([r*Math.cos(c)+o,r*Math.sin(c)+a]),c+=d})}};function gO(i){i.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&PS(t,"symbolSize")})}var ba=Jl;function yO(i){i.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||e.type==="view")if(t.get("layout")==="force"){var n=t.preservedPoints||{},r=t.getGraph(),o=r.data,a=r.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?o.each(function(_){var x=o.getId(_);o.setItemLayout(_,n[x]||[NaN,NaN])}):l&&l!=="none"?l==="circular"&&PS(t,"value"):DS(t);var u=o.getDataExtent("value"),h=a.getDataExtent("value"),c=s.get("repulsion"),p=s.get("edgeLength"),d=W(c)?c:[c,c],f=W(p)?p:[p,p];f=[f[1],f[0]];var g=o.mapArray("value",function(_,x){var b=o.getItemLayout(x),w=Oe(_,u,d);return isNaN(w)&&(w=(d[0]+d[1])/2),{w,rep:w,fixed:o.getItemModel(x).get("fixed"),p:!b||isNaN(b[0])||isNaN(b[1])?null:b}}),y=a.mapArray("value",function(_,x){var b=r.getEdgeByIndex(x),w=Oe(_,h,f);isNaN(w)&&(w=(f[0]+f[1])/2);var S=b.getModel(),M=Hn(b.getModel().get(["lineStyle","curveness"]),-Hg(b,t,x,!0),0);return{n1:g[b.node1.dataIndex],n2:g[b.node2.dataIndex],d:w,curveness:M,ignoreForceLayout:S.get("ignoreForceLayout")}}),m=e.getBoundingRect(),v=function(_,x,b){for(var w=_,S=x,M=b.rect,I=M.width,T=M.height,C=[M.x+I/2,M.y+T/2],A=b.gravity==null?.1:b.gravity,L=0;L<w.length;L++){var k=w[L];k.p||(k.p=Ti(I*(Math.random()-.5)+C[0],T*(Math.random()-.5)+C[1])),k.pp=Wn(k.p),k.edges=null}var P,O,R=b.friction==null?.6:b.friction,N=R;return{warmUp:function(){N=.8*R},setFixed:function(B){w[B].fixed=!0},setUnfixed:function(B){w[B].fixed=!1},beforeStep:function(B){P=B},afterStep:function(B){O=B},step:function(B){P&&P(w,S);for(var G=[],F=w.length,H=0;H<S.length;H++){var V=S[H];if(!V.ignoreForceLayout){var U=V.n1;Ci(G,($=V.n2).p,U.p);var Y=Va(G)-V.d,Z=$.w/(U.w+$.w);isNaN(Z)&&(Z=0),Mo(G,G),!U.fixed&&ba(U.p,U.p,G,Z*Y*N),!$.fixed&&ba($.p,$.p,G,-(1-Z)*Y*N)}}for(H=0;H<F;H++)(fe=w[H]).fixed||(Ci(G,C,fe.p),ba(fe.p,fe.p,G,A*N));for(H=0;H<F;H++){U=w[H];for(var K=H+1;K<F;K++){var $;Ci(G,($=w[K]).p,U.p),(Y=Va(G))===0&&(Ym(G,Math.random()-.5,Math.random()-.5),Y=1);var ne=(U.rep+$.rep)/Y/Y;!U.fixed&&ba(U.pp,U.pp,G,ne),!$.fixed&&ba($.pp,$.pp,G,-ne)}}var le=[];for(H=0;H<F;H++){var fe;(fe=w[H]).fixed||(Ci(le,fe.p,fe.pp),ba(fe.p,fe.p,le,N),Ct(fe.pp,fe.p))}var ge=(N*=.992)<.01;O&&O(w,S,ge),B&&B(ge)}}}(g,y,{rect:m,gravity:s.get("gravity"),friction:s.get("friction")});v.beforeStep(function(_,x){for(var b=0,w=_.length;b<w;b++)_[b].fixed&&Ct(_[b].p,r.getNodeByIndex(b).getLayout())}),v.afterStep(function(_,x,b){for(var w=0,S=_.length;w<S;w++)_[w].fixed||r.getNodeByIndex(w).setLayout(_[w].p),n[o.getId(w)]=_[w].p;for(w=0,S=x.length;w<S;w++){var M=x[w],I=r.getEdgeByIndex(w),T=M.n1.p,C=M.n2.p,A=I.getLayout();(A=A?A.slice():[])[0]=A[0]||[],A[1]=A[1]||[],Ct(A[0],T),Ct(A[1],C),+M.curveness&&(A[2]=[(T[0]+C[0])/2-(T[1]-C[1])*M.curveness,(T[1]+C[1])/2-(C[0]-T[0])*M.curveness]),I.setLayout(A)}}),t.forceLayout=v,t.preservedPoints=n,v.step()}else t.forceLayout=null})}function mO(i,t){var e=[];return i.eachSeriesByType("graph",function(n){var r=n.get("coordinateSystem");if(!r||r==="view"){var o=n.getData(),a=[],s=[];Xp(o.mapArray(function(g){var y=o.getItemModel(g);return[+y.get("x"),+y.get("y")]}),a,s),s[0]-a[0]==0&&(s[0]+=1,a[0]-=1),s[1]-a[1]==0&&(s[1]+=1,a[1]-=1);var l=(s[0]-a[0])/(s[1]-a[1]),u=function(g,y,m){return ht(X(g.getBoxLayoutParams(),{aspect:m}),{width:y.getWidth(),height:y.getHeight()})}(n,t,l);isNaN(l)&&(a=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var h=s[0]-a[0],c=s[1]-a[1],p=u.width,d=u.height,f=n.coordinateSystem=new xa;f.zoomLimit=n.get("scaleLimit"),f.setBoundingRect(a[0],a[1],h,c),f.setViewRect(u.x,u.y,p,d),f.setCenter(n.get("center")),f.setZoom(n.get("zoom")),e.push(f)}}),e}var OS=ft.prototype,Ug=Fo.prototype,RS=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};(function(i){function t(){return i!==null&&i.apply(this,arguments)||this}z(t,i)})(RS);function Yg(i){return isNaN(+i.cpx1)||isNaN(+i.cpy1)}var vO=function(i){function t(e){var n=i.call(this,e)||this;return n.type="ec-line",n}return z(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new RS},t.prototype.buildPath=function(e,n){Yg(n)?OS.buildPath.call(this,e,n):Ug.buildPath.call(this,e,n)},t.prototype.pointAt=function(e){return Yg(this.shape)?OS.pointAt.call(this,e):Ug.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var n=this.shape,r=Yg(n)?[n.x2-n.x1,n.y2-n.y1]:Ug.tangentAt.call(this,e);return Mo(r,r)},t}(Me),Xg=["fromSymbol","toSymbol"];function NS(i){return"_"+i+"Type"}function ES(i,t,e){var n=t.getItemVisual(e,i);if(n&&n!=="none"){var r=t.getItemVisual(e,i+"Size"),o=t.getItemVisual(e,i+"Rotate"),a=t.getItemVisual(e,i+"Offset")||0,s=t.getItemVisual(e,i+"KeepAspect"),l=W(r)?r:[r,r],u=W(a)?a:[a,a];u[0]=q(u[0],l[0]),u[1]=q(we(u[1],u[0]),l[1]);var h=ot(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return h.__specifiedRotation=o==null||isNaN(o)?void 0:+o*Math.PI/180||0,h.name=i,h}}function Zg(i,t){i.x1=t[0][0],i.y1=t[0][1],i.x2=t[1][0],i.y2=t[1][1],i.percent=1;var e=t[2];e?(i.cpx1=e[0],i.cpy1=e[1]):(i.cpx1=NaN,i.cpy1=NaN)}var jg=function(i){function t(e,n,r){var o=i.call(this)||this;return o._createLine(e,n,r),o}return z(t,i),t.prototype._createLine=function(e,n,r){var o=e.hostModel,a=function(s){var l=new vO({name:"line",subPixelOptimize:!0});return Zg(l.shape,s),l}(e.getItemLayout(n));a.shape.percent=0,$e(a,{shape:{percent:1}},o,n),this.add(a),D(Xg,function(s){var l=ES(s,e,n);this.add(l),this[NS(s)]=e.getItemVisual(n,s)},this),this._updateCommonStl(e,n,r)},t.prototype.updateData=function(e,n,r){var o=e.hostModel,a=this.childOfName("line"),s=e.getItemLayout(n),l={shape:{}};Zg(l.shape,s),Te(a,l,o,n),D(Xg,function(u){var h=e.getItemVisual(n,u),c=NS(u);if(this[c]!==h){this.remove(this.childOfName(u));var p=ES(u,e,n);this.add(p)}this[c]=h},this),this._updateCommonStl(e,n,r)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,n,r){var o=e.hostModel,a=this.childOfName("line"),s=r&&r.emphasisLineStyle,l=r&&r.blurLineStyle,u=r&&r.selectLineStyle,h=r&&r.labelStatesModels;if(!r||e.hasItemOption){var c=e.getItemModel(n);s=c.getModel(["emphasis","lineStyle"]).getLineStyle(),l=c.getModel(["blur","lineStyle"]).getLineStyle(),u=c.getModel(["select","lineStyle"]).getLineStyle(),h=St(c)}var p=e.getItemVisual(n,"style"),d=p.stroke;a.useStyle(p),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,a.ensureState("blur").style=l,a.ensureState("select").style=u,D(Xg,function(v){var _=this.childOfName(v);if(_){_.setColor(d),_.style.opacity=p.opacity;for(var x=0;x<Qt.length;x++){var b=Qt[x],w=a.getState(b);if(w){var S=w.style||{},M=_.ensureState(b),I=M.style||(M.style={});S.stroke!=null&&(I[_.__isEmptyBrush?"stroke":"fill"]=S.stroke),S.opacity!=null&&(I.opacity=S.opacity)}}_.markRedraw()}},this);var f=o.getRawValue(n);Lt(this,h,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(_,x){return o.getFormattedLabel(_,x,e.dataType)}},inheritColor:d||"#000",defaultOpacity:p.opacity,defaultText:(f==null?e.getName(n):isFinite(f)?vt(f):f)+""});var g=this.getTextContent();if(g){var y=h.normal;g.__align=g.style.align,g.__verticalAlign=g.style.verticalAlign,g.__position=y.get("position")||"middle";var m=y.get("distance");W(m)||(m=[m,m]),g.__labelDistance=m}this.setTextConfig({position:null,local:!0,inside:!1}),Ge(this)},t.prototype.highlight=function(){Jn(this)},t.prototype.downplay=function(){Qn(this)},t.prototype.updateLayout=function(e,n){this.setLinePoints(e.getItemLayout(n))},t.prototype.setLinePoints=function(e){var n=this.childOfName("line");Zg(n.shape,e),n.dirty()},t.prototype.beforeUpdate=function(){var e=this,n=e.childOfName("fromSymbol"),r=e.childOfName("toSymbol"),o=e.getTextContent();if(n||r||o&&!o.ignore){for(var a=1,s=this.parent;s;)s.scaleX&&(a/=s.scaleX),s=s.parent;var l=e.childOfName("line");if(this.__dirty||l.__dirty){var u=l.shape.percent,h=l.pointAt(0),c=l.pointAt(u),p=Ci([],c,h);if(Mo(p,p),n&&(n.setPosition(h),I(n,0),n.scaleX=n.scaleY=a*u,n.markRedraw()),r&&(r.setPosition(c),I(r,1),r.scaleX=r.scaleY=a*u,r.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var d=void 0,f=void 0,g=o.__labelDistance,y=g[0]*a,m=g[1]*a,v=u/2,_=l.tangentAt(v),x=[_[1],-_[0]],b=l.pointAt(v);x[1]>0&&(x[0]=-x[0],x[1]=-x[1]);var w=_[0]<0?-1:1;if(o.__position!=="start"&&o.__position!=="end"){var S=-Math.atan2(_[1],_[0]);c[0]<h[0]&&(S=Math.PI+S),o.rotation=S}var M=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":M=-m,f="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":M=m,f="top";break;default:M=0,f="middle"}switch(o.__position){case"end":o.x=p[0]*y+c[0],o.y=p[1]*m+c[1],d=p[0]>.8?"left":p[0]<-.8?"right":"center",f=p[1]>.8?"top":p[1]<-.8?"bottom":"middle";break;case"start":o.x=-p[0]*y+h[0],o.y=-p[1]*m+h[1],d=p[0]>.8?"right":p[0]<-.8?"left":"center",f=p[1]>.8?"bottom":p[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=y*w+h[0],o.y=h[1]+M,d=_[0]<0?"right":"left",o.originX=-y*w,o.originY=-M;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=b[0],o.y=b[1]+M,d="center",o.originY=-M;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-y*w+c[0],o.y=c[1]+M,d=_[0]>=0?"right":"left",o.originX=y*w,o.originY=-M}o.scaleX=o.scaleY=a,o.setStyle({verticalAlign:o.__verticalAlign||f,align:o.__align||d})}}}function I(T,C){var A=T.__specifiedRotation;if(A==null){var L=l.tangentAt(C);T.attr("rotation",(C===1?-1:1)*Math.PI/2-Math.atan2(L[1],L[0]))}else T.attr("rotation",A)}},t}(oe),qg=function(){function i(t){this.group=new oe,this._LineCtor=t||jg}return i.prototype.isPersistent=function(){return!0},i.prototype.updateData=function(t){var e=this,n=this,r=n.group,o=n._lineData;n._lineData=t,o||r.removeAll();var a=zS(t);t.diff(o).add(function(s){e._doAdd(t,s,a)}).update(function(s,l){e._doUpdate(o,t,l,s,a)}).remove(function(s){r.remove(o.getItemGraphicEl(s))}).execute()},i.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},i.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=zS(t),this._lineData=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(t,e){function n(a){a.isGroup||function(s){return s.animators&&s.animators.length>0}(a)||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}for(var r=t.start;r<t.end;r++)if(Kg(e.getItemLayout(r))){var o=new this._LineCtor(e,r,this._seriesScope);o.traverse(n),this.group.add(o),e.setItemGraphicEl(r,o)}},i.prototype.remove=function(){this.group.removeAll()},i.prototype._doAdd=function(t,e,n){if(Kg(t.getItemLayout(e))){var r=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,r),this.group.add(r)}},i.prototype._doUpdate=function(t,e,n,r,o){var a=t.getItemGraphicEl(n);Kg(e.getItemLayout(r))?(a?a.updateData(e,r,o):a=new this._LineCtor(e,r,o),e.setItemGraphicEl(r,a),this.group.add(a)):this.group.remove(a)},i}();function zS(i){var t=i.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:St(t)}}function BS(i){return isNaN(i[0])||isNaN(i[1])}function Kg(i){return!BS(i[0])&&!BS(i[1])}var $g=[],Jg=[],Qg=[],wa=wt,ey=Ai,VS=Math.abs;function GS(i,t,e){for(var n,r=i[0],o=i[1],a=i[2],s=1/0,l=e*e,u=.1,h=.1;h<=.9;h+=.1)$g[0]=wa(r[0],o[0],a[0],h),$g[1]=wa(r[1],o[1],a[1],h),(d=VS(ey($g,t)-l))<s&&(s=d,n=h);for(var c=0;c<32;c++){var p=n+u;Jg[0]=wa(r[0],o[0],a[0],n),Jg[1]=wa(r[1],o[1],a[1],n),Qg[0]=wa(r[0],o[0],a[0],p),Qg[1]=wa(r[1],o[1],a[1],p);var d=ey(Jg,t)-l;if(VS(d)<.01)break;var f=ey(Qg,t)-l;u/=2,d<0?f>=0?n+=u:n-=u:f>=0?n-=u:n+=u}return n}function ty(i,t){var e=[],n=ls,r=[[],[],[]],o=[[],[]],a=[];t/=2,i.eachEdge(function(s,l){var u=s.getLayout(),h=s.getVisual("fromSymbol"),c=s.getVisual("toSymbol");u.__original||(u.__original=[Wn(u[0]),Wn(u[1])],u[2]&&u.__original.push(Wn(u[2])));var p=u.__original;if(u[2]!=null){if(Ct(r[0],p[0]),Ct(r[1],p[2]),Ct(r[2],p[1]),h&&h!=="none"){var d=Ll(s.node1),f=GS(r,p[0],d*t);n(r[0][0],r[1][0],r[2][0],f,e),r[0][0]=e[3],r[1][0]=e[4],n(r[0][1],r[1][1],r[2][1],f,e),r[0][1]=e[3],r[1][1]=e[4]}c&&c!=="none"&&(d=Ll(s.node2),f=GS(r,p[1],d*t),n(r[0][0],r[1][0],r[2][0],f,e),r[1][0]=e[1],r[2][0]=e[2],n(r[0][1],r[1][1],r[2][1],f,e),r[1][1]=e[1],r[2][1]=e[2]),Ct(u[0],r[0]),Ct(u[1],r[2]),Ct(u[2],r[1])}else Ct(o[0],p[0]),Ct(o[1],p[1]),Ci(a,o[1],o[0]),Mo(a,a),h&&h!=="none"&&(d=Ll(s.node1),Jl(o[0],o[0],a,d*t)),c&&c!=="none"&&(d=Ll(s.node2),Jl(o[1],o[1],a,-d*t)),Ct(u[0],o[0]),Ct(u[1],o[1])})}function FS(i){return i.type==="view"}var _O=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.init=function(e,n){var r=new dl,o=new qg,a=this.group;this._controller=new xl(n.getZr()),this._controllerHost={target:a},a.add(r.group),a.add(o.group),this._symbolDraw=r,this._lineDraw=o,this._firstRender=!0},t.prototype.render=function(e,n,r){var o=this,a=e.coordinateSystem;this._model=e;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(FS(a)){var h={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?u.attr(h):Te(u,h,e)}ty(e.getGraph(),Dl(e));var c=e.getData();s.updateData(c);var p=e.getEdgeData();l.updateData(p),this._updateNodeAndLinkScale(),this._updateController(e,n,r),clearTimeout(this._layoutTimeout);var d=e.forceLayout,f=e.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,f),c.graph.eachNode(function(v){var _=v.dataIndex,x=v.getGraphicEl(),b=v.getModel();x.off("drag").off("dragend");var w=b.get("draggable");w&&x.on("drag",function(){d&&(d.warmUp(),!o._layouting&&o._startForceLayoutIteration(d,f),d.setFixed(_),c.setItemLayout(_,[x.x,x.y]))}).on("dragend",function(){d&&d.setUnfixed(_)}),x.setDraggable(w&&!!d),b.get(["emphasis","focus"])==="adjacency"&&(se(x).focus=v.getAdjacentDataIndices())}),c.graph.eachEdge(function(v){var _=v.getGraphicEl();v.getModel().get(["emphasis","focus"])==="adjacency"&&(se(_).focus={edge:[v.dataIndex],node:[v.node1.dataIndex,v.node2.dataIndex]})});var g=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),y=c.getLayout("cx"),m=c.getLayout("cy");c.eachItemGraphicEl(function(v,_){var x=c.getItemModel(_).get(["label","rotate"])||0,b=v.getSymbolPath();if(g){var w=c.getItemLayout(_),S=Math.atan2(w[1]-m,w[0]-y);S<0&&(S=2*Math.PI+S);var M=w[0]<y;M&&(S-=Math.PI);var I=M?"left":"right";b.setTextConfig({rotation:-S,position:I,origin:"center"});var T=b.ensureState("emphasis");X(T.textConfig||(T.textConfig={}),{position:I})}else b.setTextConfig({rotation:x*=Math.PI/180})}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,n){var r=this;(function o(){e.step(function(a){r.updateLayout(r._model),(r._layouting=!a)&&(n?r._layoutTimeout=setTimeout(o,16):o())})})()},t.prototype._updateController=function(e,n,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,h,c){var p=l.getBoundingRect();return p.applyTransform(l.transform),p.contain(h,c)&&!jh(u,r,e)}),FS(e.coordinateSystem)?(a.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){bg(s,u.dx,u.dy),r.dispatchAction({seriesId:e.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){wg(s,u.scale,u.originX,u.originY),r.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(),ty(e.getGraph(),Dl(e)),o._lineDraw.updateLayout(),r.updateLabelLayout()})):a.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,n=e.getData(),r=Dl(e);n.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},t.prototype.updateLayout=function(e){ty(e.getGraph(),Dl(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(Re);function Sa(i){return"_EC_"+i}var xO=function(){function i(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return i.prototype.isDirected=function(){return this._directed},i.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var n=this._nodesMap;if(!n[Sa(t)]){var r=new so(t,e);return r.hostGraph=this,this.nodes.push(r),n[Sa(t)]=r,r}},i.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},i.prototype.getNodeById=function(t){return this._nodesMap[Sa(t)]},i.prototype.addEdge=function(t,e,n){var r=this._nodesMap,o=this._edgesMap;if(typeof t=="number"&&(t=this.nodes[t]),typeof e=="number"&&(e=this.nodes[e]),t instanceof so||(t=r[Sa(t)]),e instanceof so||(e=r[Sa(e)]),t&&e){var a=t.id+"-"+e.id,s=new HS(t,e,n);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),o[a]=s,s}},i.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},i.prototype.getEdge=function(t,e){t instanceof so&&(t=t.id),e instanceof so&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},i.prototype.eachNode=function(t,e){for(var n=this.nodes,r=n.length,o=0;o<r;o++)n[o].dataIndex>=0&&t.call(e,n[o],o)},i.prototype.eachEdge=function(t,e){for(var n=this.edges,r=n.length,o=0;o<r;o++)n[o].dataIndex>=0&&n[o].node1.dataIndex>=0&&n[o].node2.dataIndex>=0&&t.call(e,n[o],o)},i.prototype.breadthFirstTraverse=function(t,e,n,r){if(e instanceof so||(e=this._nodesMap[Sa(e)]),e){for(var o=n==="out"?"outEdges":n==="in"?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(r,e,null))for(var s=[e];s.length;){var l=s.shift(),u=l[o];for(a=0;a<u.length;a++){var h=u[a],c=h.node1===l?h.node2:h.node1;if(!c.__visited){if(t.call(r,c,l))return;s.push(c),c.__visited=!0}}}}},i.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)n[t.getRawIndex(o)].dataIndex=o;for(e.filterSelf(function(s){var l=r[e.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0}),o=0,a=r.length;o<a;o++)r[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)r[e.getRawIndex(o)].dataIndex=o},i.prototype.clone=function(){for(var t=new i(this._directed),e=this.nodes,n=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(r=0;r<n.length;r++){var o=n[r];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},i}(),so=function(){function i(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t==null?"":t,this.dataIndex=e==null?-1:e}return i.prototype.degree=function(){return this.edges.length},i.prototype.inDegree=function(){return this.inEdges.length},i.prototype.outDegree=function(){return this.outEdges.length},i.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},i.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},i}(),HS=function(){function i(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=n==null?-1:n}return i.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},i.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},i}();function WS(i,t){return{getValue:function(n){var r=this[i][t];return r.get(r.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[i][t].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[i][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[i][t].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[i][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[i][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[i][t].getRawIndex(this.dataIndex)}}}function US(i,t,e,n,r){for(var o=new xO(n),a=0;a<i.length;a++)o.addNode(yt(i[a].id,i[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<t.length;a++){var h=t[a],c=h.source,p=h.target;o.addEdge(c,p,u)&&(l.push(h),s.push(yt(dt(h.id,null),c+" > "+p)),u++)}var d,f=e.get("coordinateSystem");if(f==="cartesian2d"||f==="polar")d=ni(i,e);else{var g=Qo.get(f),y=g&&g.dimensions||[];ie(y,"value")<0&&y.concat(["value"]);var m=ha(i,{coordDimensions:y});(d=new Pt(m,e)).initData(i)}var v=new Pt(["value"],e);return v.initData(l,s),r&&r(d,v),aS({mainData:d,struct:o,structAttr:"graph",datas:{node:d,edge:v},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}We(so,WS("hostGraph","data")),We(HS,WS("hostGraph","edgeData"));var bO=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return z(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new ml(r,r),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){i.prototype.mergeDefaultAndTheme.apply(this,arguments),Sr(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,n){var r,o=e.edges||e.links||[],a=e.data||e.nodes||[],s=this;if(a&&o){nc(r=this)&&(r.__curvenessList=[],r.__edgeMap={},CS(r));var l=US(a,o,this,!0,function(u,h){u.wrapMethod("getItemModel",function(f){var g=s._categoriesModels[f.getShallow("category")];return g&&(g.parentModel=f.parentModel,f.parentModel=g),f});var c=Ae.prototype.getModel;function p(f,g){var y=c.call(this,f,g);return y.resolveParentPath=d,y}function d(f){if(f&&(f[0]==="label"||f[1]==="label")){var g=f.slice();return f[0]==="label"?g[0]="edgeLabel":f[1]==="label"&&(g[1]="edgeLabel"),g}return f}h.wrapMethod("getItemModel",function(f){return f.resolveParentPath=d,f.getModel=p,f})});return D(l.edges,function(u){(function(h,c,p,d){if(nc(p)){var f=Al(h,c,p),g=p.__edgeMap,y=g[AS(f)];g[f]&&!y?g[f].isForward=!0:y&&g[f]&&(y.isForward=!0,g[f].isForward=!1),g[f]=g[f]||[],g[f].push(d)}})(u.node1,u.node2,this,u.dataIndex)},this),l.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,n,r){if(r==="edge"){var o=this.getData(),a=this.getDataParams(e,r),s=o.graph.getEdgeByIndex(e),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),h=[];return l!=null&&h.push(l),u!=null&&h.push(u),_t("nameValue",{name:h.join(" > "),value:a.value,noValue:a.value==null})}return S_({series:this,dataIndex:e,multipleSeries:n})},t.prototype._updateCategoriesData=function(){var e=j(this.option.categories||[],function(r){return r.value!=null?r:X({value:0},r)}),n=new Pt(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(r){return n.getItemModel(r)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return i.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(ze),wO={type:"graphRoam",event:"graphRoam",update:"none"},SO=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},MO=function(i){function t(e){var n=i.call(this,e)||this;return n.type="pointer",n}return z(t,i),t.prototype.getDefaultShape=function(){return new SO},t.prototype.buildPath=function(e,n){var r=Math.cos,o=Math.sin,a=n.r,s=n.width,l=n.angle,u=n.x-r(l)*s*(s>=a/3?1:2),h=n.y-o(l)*s*(s>=a/3?1:2);l=n.angle-Math.PI/2,e.moveTo(u,h),e.lineTo(n.x+r(l)*s,n.y+o(l)*s),e.lineTo(n.x+r(n.angle)*a,n.y+o(n.angle)*a),e.lineTo(n.x-r(l)*s,n.y-o(l)*s),e.lineTo(u,h)},t}(Me);function ic(i,t){var e=i==null?"":i+"";return t&&(typeof t=="string"?e=t.replace("{value}",e):typeof t=="function"&&(e=t(i))),e}var ny=2*Math.PI,IO=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){this.group.removeAll();var o=e.get(["axisLine","lineStyle","color"]),a=function(s,l){var u=s.get("center"),h=l.getWidth(),c=l.getHeight(),p=Math.min(h,c);return{cx:q(u[0],l.getWidth()),cy:q(u[1],l.getHeight()),r:q(s.get("radius"),p/2)}}(e,r);this._renderMain(e,n,r,o,a),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,n,r,o,a){for(var s=this.group,l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,h=-e.get("endAngle")/180*Math.PI,c=e.getModel("axisLine"),p=c.get("roundCap")?ag:Et,d=c.get("show"),f=c.getModel("lineStyle"),g=f.get("width"),y=(h-u)%ny||h===u?(h-u)%ny:ny,m=u,v=0;d&&v<o.length;v++){var _=new p({shape:{startAngle:m,endAngle:h=u+y*Math.min(Math.max(o[v][0],0),1),cx:a.cx,cy:a.cy,clockwise:l,r0:a.r-g,r:a.r},silent:!0});_.setStyle({fill:o[v][1]}),_.setStyle(f.getLineStyle(["color","width"])),s.add(_),m=h}var x=function(S){if(S<=0)return o[0][1];var M;for(M=0;M<o.length;M++)if(o[M][0]>=S&&(M===0?0:o[M-1][0])<S)return o[M][1];return o[M-1][1]};if(!l){var b=u;u=h,h=b}this._renderTicks(e,n,r,x,a,u,h,l,g),this._renderTitleAndDetail(e,n,r,x,a),this._renderAnchor(e,a),this._renderPointer(e,n,r,x,a,u,h,l,g)},t.prototype._renderTicks=function(e,n,r,o,a,s,l,u,h){for(var c,p,d=this.group,f=a.cx,g=a.cy,y=a.r,m=+e.get("min"),v=+e.get("max"),_=e.getModel("splitLine"),x=e.getModel("axisTick"),b=e.getModel("axisLabel"),w=e.get("splitNumber"),S=x.get("splitNumber"),M=q(_.get("length"),y),I=q(x.get("length"),y),T=s,C=(l-s)/w,A=C/S,L=_.getModel("lineStyle").getLineStyle(),k=x.getModel("lineStyle").getLineStyle(),P=_.get("distance"),O=0;O<=w;O++){if(c=Math.cos(T),p=Math.sin(T),_.get("show")){var R=new ft({shape:{x1:c*(y-(N=P?P+h:h))+f,y1:p*(y-N)+g,x2:c*(y-M-N)+f,y2:p*(y-M-N)+g},style:L,silent:!0});L.stroke==="auto"&&R.setStyle({stroke:o(O/w)}),d.add(R)}if(b.get("show")){var N=b.get("distance")+P,E=ic(vt(O/w*(v-m)+m),b.get("formatter")),B=o(O/w);d.add(new Ie({style:nt(b,{text:E,x:c*(y-M-N)+f,y:p*(y-M-N)+g,verticalAlign:p<-.8?"top":p>.8?"bottom":"middle",align:c<-.4?"left":c>.4?"right":"center"},{inheritColor:B}),silent:!0}))}if(x.get("show")&&O!==w){N=(N=x.get("distance"))?N+h:h;for(var G=0;G<=S;G++){c=Math.cos(T),p=Math.sin(T);var F=new ft({shape:{x1:c*(y-N)+f,y1:p*(y-N)+g,x2:c*(y-I-N)+f,y2:p*(y-I-N)+g},silent:!0,style:k});k.stroke==="auto"&&F.setStyle({stroke:o((O+G/S)/w)}),d.add(F),T+=A}T-=A}else T+=C}},t.prototype._renderPointer=function(e,n,r,o,a,s,l,u,h){var c=this.group,p=this._data,d=this._progressEls,f=[],g=e.get(["pointer","show"]),y=e.getModel("progress"),m=y.get("show"),v=e.getData(),_=v.mapDimension("value"),x=+e.get("min"),b=+e.get("max"),w=[x,b],S=[s,l];function M(T,C){var A,L=v.getItemModel(T).getModel("pointer"),k=q(L.get("width"),a.r),P=q(L.get("length"),a.r),O=e.get(["pointer","icon"]),R=L.get("offsetCenter"),N=q(R[0],a.r),E=q(R[1],a.r),B=L.get("keepAspect");return(A=O?ot(O,N-k/2,E-P,k,P,null,B):new MO({shape:{angle:-Math.PI/2,width:k,r:P,x:N,y:E}})).rotation=-(C+Math.PI/2),A.x=a.cx,A.y=a.cy,A}function I(T,C){var A=y.get("roundCap")?ag:Et,L=y.get("overlap"),k=L?y.get("width"):h/v.count(),P=L?a.r-k:a.r-(T+1)*k,O=L?a.r:a.r-T*k,R=new A({shape:{startAngle:s,endAngle:C,cx:a.cx,cy:a.cy,clockwise:u,r0:P,r:O}});return L&&(R.z2=b-v.get(_,T)%b),R}(m||g)&&(v.diff(p).add(function(T){if(g){var C=M(T,s);$e(C,{rotation:-(Oe(v.get(_,T),w,S,!0)+Math.PI/2)},e),c.add(C),v.setItemGraphicEl(T,C)}if(m){var A=I(T,s),L=y.get("clip");$e(A,{shape:{endAngle:Oe(v.get(_,T),w,S,L)}},e),c.add(A),f[T]=A}}).update(function(T,C){if(g){var A=p.getItemGraphicEl(C),L=A?A.rotation:s,k=M(T,L);k.rotation=L,Te(k,{rotation:-(Oe(v.get(_,T),w,S,!0)+Math.PI/2)},e),c.add(k),v.setItemGraphicEl(T,k)}if(m){var P=d[C],O=I(T,P?P.shape.endAngle:s),R=y.get("clip");Te(O,{shape:{endAngle:Oe(v.get(_,T),w,S,R)}},e),c.add(O),f[T]=O}}).execute(),v.each(function(T){var C=v.getItemModel(T),A=C.getModel("emphasis");if(g){var L=v.getItemGraphicEl(T),k=v.getItemVisual(T,"style"),P=k.fill;if(L instanceof ut){var O=L.style;L.useStyle(X({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},k))}else L.useStyle(k),L.type!=="pointer"&&L.setColor(P);L.setStyle(C.getModel(["pointer","itemStyle"]).getItemStyle()),L.style.fill==="auto"&&L.setStyle("fill",o(Oe(v.get(_,T),w,[0,1],!0))),L.z2EmphasisLift=0,Mt(L,C),Ge(L,A.get("focus"),A.get("blurScope"))}if(m){var R=f[T];R.useStyle(v.getItemVisual(T,"style")),R.setStyle(C.getModel(["progress","itemStyle"]).getItemStyle()),R.z2EmphasisLift=0,Mt(R,C),Ge(R,A.get("focus"),A.get("blurScope"))}}),this._progressEls=f)},t.prototype._renderAnchor=function(e,n){var r=e.getModel("anchor");if(r.get("show")){var o=r.get("size"),a=r.get("icon"),s=r.get("offsetCenter"),l=r.get("keepAspect"),u=ot(a,n.cx-o/2+q(s[0],n.r),n.cy-o/2+q(s[1],n.r),o,o,null,l);u.z2=r.get("showAbove")?1:0,u.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(u)}},t.prototype._renderTitleAndDetail=function(e,n,r,o,a){var s=this,l=e.getData(),u=l.mapDimension("value"),h=+e.get("min"),c=+e.get("max"),p=new oe,d=[],f=[],g=e.isAnimationEnabled();l.diff(this._data).add(function(y){d[y]=new Ie({silent:!0}),f[y]=new Ie({silent:!0})}).update(function(y,m){d[y]=s._titleEls[m],f[y]=s._detailEls[m]}).execute(),l.each(function(y){var m=l.getItemModel(y),v=l.get(u,y),_=new oe,x=o(Oe(v,[h,c],[0,1],!0)),b=m.getModel("title");if(b.get("show")){var w=b.get("offsetCenter"),S=a.cx+q(w[0],a.r),M=a.cy+q(w[1],a.r);(O=d[y]).attr({style:nt(b,{x:S,y:M,text:l.getName(y),align:"center",verticalAlign:"middle"},{inheritColor:x})}),_.add(O)}var I=m.getModel("detail");if(I.get("show")){var T=I.get("offsetCenter"),C=a.cx+q(T[0],a.r),A=a.cy+q(T[1],a.r),L=q(I.get("width"),a.r),k=q(I.get("height"),a.r),P=e.get(["progress","show"])?l.getItemVisual(y,"style").fill:x,O=f[y],R=I.get("formatter");O.attr({style:nt(I,{x:C,y:A,text:ic(v,R),width:isNaN(L)?null:L,height:isNaN(k)?null:k,align:"center",verticalAlign:"middle"},{inheritColor:P})}),l1(O,{normal:I},v,function(N){return ic(N,R)}),g&&u1(O,y,l,e,{getFormattedLabel:function(E,B,G,F,H,V){return ic(V?V.interpolatedValue:v,R)}}),_.add(O)}p.add(_)}),this.group.add(p),this._titleEls=d,this._detailEls=f},t.type="gauge",t}(Re),TO=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e.useColorPaletteOnData=!0,e}return z(t,i),t.prototype.getInitialData=function(e,n){return va(this,["value"])},t.type="series.gauge",t.defaultOption={zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(ze),CO=["itemStyle","opacity"],AO=function(i){function t(e,n){var r=i.call(this)||this,o=r,a=new zt,s=new Ie;return o.setTextContent(s),r.setTextGuideLine(a),r.updateData(e,n,!0),r}return z(t,i),t.prototype.updateData=function(e,n,r){var o=this,a=e.hostModel,s=e.getItemModel(n),l=e.getItemLayout(n),u=s.getModel("emphasis"),h=s.get(CO);h=h==null?1:h,o.useStyle(e.getItemVisual(n,"style")),o.style.lineJoin="round",r?(o.setShape({points:l.points}),o.style.opacity=0,$e(o,{style:{opacity:h}},a,n)):Te(o,{style:{opacity:h},shape:{points:l.points}},a,n),Mt(o,s),this._updateLabel(e,n),Ge(this,u.get("focus"),u.get("blurScope"))},t.prototype._updateLabel=function(e,n){var r=this,o=this.getTextGuideLine(),a=r.getTextContent(),s=e.hostModel,l=e.getItemModel(n),u=e.getItemLayout(n).label,h=e.getItemVisual(n,"style"),c=h.fill;Lt(a,St(l),{labelFetcher:e.hostModel,labelDataIndex:n,defaultOpacity:h.opacity,defaultText:e.getName(n)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}}),r.setTextConfig({local:!0,inside:!!u.inside,insideStroke:c,outsideFill:c});var p=u.linePoints;o.setShape({points:p}),r.textGuideLineConfig={anchor:p?new xe(p[0][0],p[0][1]):null},Te(a,{style:{x:u.x,y:u.y}},s,n),a.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),rf(r,of(l),{stroke:c})},t}(Dt),DO=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return z(t,i),t.prototype.render=function(e,n,r){var o=e.getData(),a=this._data,s=this.group;o.diff(a).add(function(l){var u=new AO(o,l);o.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var h=a.getItemGraphicEl(u);h.updateData(o,l),s.add(h),o.setItemGraphicEl(l,h)}).remove(function(l){ws(a.getItemGraphicEl(l),e,l)}).execute(),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(Re),LO=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.useColorPaletteOnData=!0,e}return z(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new ml(Q(this.getData,this),Q(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,n){return va(this,{coordDimensions:["value"],encodeDefaulter:he(Ed,this)})},t.prototype._defaultLabelLine=function(e){Sr(e,"labelLine",["show"]);var n=e.labelLine,r=e.emphasis.labelLine;n.show=n.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var n=this.getData(),r=i.prototype.getDataParams.call(this,e),o=n.mapDimension("value"),a=n.getSum(o);return r.percent=a?+(n.get(o,e)/a*100).toFixed(2):0,r.$vars.push("percent"),r},t.type="series.funnel",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(ze);function kO(i,t){i.eachSeriesByType("funnel",function(e){var n=e.getData(),r=n.mapDimension("value"),o=e.get("sort"),a=function(L,k){return ht(L.getBoxLayoutParams(),{width:k.getWidth(),height:k.getHeight()})}(e,t),s=e.get("orient"),l=a.width,u=a.height,h=function(L,k){for(var P=L.mapDimension("value"),O=L.mapArray(P,function(G){return G}),R=[],N=k==="ascending",E=0,B=L.count();E<B;E++)R[E]=E;return typeof k=="function"?R.sort(k):k!=="none"&&R.sort(function(G,F){return N?O[G]-O[F]:O[F]-O[G]}),R}(n,o),c=a.x,p=a.y,d=s==="horizontal"?[q(e.get("minSize"),u),q(e.get("maxSize"),u)]:[q(e.get("minSize"),l),q(e.get("maxSize"),l)],f=n.getDataExtent(r),g=e.get("min"),y=e.get("max");g==null&&(g=Math.min(f[0],0)),y==null&&(y=f[1]);var m=e.get("funnelAlign"),v=e.get("gap"),_=((s==="horizontal"?l:u)-v*(n.count()-1))/n.count(),x=function(k,P){if(s==="horizontal"){var O=Oe(n.get(r,k)||0,[g,y],d,!0),R=void 0;switch(m){case"top":R=p;break;case"center":R=p+(u-O)/2;break;case"bottom":R=p+(u-O)}return[[P,R],[P,R+O]]}var N,E=Oe(n.get(r,k)||0,[g,y],d,!0);switch(m){case"left":N=c;break;case"center":N=c+(l-E)/2;break;case"right":N=c+l-E}return[[N,P],[N+E,P]]};o==="ascending"&&(_=-_,v=-v,s==="horizontal"?c+=l:p+=u,h=h.reverse());for(var b=0;b<h.length;b++){var w=h[b],S=h[b+1],M=n.getItemModel(w);if(s==="horizontal"){var I=M.get(["itemStyle","width"]);I==null?I=_:(I=q(I,l),o==="ascending"&&(I=-I));var T=x(w,c),C=x(S,c+I);c+=I+v,n.setItemLayout(w,{points:T.concat(C.slice().reverse())})}else{var A=M.get(["itemStyle","height"]);A==null?A=_:(A=q(A,u),o==="ascending"&&(A=-A)),T=x(w,p),C=x(S,p+A),p+=A+v,n.setItemLayout(w,{points:T.concat(C.slice().reverse())})}}(function(L){var k=L.hostModel.get("orient");L.each(function(P){var O,R,N,E,B=L.getItemModel(P),G=B.getModel("label").get("position"),F=B.getModel("labelLine"),H=L.getItemLayout(P),V=H.points,U=G==="inner"||G==="inside"||G==="center"||G==="insideLeft"||G==="insideRight";if(U)G==="insideLeft"?(R=(V[0][0]+V[3][0])/2+5,N=(V[0][1]+V[3][1])/2,O="left"):G==="insideRight"?(R=(V[1][0]+V[2][0])/2-5,N=(V[1][1]+V[2][1])/2,O="right"):(R=(V[0][0]+V[1][0]+V[2][0]+V[3][0])/4,N=(V[0][1]+V[1][1]+V[2][1]+V[3][1])/4,O="center"),E=[[R,N],[R,N]];else{var Y=void 0,Z=void 0,K=void 0,$=void 0,ne=F.get("length");G==="left"?(Y=(V[3][0]+V[0][0])/2,Z=(V[3][1]+V[0][1])/2,R=(K=Y-ne)-5,O="right"):G==="right"?(Y=(V[1][0]+V[2][0])/2,Z=(V[1][1]+V[2][1])/2,R=(K=Y+ne)+5,O="left"):G==="top"?(Y=(V[3][0]+V[0][0])/2,N=($=(Z=(V[3][1]+V[0][1])/2)-ne)-5,O="center"):G==="bottom"?(Y=(V[1][0]+V[2][0])/2,N=($=(Z=(V[1][1]+V[2][1])/2)+ne)+5,O="center"):G==="rightTop"?(Y=k==="horizontal"?V[3][0]:V[1][0],Z=k==="horizontal"?V[3][1]:V[1][1],k==="horizontal"?(N=($=Z-ne)-5,O="center"):(R=(K=Y+ne)+5,O="top")):G==="rightBottom"?(Y=V[2][0],Z=V[2][1],k==="horizontal"?(N=($=Z+ne)+5,O="center"):(R=(K=Y+ne)+5,O="bottom")):G==="leftTop"?(Y=V[0][0],Z=k==="horizontal"?V[0][1]:V[1][1],k==="horizontal"?(N=($=Z-ne)-5,O="center"):(R=(K=Y-ne)-5,O="right")):G==="leftBottom"?(Y=k==="horizontal"?V[1][0]:V[3][0],Z=k==="horizontal"?V[1][1]:V[2][1],k==="horizontal"?(N=($=Z+ne)+5,O="center"):(R=(K=Y-ne)-5,O="right")):(Y=(V[1][0]+V[2][0])/2,Z=(V[1][1]+V[2][1])/2,k==="horizontal"?(N=($=Z+ne)+5,O="center"):(R=(K=Y+ne)+5,O="left")),k==="horizontal"?R=K=Y:N=$=Z,E=[[Y,Z],[K,$]]}H.label={linePoints:E,x:R,y:N,verticalAlign:"middle",textAlign:O,inside:U}})})(n)})}var PO=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new oe,e._initialized=!1,e}return z(t,i),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,n,r,o){var a=this._dataGroup,s=e.getData(),l=this._data,u=e.coordinateSystem,h=u.dimensions,c=ZS(e);if(s.diff(l).add(function(d){iy(XS(s,a,d,h,u),s,d,c)}).update(function(d,f){var g=l.getItemGraphicEl(f),y=YS(s,d,h,u);s.setItemGraphicEl(d,g),Te(g,{shape:{points:y}},e,d),iy(g,s,d,c)}).remove(function(d){var f=l.getItemGraphicEl(d);a.remove(f)}).execute(),!this._initialized){this._initialized=!0;var p=function(d,f,g){var y=d.model,m=d.getRect(),v=new Se({shape:{x:m.x,y:m.y,width:m.width,height:m.height}}),_=y.get("layout")==="horizontal"?"width":"height";return v.setShape(_,0),$e(v,{shape:{width:m.width,height:m.height}},f,g),v}(u,e,function(){setTimeout(function(){a.removeClipPath()})});a.setClipPath(p)}this._data=s},t.prototype.incrementalPrepareRender=function(e,n,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,n,r){for(var o=n.getData(),a=n.coordinateSystem,s=a.dimensions,l=ZS(n),u=e.start;u<e.end;u++){var h=XS(o,this._dataGroup,u,s,a);h.incremental=!0,iy(h,o,u,l)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(Re);function YS(i,t,e,n){for(var r,o=[],a=0;a<e.length;a++){var s=e[a],l=i.get(i.mapDimension(s),t);r=l,(n.getAxis(s).type==="category"?r==null:r==null||isNaN(r))||o.push(n.dataToPoint(l,s))}return o}function XS(i,t,e,n,r){var o=YS(i,e,n,r),a=new zt({shape:{points:o},z2:10});return t.add(a),i.setItemGraphicEl(e,a),a}function ZS(i){var t=i.get("smooth",!0);return t===!0&&(t=.3),bo(t=Un(t))&&(t=0),{smooth:t}}function iy(i,t,e,n){i.useStyle(t.getItemVisual(e,"style")),i.style.fill=null,i.setShape("smooth",n.smooth);var r=t.getItemModel(e),o=r.getModel("emphasis");Mt(i,r,"lineStyle"),Ge(i,o.get("focus"),o.get("blurScope"))}var OO=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return z(t,i),t.prototype.getInitialData=function(e,n){return ni(this.getSource(),this,{useEncodeDefaulter:Q(RO,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var n=this.coordinateSystem,r=this.getData(),o=[];return n.eachActiveState(r,function(a,s){e===a&&o.push(r.getRawIndex(s))}),o},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(ze);function RO(i){var t=i.ecModel.getComponent("parallel",i.get("parallelIndex"));if(t){var e={};return D(t.dimensions,function(n){var r=+n.replace("dim","");e[n]=r}),e}}var NO=["lineStyle","opacity"],EO={seriesType:"parallel",reset:function(t,e){var n=t.coordinateSystem,r={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(a,s){n.eachActiveState(s,function(l,u){var h=r[l];if(l==="normal"&&s.hasItemOption){var c=s.getItemModel(u).get(NO,!0);c!=null&&(h=c)}s.ensureUniqueItemVisual(u,"style").opacity=h},a.start,a.end)}}}};function zO(i){(function(t){if(!t.parallel){var e=!1;D(t.series,function(n){n&&n.type==="parallel"&&(e=!0)}),e&&(t.parallel=[{}])}})(i),function(t){D(je(t.parallelAxis),function(e){if(ae(e)){var n=e.parallelIndex||0,r=je(t.parallel)[n];r&&r.parallelAxisDefault&&de(e,r.parallelAxisDefault,!1)}})}(i)}var BO=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){this._model=e,this._api=r,this._handlers||(this._handlers={},D(VO,function(o,a){r.getZr().on(a,this._handlers[a]=Q(o,this))},this)),Bs(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,n){D(this._handlers,function(r,o){n.getZr().off(o,r)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(X({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Ye),VO={mousedown:function(t){ry(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(ry(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);r.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&ry(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),r=n.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:n.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function ry(i,t){var e=i._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var GO=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.init=function(){i.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var n=this.option;e&&de(n,e,!0),this._initDimensions()},t.prototype.contains=function(e,n){var r=e.get("parallelIndex");return r!=null&&n.getComponent("parallel",r)===this},t.prototype.setAxisExpand=function(e){D(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){e.hasOwnProperty(n)&&(this.option[n]=e[n])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],n=this.parallelAxisIndex=[];D(Ke(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(r){return(r.get("parallelIndex")||0)===this.componentIndex},this),function(r){e.push("dim"+r.get("dim")),n.push(r.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(ve),FO=function(i){function t(e,n,r,o,a){var s=i.call(this,e,n,r)||this;return s.type=o||"value",s.axisIndex=a,s}return z(t,i),t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(bn);function lo(i,t,e,n,r,o){i=i||0;var a=e[1]-e[0];if(r!=null&&(r=Ma(r,[0,a])),o!=null&&(o=Math.max(o,r!=null?r:0)),n==="all"){var s=Math.abs(t[1]-t[0]);s=Ma(s,[0,a]),r=o=Ma(s,[r,o]),n=0}t[0]=Ma(t[0],e),t[1]=Ma(t[1],e);var l=oy(t,n);t[n]+=i;var u,h=r||0,c=e.slice();return l.sign<0?c[0]+=h:c[1]-=h,t[n]=Ma(t[n],c),u=oy(t,n),r!=null&&(u.sign!==l.sign||u.span<r)&&(t[1-n]=t[n]+l.sign*r),u=oy(t,n),o!=null&&u.span>o&&(t[1-n]=t[n]+u.sign*o),t}function oy(i,t){var e=i[t]-i[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Ma(i,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,i))}var ay=D,jS=Math.min,qS=Math.max,KS=Math.floor,HO=Math.ceil,$S=vt,WO=Math.PI,UO=function(){function i(t,e,n){this.type="parallel",this._axesMap=re(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return i.prototype._init=function(t,e,n){var r=t.dimensions,o=t.parallelAxisIndex;ay(r,function(a,s){var l=o[s],u=e.getComponent("parallelAxis",l),h=this._axesMap.set(a,new FO(a,ol(u),[0,0],u.get("type"),l)),c=h.type==="category";h.onBand=c&&u.get("boundaryGap"),h.inverse=u.get("inverse"),u.axis=h,h.model=u,h.coordinateSystem=u.coordinateSystem=this},this)},i.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},i.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,r=e.layoutBase,o=e.pixelDimIndex,a=t[1-o],s=t[o];return a>=n&&a<=n+e.axisLength&&s>=r&&s<=r+e.layoutLength},i.prototype.getModel=function(){return this._model},i.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var r=n.getData();ay(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(r,r.mapDimension(o)),Ji(a.scale,a.model)},this)}},this)},i.prototype.resize=function(t,e){this._rect=ht(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},i.prototype.getRect=function(){return this._rect},i.prototype._makeLayoutInfo=function(){var t,e=this._model,n=this._rect,r=["x","y"],o=["width","height"],a=e.get("layout"),s=a==="horizontal"?0:1,l=n[o[s]],u=[0,l],h=this.dimensions.length,c=rc(e.get("axisExpandWidth"),u),p=rc(e.get("axisExpandCount")||0,[0,h]),d=e.get("axisExpandable")&&h>3&&h>p&&p>1&&c>0&&l>0,f=e.get("axisExpandWindow");f?(t=rc(f[1]-f[0],u),f[1]=f[0]+t):(t=rc(c*(p-1),u),(f=[c*(e.get("axisExpandCenter")||KS(h/2))-t/2])[1]=f[0]+t);var g=(l-t)/(h-p);g<3&&(g=0);var y=[KS($S(f[0]/c,1))+1,HO($S(f[1]/c,1))-1],m=g/c*f[0];return{layout:a,pixelDimIndex:s,layoutBase:n[r[s]],layoutLength:l,axisBase:n[r[1-s]],axisLength:n[o[1-s]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:g,axisExpandWindow:f,axisCount:h,winInnerIndices:y,axisExpandWindow0Pos:m}},i.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;e.each(function(a){var s=[0,r.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),ay(n,function(a,s){var l=(r.axisExpandable?XO:YO)(s,r),u={horizontal:{x:l.position,y:r.axisLength},vertical:{x:0,y:l.position}},h={horizontal:WO/2,vertical:0},c=[u[o].x+t.x,u[o].y+t.y],p=h[o],d=[1,0,0,1,0,0];Pi(d,d,p),Ln(d,d,c),this._axesLayout[a]={position:c,rotation:p,transform:d,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},i.prototype.getAxis=function(t){return this._axesMap.get(t)},i.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},i.prototype.eachActiveState=function(t,e,n,r){n==null&&(n=0),r==null&&(r=t.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];D(a,function(g){s.push(t.mapDimension(g)),l.push(o.get(g).model)});for(var u=this.hasAxisBrushed(),h=n;h<r;h++){var c=void 0;if(u){c="active";for(var p=t.getValues(s,h),d=0,f=a.length;d<f;d++)if(l[d].getActiveState(p[d])==="inactive"){c="inactive";break}}else c="normal";e(c,h)}},i.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,r=0,o=t.length;r<o;r++)e.get(t[r]).model.getActiveState()!=="normal"&&(n=!0);return n},i.prototype.axisCoordToPoint=function(t,e){return Nn([t,0],this._axesLayout[e].transform)},i.prototype.getAxisLayout=function(t){return te(this._axesLayout[t])},i.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,r=e.axisExpandWindow.slice(),o=r[1]-r[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var s,l=t[n]-e.layoutBase-e.axisExpandWindow0Pos,u="slide",h=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),p=c[0]!=null;if(h)p&&h&&l<o*c[0]?(u="jump",s=l-o*c[2]):p&&h&&l>o*(1-c[0])?(u="jump",s=l-o*(1-c[2])):(s=l-o*c[1])>=0&&(s=l-o*(1-c[1]))<=0&&(s=0),(s*=e.axisExpandWidth/h)?lo(s,r,a,"all"):u="none";else{var d=r[1]-r[0];(r=[qS(0,a[1]*l/d-d/2)])[1]=jS(a[1],r[0]+d),r[0]=r[1]-d}return{axisExpandWindow:r,behavior:u}},i}();function rc(i,t){return jS(qS(i,t[0]),t[1])}function YO(i,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*i,axisNameAvailableWidth:e,axisLabelShow:!0}}function XO(i,t){var e,n,r=t.layoutLength,o=t.axisExpandWidth,a=t.axisCount,s=t.axisCollapseWidth,l=t.winInnerIndices,u=s,h=!1;return i<l[0]?(e=i*s,n=s):i<=l[1]?(e=t.axisExpandWindow0Pos+i*o-t.axisExpandWindow[0],u=o,h=!0):(e=r-(a-1-i)*s,n=s),{position:e,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:n}}var ZO={create:function(t,e){var n=[];return t.eachComponent("parallel",function(r,o){var a=new UO(r,t,e);a.name="parallel_"+o,a.resize(r,e),r.coordinateSystem=a,a.model=r,n.push(a)}),t.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var o=r.getReferringComponents("parallel",lt).models[0];r.coordinateSystem=o.coordinateSystem}}),n}},sy=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return z(t,i),t.prototype.getAreaSelectStyle=function(){return Cr([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var n=this.activeIntervals=te(e);if(n)for(var r=n.length-1;r>=0;r--)$t(n[r])},t.prototype.getActiveState=function(e){var n=this.activeIntervals;if(!n.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(n.length===1){var r=n[0];if(r[0]<=e&&e<=r[1])return"active"}else for(var o=0,a=n.length;o<a;o++)if(n[o][0]<=e&&e<=n[o][1])return"active";return"inactive"},t}(ve);We(sy,da);var uo=!0,kl=Math.min,Ia=Math.max,jO=Math.pow,JS="globalPan",qO={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},KO={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},QS={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},$O=0,ly=function(i){function t(e){var n=i.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new oe,n._uid="brushController_"+$O++,D(QO,function(r,o){this._handlers[o]=Q(r,this)},n),n}return z(t,i),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var n=this._zr;this._enableGlobalPan||function(r,o,a){_g(r)[o]=a}(n,JS,this._uid),D(this._handlers,function(r,o){n.on(o,r)}),this._brushType=e.brushType,this._brushOption=de(te(QS),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;(function(n,r,o){var a=_g(n);a[r]===o&&(a[r]=null)})(e,JS,this._uid),D(this._handlers,function(n,r){e.off(r,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var n=this._panels={};D(e,function(r){n[r.panelId]=te(r)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=j(e,function(u){return de(te(QS),u,!0)});var n=this._covers,r=this._covers=[],o=this,a=this._creatingCover;return new $i(n,e,function(u,h){return s(u.__brushOption,h)},s).add(l).update(l).remove(function(u){n[u]!==a&&o.group.remove(n[u])}).execute(),this;function s(u,h){return(u.id!=null?u.id:"\0-brush-index-"+h)+"-"+u.brushType}function l(u,h){var c=e[u];if(h!=null&&n[h]===a)r[u]=n[h];else{var p=r[u]=h!=null?(n[h].__brushOption=c,n[h]):tM(o,eM(o,c));uy(o,p)}}},t.prototype.unmount=function(){return this.enableBrush(!1),py(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Dn);function eM(i,t){var e=oc[t.brushType].createCover(i,t);return e.__brushOption=t,iM(e,t),i.group.add(e),e}function tM(i,t){var e=hy(t);return e.endCreating&&(e.endCreating(i,t),iM(t,t.__brushOption)),t}function nM(i,t){var e=t.__brushOption;hy(t).updateCoverShape(i,t,e.range,e)}function iM(i,t){var e=t.z;e==null&&(e=1e4),i.traverse(function(n){n.z=e,n.z2=e})}function uy(i,t){hy(t).updateCommon(i,t),nM(i,t)}function hy(i){return oc[i.__brushOption.brushType]}function cy(i,t,e){var n,r=i._panels;if(!r)return uo;var o=i._transform;return D(r,function(a){a.isTargetByCursor(t,e,o)&&(n=a)}),n}function rM(i,t){var e=i._panels;if(!e)return uo;var n=t.__brushOption.panelId;return n!=null?e[n]:uo}function py(i){var t=i._covers,e=t.length;return D(t,function(n){i.group.remove(n)},i),t.length=0,!!e}function ho(i,t){var e=j(i._covers,function(n){var r=n.__brushOption,o=te(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});i.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function oM(i){var t=i.length-1;return t<0&&(t=0),[i[0],i[t]]}function aM(i,t,e,n){var r=new oe;return r.add(new Se({name:"main",style:fy(e),silent:!0,draggable:!0,cursor:"move",drift:he(uM,i,t,r,["n","s","w","e"]),ondragend:he(ho,t,{isEnd:!0})})),D(n,function(o){r.add(new Se({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:he(uM,i,t,r,o),ondragend:he(ho,t,{isEnd:!0})}))}),r}function sM(i,t,e,n){var r=n.brushStyle.lineWidth||0,o=Ia(r,6),a=e[0][0],s=e[1][0],l=a-r/2,u=s-r/2,h=e[0][1],c=e[1][1],p=h-o+r/2,d=c-o+r/2,f=h-a,g=c-s,y=f+r,m=g+r;_i(i,t,"main",a,s,f,g),n.transformable&&(_i(i,t,"w",l,u,o,m),_i(i,t,"e",p,u,o,m),_i(i,t,"n",l,u,y,o),_i(i,t,"s",l,d,y,o),_i(i,t,"nw",l,u,o,o),_i(i,t,"ne",p,u,o,o),_i(i,t,"sw",l,d,o,o),_i(i,t,"se",p,d,o,o))}function dy(i,t){var e=t.__brushOption,n=e.transformable,r=t.childAt(0);r.useStyle(fy(e)),r.attr({silent:!n,cursor:n?"move":"default"}),D([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var a=t.childOfName(o.join("")),s=o.length===1?gy(i,o[0]):function(l,u){var h=[gy(l,u[0]),gy(l,u[1])];return(h[0]==="e"||h[0]==="w")&&h.reverse(),h.join("")}(i,o);a&&a.attr({silent:!n,invisible:!n,cursor:n?KO[s]+"-resize":null})})}function _i(i,t,e,n,r,o,a){var s=t.childOfName(e);s&&s.setShape(function(l){var u=kl(l[0][0],l[1][0]),h=kl(l[0][1],l[1][1]),c=Ia(l[0][0],l[1][0]),p=Ia(l[0][1],l[1][1]);return{x:u,y:h,width:c-u,height:p-h}}(yy(i,t,[[n,r],[n+o,r+a]])))}function fy(i){return J({strokeNoScale:!0},i.brushStyle)}function lM(i,t,e,n){var r=[kl(i,e),kl(t,n)],o=[Ia(i,e),Ia(t,n)];return[[r[0],o[0]],[r[1],o[1]]]}function gy(i,t){return{left:"w",right:"e",top:"n",bottom:"s"}[Eu({w:"left",e:"right",n:"top",s:"bottom"}[t],function(e){return Wi(e.group)}(i))]}function uM(i,t,e,n,r,o){var a=e.__brushOption,s=i.toRectRange(a.range),l=hM(t,r,o);D(n,function(u){var h=qO[u];s[h[0]][h[1]]+=l[h[0]]}),a.range=i.fromRectRange(lM(s[0][0],s[1][0],s[0][1],s[1][1])),uy(t,e),ho(t,{isEnd:!1})}function JO(i,t,e,n){var r=t.__brushOption.range,o=hM(i,e,n);D(r,function(a){a[0]+=o[0],a[1]+=o[1]}),uy(i,t),ho(i,{isEnd:!1})}function hM(i,t,e){var n=i.group,r=n.transformCoordToLocal(t,e),o=n.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function yy(i,t,e){var n=rM(i,t);return n&&n!==uo?n.clipPath(e,i._transform):te(e)}function my(i){var t=i.event;t.preventDefault&&t.preventDefault()}function vy(i,t,e){return i.childOfName("main").contain(t,e)}function cM(i,t,e,n){var r,o=i._creatingCover,a=i._creatingPanel,s=i._brushOption;if(i._track.push(e.slice()),function(h){var c=h._track;if(!c.length)return!1;var p=c[c.length-1],d=c[0],f=p[0]-d[0],g=p[1]-d[1];return jO(f*f+g*g,.5)>6}(i)||o){if(a&&!o){s.brushMode==="single"&&py(i);var l=te(s);l.brushType=pM(l.brushType,a),l.panelId=a===uo?null:a.panelId,o=i._creatingCover=eM(i,l),i._covers.push(o)}if(o){var u=oc[pM(i._brushType,a)];o.__brushOption.range=u.getCreatingRange(yy(i,o,i._track)),n&&(tM(i,o),u.updateCommon(i,o)),nM(i,o),r={isEnd:n}}}else n&&s.brushMode==="single"&&s.removeOnClick&&cy(i,t,e)&&py(i)&&(r={isEnd:n,removeOnClick:!0});return r}function pM(i,t){return i==="auto"?t.defaultBrushType:i}var QO={mousedown:function(t){if(this._dragging)dM(this,t);else if(!t.target||!t.target.draggable){my(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=cy(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,r=this.group.transformCoordToLocal(e,n);if(function(a,s,l){if(a._brushType&&!function(f,g,y){var m=f._zr;return g<0||g>m.getWidth()||y<0||y>m.getHeight()}(a,s.offsetX,s.offsetY)){var u=a._zr,h=a._covers,c=cy(a,s,l);if(!a._dragging)for(var p=0;p<h.length;p++){var d=h[p].__brushOption;if(c&&(c===uo||d.panelId===c.panelId)&&oc[d.brushType].contain(h[p],l[0],l[1]))return}c&&u.setCursorStyle("crosshair")}}(this,t,r),this._dragging){my(t);var o=cM(this,t,r,!1);o&&ho(this,o)}},mouseup:function(t){dM(this,t)}};function dM(i,t){if(i._dragging){my(t);var e=t.offsetX,n=t.offsetY,r=i.group.transformCoordToLocal(e,n),o=cM(i,t,r,!0);i._dragging=!1,i._track=[],i._creatingCover=null,o&&ho(i,o)}}var oc={lineX:fM(0),lineY:fM(1),rect:{createCover:function(t,e){function n(r){return r}return aM({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=oM(t);return lM(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,r){sM(t,e,n,r)},updateCommon:dy,contain:vy},polygon:{createCover:function(t,e){var n=new oe;return n.add(new zt({name:"main",style:fy(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Dt({name:"main",draggable:!0,drift:he(JO,t,e),ondragend:he(ho,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,r){e.childAt(0).setShape({points:yy(t,e,n)})},updateCommon:dy,contain:vy}};function fM(i){return{createCover:function(e,n){return aM({toRectRange:function(o){var a=[o,[0,100]];return i&&a.reverse(),a},fromRectRange:function(o){return o[i]}},e,n,[[["w"],["e"]],[["n"],["s"]]][i])},getCreatingRange:function(e){var n=oM(e);return[kl(n[0][i],n[1][i]),Ia(n[0][i],n[1][i])]},updateCoverShape:function(e,n,r,o){var a,s=rM(e,n);if(s!==uo&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(i);else{var l=e._zr;a=[0,[l.getWidth(),l.getHeight()][1-i]]}var u=[r,a];i&&u.reverse(),sM(e,n,u,o)},updateCommon:dy,contain:vy}}function gM(i){return i=_y(i),function(t){return yd(t,i)}}function yM(i,t){return i=_y(i),function(e){var n=t!=null?t:e,r=n?i.width:i.height,o=n?i.x:i.y;return[o,o+(r||0)]}}function mM(i,t,e){var n=_y(i);return function(r,o){return n.contain(o[0],o[1])&&!jh(r,t,e)}}function _y(i){return me.create(i)}var eR=["axisLine","axisTickLabel","axisName"],tR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.init=function(e,n){i.prototype.init.apply(this,arguments),(this._brushController=new ly(n.getZr())).on("brush",Q(this._onBrush,this))},t.prototype.render=function(e,n,r,o){if(!function(f,g,y){return y&&y.type==="axisAreaSelect"&&g.findComponents({mainType:"parallelAxis",query:y})[0]===f}(e,n,o)){this.axisModel=e,this.api=r,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new oe,this.group.add(this._axisGroup),e.get("show")){var s=function(f,g){return g.getComponent("parallel",f.get("parallelIndex"))}(e,n),l=s.coordinateSystem,u=e.getAreaSelectStyle(),h=u.width,c=e.axis.dim,p=X({strokeContainThreshold:h},l.getAxisLayout(c)),d=new Gt(e,p);D(eR,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(p,u,e,s,h,r),Ss(a,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,n,r,o,a,s){var l=r.axis.getExtent(),u=l[1]-l[0],h=Math.min(30,.1*Math.abs(u)),c=me.create({x:l[0],y:-a/2,width:u,height:a});c.x-=h,c.width+=2*h,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:gM(c),isTargetByCursor:mM(c,s,o),getLinearBrushOtherExtent:yM(c,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(function(p){var d=p.axis;return j(p.activeIntervals,function(f){return{brushType:"lineX",panelId:"pl",range:[d.dataToCoord(f[0],!0),d.dataToCoord(f[1],!0)]}})}(r))},t.prototype._onBrush=function(e){var n=e.areas,r=this.axisModel,o=r.axis,a=j(n,function(s){return[o.coordToData(s.range[0],!0),o.coordToData(s.range[1],!0)]});(!r.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Ye),nR={type:"axisAreaSelect",event:"axisAreaSelected"},iR={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function vM(i){i.registerComponentView(BO),i.registerComponentModel(GO),i.registerCoordinateSystem("parallel",ZO),i.registerPreprocessor(zO),i.registerComponentModel(sy),i.registerComponentView(tR),_a(i,"parallel",sy,iR),function(t){t.registerAction(nR,function(e,n){n.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),t.registerAction("parallelAxisExpand",function(e,n){n.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}(i)}var rR=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},oR=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultShape=function(){return new rR},t.prototype.buildPath=function(e,n){var r=n.extent;e.moveTo(n.x1,n.y1),e.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(e.lineTo(n.x2+r,n.y2),e.bezierCurveTo(n.cpx2+r,n.cpy2,n.cpx1+r,n.cpy1,n.x1+r,n.y1)):(e.lineTo(n.x2,n.y2+r),e.bezierCurveTo(n.cpx2,n.cpy2+r,n.cpx1,n.cpy1+r,n.x1,n.y1+r)),e.closePath()},t.prototype.highlight=function(){Jn(this)},t.prototype.downplay=function(){Qn(this)},t}(Me),aR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return z(t,i),t.prototype.render=function(e,n,r){var o=this,a=e.getGraph(),s=this.group,l=e.layoutInfo,u=l.width,h=l.height,c=e.getData(),p=e.getData("edge"),d=e.get("orient");this._model=e,s.removeAll(),s.x=l.x,s.y=l.y,a.eachEdge(function(f){var g=new oR,y=se(g);y.dataIndex=f.dataIndex,y.seriesIndex=e.seriesIndex,y.dataType="edge";var m,v,_,x,b,w,S,M,I=f.getModel(),T=I.getModel("lineStyle"),C=T.get("curveness"),A=f.node1.getLayout(),L=f.node1.getModel(),k=L.get("localX"),P=L.get("localY"),O=f.node2.getLayout(),R=f.node2.getModel(),N=R.get("localX"),E=R.get("localY"),B=f.getLayout();switch(g.shape.extent=Math.max(1,B.dy),g.shape.orient=d,d==="vertical"?(m=(k!=null?k*u:A.x)+B.sy,v=(P!=null?P*h:A.y)+A.dy,_=(N!=null?N*u:O.x)+B.ty,b=m,w=v*(1-C)+(x=E!=null?E*h:O.y)*C,S=_,M=v*C+x*(1-C)):(m=(k!=null?k*u:A.x)+A.dx,v=(P!=null?P*h:A.y)+B.sy,b=m*(1-C)+(_=N!=null?N*u:O.x)*C,w=v,S=m*C+_*(1-C),M=x=(E!=null?E*h:O.y)+B.ty),g.setShape({x1:m,y1:v,x2:_,y2:x,cpx1:b,cpy1:w,cpx2:S,cpy2:M}),g.useStyle(T.getItemStyle()),g.style.fill){case"source":g.style.fill=f.node1.getVisual("color"),g.style.decal=f.node1.getVisual("style").decal;break;case"target":g.style.fill=f.node2.getVisual("color"),g.style.decal=f.node2.getVisual("style").decal;break;case"gradient":var G=f.node1.getVisual("color"),F=f.node2.getVisual("color");typeof G=="string"&&typeof F=="string"&&(g.style.fill=new Ho(0,0,1,0,[{color:G,offset:0},{color:F,offset:1}]))}var H=I.getModel("emphasis");Mt(g,I,"lineStyle",function(U){return U.getItemStyle()}),s.add(g),p.setItemGraphicEl(f.dataIndex,g);var V=H.get("focus");Ge(g,V==="adjacency"?f.getAdjacentDataIndices():V,H.get("blurScope")),se(g).dataType="edge"}),a.eachNode(function(f){var g=f.getLayout(),y=f.getModel(),m=y.get("localX"),v=y.get("localY"),_=y.getModel("emphasis"),x=new Se({shape:{x:m!=null?m*u:g.x,y:v!=null?v*h:g.y,width:g.dx,height:g.dy},style:y.getModel("itemStyle").getItemStyle(),z2:10});Lt(x,St(y),{labelFetcher:e,labelDataIndex:f.dataIndex,defaultText:f.id}),x.disableLabelAnimation=!0,x.setStyle("fill",f.getVisual("color")),x.setStyle("decal",f.getVisual("style").decal),Mt(x,y),s.add(x),c.setItemGraphicEl(f.dataIndex,x),se(x).dataType="node";var b=_.get("focus");Ge(x,b==="adjacency"?f.getAdjacentDataIndices():b,_.get("blurScope"))}),c.eachItemGraphicEl(function(f,g){c.getItemModel(g).get("draggable")&&(f.drift=function(y,m){o._focusAdjacencyDisabled=!0,this.shape.x+=y,this.shape.y+=m,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:c.getRawIndex(g),localX:this.shape.x/u,localY:this.shape.y/h})},f.ondragend=function(){o._focusAdjacencyDisabled=!1},f.draggable=!0,f.cursor="move")}),!this._data&&e.isAnimationEnabled()&&s.setClipPath(function(f,g,y){var m=new Se({shape:{x:f.x-10,y:f.y-10,width:0,height:f.height+20}});return $e(m,{shape:{width:f.width+20}},g,y),m}(s.getBoundingRect(),e,function(){s.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(Re),sR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.getInitialData=function(e,n){var r=e.edges||e.links,o=e.data||e.nodes,a=e.levels;this.levelModels=[];for(var s=this.levelModels,l=0;l<a.length;l++)a[l].depth!=null&&a[l].depth>=0&&(s[a[l].depth]=new Ae(a[l],this,n));if(o&&r)return US(o,r,this,!0,function(u,h){u.wrapMethod("getItemModel",function(c,p){var d=c.parentModel,f=d.getData().getItemLayout(p);if(f){var g=f.depth,y=d.levelModels[g];y&&(c.parentModel=y)}return c}),h.wrapMethod("getItemModel",function(c,p){var d=c.parentModel,f=d.getGraph().getEdgeByIndex(p).node1.getLayout();if(f){var g=f.depth,y=d.levelModels[g];y&&(c.parentModel=y)}return c})}).data},t.prototype.setNodePosition=function(e,n){var r=this.option.data[e];r.localX=n[0],r.localY=n[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,r){function o(c){return isNaN(c)||c==null}if(r==="edge"){var a=this.getDataParams(e,r),s=a.data,l=a.value;return _t("nameValue",{name:s.source+" -- "+s.target,value:l,noValue:o(l)})}var u=this.getGraph().getNodeByIndex(e).getLayout().value,h=this.getDataParams(e,r).data.name;return _t("nameValue",{name:h!=null?h+"":null,value:u,noValue:o(u)})},t.prototype.optionUpdated=function(){this.option},t.prototype.getDataParams=function(e,n){var r=i.prototype.getDataParams.call(this,e,n);if(r.value==null&&n==="node"){var o=this.getGraph().getNodeByIndex(e).getLayout().value;r.value=o}return r},t.type="series.sankey",t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(ze);function lR(i,t){i.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth"),r=e.get("nodeGap"),o=function(c,p){return ht(c.getBoxLayoutParams(),{width:p.getWidth(),height:p.getHeight()})}(e,t);e.layoutInfo=o;var a=o.width,s=o.height,l=e.getGraph(),u=l.nodes,h=l.edges;(function(c){D(c,function(p){var d=or(p.outEdges,ac),f=or(p.inEdges,ac),g=p.getValue()||0,y=Math.max(d,f,g);p.setLayout({value:y},!0)})})(u),function(c,p,d,f,g,y,m,v,_){(function(x,b,w,S,M,I,T){for(var C=[],A=[],L=[],k=[],P=0,O=0;O<b.length;O++)C[O]=1;for(O=0;O<x.length;O++)A[O]=x[O].inEdges.length,A[O]===0&&L.push(x[O]);for(var R=-1;L.length;){for(var N=0;N<L.length;N++){var E=L[N],B=E.hostGraph.data.getRawDataItem(E.dataIndex),G=B.depth!=null&&B.depth>=0;G&&B.depth>R&&(R=B.depth),E.setLayout({depth:G?B.depth:P},!0),I==="vertical"?E.setLayout({dy:w},!0):E.setLayout({dx:w},!0);for(var F=0;F<E.outEdges.length;F++){var H=E.outEdges[F];C[b.indexOf(H)]=0;var V=H.node2;--A[x.indexOf(V)]==0&&k.indexOf(V)<0&&k.push(V)}}++P,L=k,k=[]}for(O=0;O<C.length;O++)if(C[O]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var U=R>P-1?R:P-1;T&&T!=="left"&&function(Y,Z,K,$){if(Z==="right"){for(var ne=[],le=Y,fe=0;le.length;){for(var ge=0;ge<le.length;ge++){var Fe=le[ge];Fe.setLayout({skNodeHeight:fe},!0);for(var Ze=0;Ze<Fe.inEdges.length;Ze++){var Ve=Fe.inEdges[Ze];ne.indexOf(Ve.node1)<0&&ne.push(Ve.node1)}}le=ne,ne=[],++fe}D(Y,function(He){_M(He)||He.setLayout({depth:Math.max(0,$-He.getLayout().skNodeHeight)},!0)})}else Z==="justify"&&function(He,Je){D(He,function(at){_M(at)||at.outEdges.length||at.setLayout({depth:Je},!0)})}(Y,$)}(x,T,0,U),function(Y,Z,K){D(Y,function($){var ne=$.getLayout().depth*Z;K==="vertical"?$.setLayout({y:ne},!0):$.setLayout({x:ne},!0)})}(x,I==="vertical"?(M-w)/U:(S-w)/U,I)})(c,p,d,g,y,v,_),function(x,b,w,S,M,I,T){var C=function(L,k){var P=[],O=k==="vertical"?"y":"x",R=Pp(L,function(N){return N.getLayout()[O]});return R.keys.sort(function(N,E){return N-E}),D(R.keys,function(N){P.push(R.buckets.get(N))}),P}(x,T);(function(L,k,P,O,R,N){var E=1/0;D(L,function(B){var G=B.length,F=0;D(B,function(V){F+=V.getLayout().value});var H=N==="vertical"?(O-(G-1)*R)/F:(P-(G-1)*R)/F;H<E&&(E=H)}),D(L,function(B){D(B,function(G,F){var H=G.getLayout().value*E;N==="vertical"?(G.setLayout({x:F},!0),G.setLayout({dx:H},!0)):(G.setLayout({y:F},!0),G.setLayout({dy:H},!0))})}),D(k,function(B){var G=+B.getValue()*E;B.setLayout({dy:G},!0)})})(C,b,w,S,M,T),xy(C,M,w,S,T);for(var A=1;I>0;I--)uR(C,A*=.99,T),xy(C,M,w,S,T),fR(C,A,T),xy(C,M,w,S,T)}(c,p,y,g,f,m,v),function(x,b){var w=b==="vertical"?"x":"y";D(x,function(S){S.outEdges.sort(function(M,I){return M.node2.getLayout()[w]-I.node2.getLayout()[w]}),S.inEdges.sort(function(M,I){return M.node1.getLayout()[w]-I.node1.getLayout()[w]})}),D(x,function(S){var M=0,I=0;D(S.outEdges,function(T){T.setLayout({sy:M},!0),M+=T.getLayout().dy}),D(S.inEdges,function(T){T.setLayout({ty:I},!0),I+=T.getLayout().dy})})}(c,v)}(u,h,n,r,a,s,Ke(u,function(c){return c.getLayout().value===0}).length!==0?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function _M(i){var t=i.hostGraph.data.getRawDataItem(i.dataIndex);return t.depth!=null&&t.depth>=0}function xy(i,t,e,n,r){var o=r==="vertical"?"x":"y";D(i,function(a){var s,l,u;a.sort(function(f,g){return f.getLayout()[o]-g.getLayout()[o]});for(var h=0,c=a.length,p=r==="vertical"?"dx":"dy",d=0;d<c;d++)(u=h-(l=a[d]).getLayout()[o])>0&&(s=l.getLayout()[o]+u,r==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),h=l.getLayout()[o]+l.getLayout()[p]+t;if((u=h-t-(r==="vertical"?n:e))>0)for(s=l.getLayout()[o]-u,r==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),h=s,d=c-2;d>=0;--d)(u=(l=a[d]).getLayout()[o]+l.getLayout()[p]+t-h)>0&&(s=l.getLayout()[o]-u,r==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),h=l.getLayout()[o]})}function uR(i,t,e){D(i.slice().reverse(),function(n){D(n,function(r){if(r.outEdges.length){var o=or(r.outEdges,hR,e)/or(r.outEdges,ac);if(isNaN(o)){var a=r.outEdges.length;o=a?or(r.outEdges,cR,e)/a:0}if(e==="vertical"){var s=r.getLayout().x+(o-rr(r,e))*t;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-rr(r,e))*t;r.setLayout({y:l},!0)}}})})}function hR(i,t){return rr(i.node2,t)*i.getValue()}function cR(i,t){return rr(i.node2,t)}function pR(i,t){return rr(i.node1,t)*i.getValue()}function dR(i,t){return rr(i.node1,t)}function rr(i,t){return t==="vertical"?i.getLayout().x+i.getLayout().dx/2:i.getLayout().y+i.getLayout().dy/2}function ac(i){return i.getValue()}function or(i,t,e){for(var n=0,r=i.length,o=-1;++o<r;){var a=+t(i[o],e);isNaN(a)||(n+=a)}return n}function fR(i,t,e){D(i,function(n){D(n,function(r){if(r.inEdges.length){var o=or(r.inEdges,pR,e)/or(r.inEdges,ac);if(isNaN(o)){var a=r.inEdges.length;o=a?or(r.inEdges,dR,e)/a:0}if(e==="vertical"){var s=r.getLayout().x+(o-rr(r,e))*t;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-rr(r,e))*t;r.setLayout({y:l},!0)}}})})}function gR(i){i.eachSeriesByType("sankey",function(t){var e=t.getGraph().nodes;if(e.length){var n=1/0,r=-1/0;D(e,function(o){var a=o.getLayout().value;a<n&&(n=a),a>r&&(r=a)}),D(e,function(o){var a=new xt({type:"color",mappingMethod:"linear",dataExtent:[n,r],visual:t.get("color")}).mapValueToVisual(o.getLayout().value),s=o.getModel().get(["itemStyle","color"]);s!=null?(o.setVisual("color",s),o.setVisual("style",{fill:s})):(o.setVisual("color",a),o.setVisual("style",{fill:a}))})}})}var xM=function(){function i(){}return i.prototype.getInitialData=function(t,e){var n,r,o=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),s=o.get("type"),l=a.get("type");s==="category"?(t.layout="horizontal",n=o.getOrdinalMeta(),r=!0):l==="category"?(t.layout="vertical",n=a.getOrdinalMeta(),r=!0):t.layout=t.layout||"horizontal";var u=["x","y"],h=t.layout==="horizontal"?0:1,c=this._baseAxisDim=u[h],p=u[1-h],d=[o,a],f=d[h].get("type"),g=d[1-h].get("type"),y=t.data;if(y&&r){var m=[];D(y,function(x,b){var w;W(x)?(w=x.slice(),x.unshift(b)):W(x.value)?(w=x.value.slice(),x.value.unshift(b)):w=x,m.push(w)}),t.data=m}var v=this.defaultValueDimensions,_=[{name:c,type:Sh(f),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:p,type:Sh(g),dimsDef:v.slice()}];return va(this,{coordDimensions:_,dimensionsCount:v.length+1,encodeDefaulter:he(R1,_,this)})},i.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},i}(),bM=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return z(t,i),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(ze);We(bM,xM,!0);var yR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){var o=e.getData(),a=this.group,s=this._data;this._data||a.removeAll();var l=e.get("layout")==="horizontal"?1:0;o.diff(s).add(function(u){if(o.hasValue(u)){var h=wM(o.getItemLayout(u),o,u,l,!0);o.setItemGraphicEl(u,h),a.add(h)}}).update(function(u,h){var c=s.getItemGraphicEl(h);if(o.hasValue(u)){var p=o.getItemLayout(u);c?SM(p,c,o,u):c=wM(p,o,u,l),a.add(c),o.setItemGraphicEl(u,c)}else a.remove(c)}).remove(function(u){var h=s.getItemGraphicEl(u);h&&a.remove(h)}).execute(),this._data=o},t.prototype.remove=function(e){var n=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(o){o&&n.remove(o)})},t.type="boxplot",t}(Re),mR=function(){},vR=function(i){function t(e){var n=i.call(this,e)||this;return n.type="boxplotBoxPath",n}return z(t,i),t.prototype.getDefaultShape=function(){return new mR},t.prototype.buildPath=function(e,n){var r=n.points,o=0;for(e.moveTo(r[o][0],r[o][1]),o++;o<4;o++)e.lineTo(r[o][0],r[o][1]);for(e.closePath();o<r.length;o++)e.moveTo(r[o][0],r[o][1]),o++,e.lineTo(r[o][0],r[o][1])},t}(Me);function wM(i,t,e,n,r){var o=i.ends,a=new vR({shape:{points:r?_R(o,n,i):o}});return SM(i,a,t,e,r),a}function SM(i,t,e,n,r){var o=e.hostModel;(0,Is[r?"initProps":"updateProps"])(t,{shape:{points:i.ends}},o,n),t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var a=e.getItemModel(n);Mt(t,a),Ge(t,a.get(["emphasis","focus"]),a.get(["emphasis","blurScope"]))}function _R(i,t,e){return j(i,function(n){return(n=n.slice())[t]=e.initBaseline,n})}function xR(i,t){}var Pl=D;function bR(i){var t=function(e){var n=[],r=[];return e.eachSeriesByType("boxplot",function(o){var a=o.getBaseAxis(),s=ie(r,a);s<0&&(s=r.length,r[s]=a,n[s]={axis:a,seriesModels:[]}),n[s].seriesModels.push(o)}),n}(i);Pl(t,function(e){var n=e.seriesModels;n.length&&(function(r){var o,a,s=r.axis,l=r.seriesModels,u=l.length,h=r.boxWidthList=[],c=r.boxOffsetList=[],p=[];if(s.type==="category")a=s.getBandWidth();else{var d=0;Pl(l,function(v){d=Math.max(d,v.getData().count())}),o=s.getExtent(),Math.abs(o[1]-o[0])}Pl(l,function(v){var _=v.get("boxWidth");W(_)||(_=[_,_]),p.push([q(_[0],a)||0,q(_[1],a)||0])});var f=.8*a-2,g=f/u*.3,y=(f-g*(u-1))/u,m=y/2-f/2;Pl(l,function(v,_){c.push(m),m+=g+y,h.push(Math.min(Math.max(y,p[_][0]),p[_][1]))})}(e),Pl(n,function(r,o){(function(a,s,l){var u=a.coordinateSystem,h=a.getData(),c=l/2,p=a.get("layout")==="horizontal"?0:1,d=1-p,f=["x","y"],g=h.mapDimension(f[p]),y=h.mapDimensionsAll(f[d]);if(g==null||y.length<5)return;for(var m=0;m<h.count();m++){var v=h.get(g,m),_=I(v,y[2],m),x=I(v,y[0],m),b=I(v,y[1],m),w=I(v,y[3],m),S=I(v,y[4],m),M=[];T(M,b,!1),T(M,w,!0),M.push(x,b,S,w),C(M,x),C(M,S),C(M,_),h.setItemLayout(m,{initBaseline:_[d],ends:M})}function I(A,L,k){var P,O=h.get(L,k),R=[];return R[p]=A,R[d]=O,isNaN(A)||isNaN(O)?P=[NaN,NaN]:(P=u.dataToPoint(R))[p]+=s,P}function T(A,L,k){var P=L.slice(),O=L.slice();P[p]+=c,O[p]-=c,k?A.push(P,O):A.push(O,P)}function C(A,L){var k=L.slice(),P=L.slice();k[p]-=c,P[p]+=c,A.push(k,P)}})(r,e.boxOffsetList[o],e.boxWidthList[o])}))})}var wR={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==di){var n="";Ce(n)}var r=function(o,a){for(var s=[],l=[],u=(a=a||{}).boundIQR,h=u==="none"||u===0,c=0;c<o.length;c++){var p=$t(o[c].slice()),d=hu(p,.25),f=hu(p,.5),g=hu(p,.75),y=p[0],m=p[p.length-1],v=(u==null?1.5:u)*(g-d),_=h?y:Math.max(y,d-v),x=h?m:Math.min(m,g+v),b=a.itemNameFormatter,w=Pe(b)?b({value:c}):be(b)?b.replace("{value}",c+""):c+"";s.push([w,_,d,f,g,x]);for(var S=0;S<p.length;S++){var M=p[S];if(M<_||M>x){var I=[w,M];l.push(I)}}}return{boxData:s,outliers:l}}(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}},SR=["color","borderColor"],MR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){this.group.removeClipPath(),this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,n,r){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,n,r,o){this._isLargeDraw?this._incrementalRenderLarge(e,n):this._incrementalRenderNormal(e,n)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;this._isLargeDraw!=null&&n===this._isLargeDraw||(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e){var n=e.getData(),r=this._data,o=this.group,a=n.getLayout("isSimpleBox"),s=e.get("clip",!0),l=e.coordinateSystem,u=l.getArea&&l.getArea();this._data||o.removeAll(),n.diff(r).add(function(h){if(n.hasValue(h)){var c=n.getItemLayout(h);if(s&&MM(u,c))return;var p=by(c,h,!0);$e(p,{shape:{points:c.ends}},e,h),wy(p,n,h,a),o.add(p),n.setItemGraphicEl(h,p)}}).update(function(h,c){var p=r.getItemGraphicEl(c);if(n.hasValue(h)){var d=n.getItemLayout(h);s&&MM(u,d)?o.remove(p):(p?Te(p,{shape:{points:d.ends}},e,h):p=by(d),wy(p,n,h,a),o.add(p),n.setItemGraphicEl(h,p))}else o.remove(p)}).remove(function(h){var c=r.getItemGraphicEl(h);c&&o.remove(c)}).execute(),this._data=n},t.prototype._renderLarge=function(e){this._clear(),TM(e,this.group);var n=e.get("clip",!0)?Hh(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,n){for(var r,o=n.getData(),a=o.getLayout("isSimpleBox");(r=e.next())!=null;){var s=by(o.getItemLayout(r));wy(s,o,r,a),s.incremental=!0,this.group.add(s)}},t.prototype._incrementalRenderLarge=function(e,n){TM(n,this.group,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(Re),IR=function(){},TR=function(i){function t(e){var n=i.call(this,e)||this;return n.type="normalCandlestickBox",n}return z(t,i),t.prototype.getDefaultShape=function(){return new IR},t.prototype.buildPath=function(e,n){var r=n.points;this.__simpleBox?(e.moveTo(r[4][0],r[4][1]),e.lineTo(r[6][0],r[6][1])):(e.moveTo(r[0][0],r[0][1]),e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]),e.lineTo(r[3][0],r[3][1]),e.closePath(),e.moveTo(r[4][0],r[4][1]),e.lineTo(r[5][0],r[5][1]),e.moveTo(r[6][0],r[6][1]),e.lineTo(r[7][0],r[7][1]))},t}(Me);function by(i,t,e){var n=i.ends;return new TR({shape:{points:e?CR(n,i):n},z2:100})}function MM(i,t){for(var e=!0,n=0;n<t.ends.length;n++)if(i.contain(t.ends[n][0],t.ends[n][1])){e=!1;break}return e}function wy(i,t,e,n){var r=t.getItemModel(e);i.useStyle(t.getItemVisual(e,"style")),i.style.strokeNoScale=!0,i.__simpleBox=n,Mt(i,r)}function CR(i,t){return j(i,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var AR=function(){},IM=function(i){function t(e){var n=i.call(this,e)||this;return n.type="largeCandlestickBox",n}return z(t,i),t.prototype.getDefaultShape=function(){return new AR},t.prototype.buildPath=function(e,n){for(var r=n.points,o=0;o<r.length;)if(this.__sign===r[o++]){var a=r[o++];e.moveTo(a,r[o++]),e.lineTo(a,r[o++])}else o+=3},t}(Me);function TM(i,t,e){var n=i.getData().getLayout("largePoints"),r=new IM({shape:{points:n},__sign:1});t.add(r);var o=new IM({shape:{points:n},__sign:-1});t.add(o),CM(1,r,i),CM(-1,o,i),e&&(r.incremental=!0,o.incremental=!0)}function CM(i,t,e,n){var r=e.get(["itemStyle",i>0?"borderColor":"borderColor0"])||e.get(["itemStyle",i>0?"color":"color0"]),o=e.getModel("itemStyle").getItemStyle(SR);t.useStyle(o),t.style.fill=null,t.style.stroke=r}var AM=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return z(t,i),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,n,r){var o=n.getItemLayout(e);return o&&r.rect(o.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(ze);function DR(i){i&&W(i.series)&&D(i.series,function(t){ae(t)&&t.type==="k"&&(t.type="candlestick")})}We(AM,xM,!0);var LR=["itemStyle","borderColor"],kR=["itemStyle","borderColor0"],PR=["itemStyle","color"],OR=["itemStyle","color0"],RR={seriesType:"candlestick",plan:ia(),performRawSeries:!0,reset:function(t,e){function n(o,a){return a.get(o>0?PR:OR)}function r(o,a){return a.get(o>0?LR:kR)}if(t.getData(),!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(a,s){for(var l;(l=a.next())!=null;){var u=s.getItemModel(l),h=s.getItemLayout(l).sign,c=u.getItemStyle();c.fill=n(h,u),c.stroke=r(h,u)||c.fill,X(s.ensureUniqueItemVisual(l,"style"),c)}}}}},NR=typeof Float32Array!="undefined"?Float32Array:Array,ER={seriesType:"candlestick",plan:ia(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),r=function(p,d){var f,g=p.getBaseAxis(),y=g.type==="category"?g.getBandWidth():(f=g.getExtent(),Math.abs(f[1]-f[0])/d.count()),m=q(we(p.get("barMaxWidth"),y),y),v=q(we(p.get("barMinWidth"),1),y),_=p.get("barWidth");return _!=null?q(_,y):Math.max(Math.min(y/2,m),v)}(t,n),o=["x","y"],a=n.mapDimension(o[0]),s=n.mapDimensionsAll(o[1]),l=s[0],u=s[1],h=s[2],c=s[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(a==null||s.length<4))return{progress:t.pipelineContext.large?function(p,d){for(var f,g,y=new NR(4*p.count),m=0,v=[],_=[];(g=p.next())!=null;){var x=d.get(a,g),b=d.get(l,g),w=d.get(u,g),S=d.get(h,g),M=d.get(c,g);isNaN(x)||isNaN(S)||isNaN(M)?(y[m++]=NaN,m+=3):(y[m++]=DM(d,g,b,w,u),v[0]=x,v[1]=S,f=e.dataToPoint(v,null,_),y[m++]=f?f[0]:NaN,y[m++]=f?f[1]:NaN,v[1]=M,f=e.dataToPoint(v,null,_),y[m++]=f?f[1]:NaN)}d.setLayout("largePoints",y)}:function(p,d){for(var f;(f=p.next())!=null;){var g=d.get(a,f),y=d.get(l,f),m=d.get(u,f),v=d.get(h,f),_=d.get(c,f),x=Math.min(y,m),b=Math.max(y,m),w=C(x,g),S=C(b,g),M=C(v,g),I=C(_,g),T=[];A(T,S,0),A(T,w,1),T.push(k(I),k(S),k(M),k(w)),d.setItemLayout(f,{sign:DM(d,f,y,m,u),initBaseline:y>m?S[1]:w[1],ends:T,brushRect:L(v,_,g)})}function C(P,O){var R=[];return R[0]=O,R[1]=P,isNaN(O)||isNaN(P)?[NaN,NaN]:e.dataToPoint(R)}function A(P,O,R){var N=O.slice(),E=O.slice();N[0]=Nu(N[0]+r/2,1,!1),E[0]=Nu(E[0]-r/2,1,!0),R?P.push(N,E):P.push(E,N)}function L(P,O,R){var N=C(P,R),E=C(O,R);return N[0]-=r/2,E[0]-=r/2,{x:N[0],y:N[1],width:r,height:E[1]-N[1]}}function k(P){return P[0]=Nu(P[0],1),P}}}}};function DM(i,t,e,n,r){return e>n?-1:e<n?1:t>0?i.get(r,t-1)<=n?1:-1:1}function LM(i,t){var e=t.rippleEffectColor||t.color;i.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var zR=function(i){function t(e,n){var r=i.call(this)||this,o=new pl(e,n),a=new oe;return r.add(o),r.add(a),r.updateData(e,n),r}return z(t,i),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var n=e.symbolType,r=e.color,o=this.childAt(1),a=0;a<3;a++){var s=ot(n,-1,-1,2,2,r);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var l=-a/3*e.period+e.effectOffset;s.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(l).start(),s.animateStyle(!0).when(e.period,{opacity:0}).delay(l).start(),o.add(s)}LM(o,e)},t.prototype.updateEffectAnimation=function(e){for(var n=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale"],a=0;a<o.length;a++){var s=o[a];if(n[s]!==e[s])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}LM(r,e)},t.prototype.highlight=function(){Jn(this)},t.prototype.downplay=function(){Qn(this)},t.prototype.updateData=function(e,n){var r=this,o=e.hostModel;this.childAt(0).updateData(e,n);var a=this.childAt(1),s=e.getItemModel(n),l=e.getItemVisual(n,"symbol"),u=function(g){return W(g)||(g=[+g,+g]),g}(e.getItemVisual(n,"symbolSize")),h=e.getItemVisual(n,"style"),c=h&&h.fill;a.setScale(u),a.traverse(function(g){g.setStyle("fill",c)});var p=e.getItemVisual(n,"symbolOffset");p&&(W(p)||(p=[p,p]),a.x=q(p[0],u[0]),a.y=q(we(p[1],p[0])||0,u[1]));var d=e.getItemVisual(n,"symbolRotate");a.rotation=(d||0)*Math.PI/180||0;var f={};f.showEffectOn=o.get("showEffectOn"),f.rippleScale=s.get(["rippleEffect","scale"]),f.brushType=s.get(["rippleEffect","brushType"]),f.period=1e3*s.get(["rippleEffect","period"]),f.effectOffset=n/e.count(),f.z=o.getShallow("z")||0,f.zlevel=o.getShallow("zlevel")||0,f.symbolType=l,f.color=c,f.rippleEffectColor=s.get(["rippleEffect","color"]),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),f.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(f):this.startEffectAnimation(f),this._effectCfg=f):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(g){g==="emphasis"?f.showEffectOn!=="render"&&r.startEffectAnimation(f):g==="normal"&&f.showEffectOn!=="render"&&r.stopEffectAnimation()}),this._effectCfg=f,Ge(this)},t.prototype.fadeOut=function(e){this.off("mouseover").off("mouseout"),e&&e()},t}(oe),BR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.init=function(){this._symbolDraw=new dl(zR)},t.prototype.render=function(e,n,r){var o=e.getData(),a=this._symbolDraw;a.updateData(o,{clipShape:this._getClipShape(e)}),this.group.add(a.group)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,r=n&&n.getArea&&n.getArea();return e.get("clip",!0)?r:null},t.prototype.updateTransform=function(e,n,r){var o=e.getData();this.group.dirty();var a=fl("").reset(e,n,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var n=e.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=tv(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(Re),VR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return z(t,i),t.prototype.getInitialData=function(e,n){return ni(this.getSource(),this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,n,r){return r.point(n.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10},t}(ze),kM=function(i){function t(e,n,r){var o=i.call(this)||this;return o.add(o.createLine(e,n,r)),o._updateEffectSymbol(e,n),o}return z(t,i),t.prototype.createLine=function(e,n,r){return new jg(e,n,r)},t.prototype._updateEffectSymbol=function(e,n){var r=e.getItemModel(n).getModel("effect"),o=r.get("symbolSize"),a=r.get("symbol");W(o)||(o=[o,o]);var s=e.getItemVisual(n,"style"),l=r.get("color")||s&&s.stroke,u=this.childAt(1);this._symbolType!==a&&(this.remove(u),(u=ot(a,-.5,-.5,1,1,l)).z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",l),u.setStyle(r.getItemStyle(["color"])),u.scaleX=o[0],u.scaleY=o[1],u.setColor(l),this._symbolType=a,this._symbolScale=o,this._updateEffectAnimation(e,r,n))},t.prototype._updateEffectAnimation=function(e,n,r){var o=this.childAt(1);if(o){var a=this,s=e.getItemLayout(r),l=1e3*n.get("period"),u=n.get("loop"),h=n.get("constantSpeed"),c=yt(n.get("delay"),function(f){return f/e.count()*l/3});if(o.ignore=!0,this._updateAnimationPoints(o,s),h>0&&(l=this._getLineLength(o)/h*1e3),(l!==this._period||u!==this._loop)&&(o.stopAnimation(),l>0)){var p=void 0;p=typeof c=="function"?c(r):c,o.__t>0&&(p=-l*o.__t),o.__t=0;var d=o.animate("",u).when(l,{__t:1}).delay(p).during(function(){a._updateSymbolPosition(o)});u||d.done(function(){a.remove(o)}),d.start()}this._period=l,this._loop=u}},t.prototype._getLineLength=function(e){return si(e.__p1,e.__cp1)+si(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,n){e.__p1=n[0],e.__p2=n[1],e.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(e,n,r){this.childAt(0).updateData(e,n,r),this._updateEffectSymbol(e,n)},t.prototype._updateSymbolPosition=function(e){var n=e.__p1,r=e.__p2,o=e.__cp1,a=e.__t,s=[e.x,e.y],l=s.slice(),u=wt,h=Wp;s[0]=u(n[0],o[0],r[0],a),s[1]=u(n[1],o[1],r[1],a);var c=h(n[0],o[0],r[0],a),p=h(n[1],o[1],r[1],a);e.rotation=-Math.atan2(p,c)-Math.PI/2,this._symbolType!=="line"&&this._symbolType!=="rect"&&this._symbolType!=="roundRect"||(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=1.05*si(l,s),a===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):e.__lastT===1?e.scaleY=2*si(n,s):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=s[0],e.y=s[1]},t.prototype.updateLayout=function(e,n){this.childAt(0).updateLayout(e,n);var r=e.getItemModel(n).getModel("effect");this._updateEffectAnimation(e,r,n)},t}(oe),PM=function(i){function t(e,n,r){var o=i.call(this)||this;return o._createPolyline(e,n,r),o}return z(t,i),t.prototype._createPolyline=function(e,n,r){var o=e.getItemLayout(n),a=new zt({shape:{points:o}});this.add(a),this._updateCommonStl(e,n,r)},t.prototype.updateData=function(e,n,r){var o=e.hostModel;Te(this.childAt(0),{shape:{points:e.getItemLayout(n)}},o,n),this._updateCommonStl(e,n,r)},t.prototype._updateCommonStl=function(e,n,r){var o=this.childAt(0),a=e.getItemModel(n),s=r&&r.emphasisLineStyle;r&&!e.hasItemOption||(s=a.getModel(["emphasis","lineStyle"]).getLineStyle()),o.useStyle(e.getItemVisual(n,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,Ge(this)},t.prototype.updateLayout=function(e,n){this.childAt(0).setShape("points",e.getItemLayout(n))},t}(oe),GR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return z(t,i),t.prototype.createLine=function(e,n,r){return new PM(e,n,r)},t.prototype._updateAnimationPoints=function(e,n){this._points=n;for(var r=[0],o=0,a=1;a<n.length;a++){var s=n[a-1],l=n[a];o+=si(s,l),r.push(o)}if(o!==0){for(a=0;a<r.length;a++)r[a]/=o;this._offsets=r,this._length=o}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var n=e.__t,r=this._points,o=this._offsets,a=r.length;if(o){var s,l=this._lastFrame;if(n<this._lastFramePercent){for(s=Math.min(l+1,a-1);s>=0&&!(o[s]<=n);s--);s=Math.min(s,a-2)}else{for(s=l;s<a&&!(o[s]>n);s++);s=Math.min(s-1,a-2)}var u=(n-o[s])/(o[s+1]-o[s]),h=r[s],c=r[s+1];e.x=h[0]*(1-u)+u*c[0],e.y=h[1]*(1-u)+u*c[1];var p=c[0]-h[0],d=c[1]-h[1];e.rotation=-Math.atan2(d,p)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=n,e.ignore=!1}},t}(kM),FR=function(){this.polyline=!1,this.curveness=0,this.segs=[]},OM=function(i){function t(e){return i.call(this,e)||this}return z(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new FR},t.prototype.buildPath=function(e,n){var r=n.segs,o=n.curveness;if(n.polyline)for(var a=0;a<r.length;){var s=r[a++];if(s>0){e.moveTo(r[a++],r[a++]);for(var l=1;l<s;l++)e.lineTo(r[a++],r[a++])}}else for(a=0;a<r.length;){var u=r[a++],h=r[a++],c=r[a++],p=r[a++];if(e.moveTo(u,h),o>0){var d=(u+c)/2-(h-p)*o,f=(h+p)/2-(c-u)*o;e.quadraticCurveTo(d,f,c,p)}else e.lineTo(c,p)}},t.prototype.findDataIndex=function(e,n){var r=this.shape,o=r.segs,a=r.curveness,s=this.style.lineWidth;if(r.polyline)for(var l=0,u=0;u<o.length;){var h=o[u++];if(h>0){for(var c=o[u++],p=o[u++],d=1;d<h;d++)if(Vi(c,p,f=o[u++],g=o[u++],s,e,n))return l}l++}else for(l=0,u=0;u<o.length;){c=o[u++],p=o[u++];var f=o[u++],g=o[u++];if(a>0){if(a0(c,p,(c+f)/2-(p-g)*a,(p+g)/2-(f-c)*a,f,g,s,e,n))return l}else if(Vi(c,p,f,g,s,e,n))return l;l++}return-1},t}(Me),HR=function(){function i(){this.group=new oe}return i.prototype.isPersistent=function(){return!this._incremental},i.prototype.updateData=function(t){this.group.removeAll();var e=new OM({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},i.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new xs({silent:!0})),this.group.add(this._incremental)):this._incremental=null},i.prototype.incrementalUpdate=function(t,e){var n=new OM;n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=t.start,this.group.add(n))},i.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},i.prototype._setCommon=function(t,e,n){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("style");if(o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null),!n){var a=se(t);a.seriesIndex=r.seriesIndex,t.on("mousemove",function(s){a.dataIndex=null;var l=t.findDataIndex(s.offsetX,s.offsetY);l>0&&(a.dataIndex=l+t.__startIndex)})}},i.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},i}(),RM={seriesType:"lines",plan:ia(),reset:function(t){var e=t.coordinateSystem,n=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(a,s){var l=[];if(r){var u=void 0,h=a.end-a.start;if(n){for(var c=0,p=a.start;p<a.end;p++)c+=t.getLineCoordsCount(p);u=new Float32Array(h+2*c)}else u=new Float32Array(4*h);var d=0,f=[];for(p=a.start;p<a.end;p++){var g=t.getLineCoords(p,l);n&&(u[d++]=g);for(var y=0;y<g;y++)f=e.dataToPoint(l[y],!1,f),u[d++]=f[0],u[d++]=f[1]}s.setLayout("linesPoints",u)}else for(p=a.start;p<a.end;p++){var m=s.getItemModel(p),v=(g=t.getLineCoords(p,l),[]);if(n)for(var _=0;_<g;_++)v.push(e.dataToPoint(l[_]));else{v[0]=e.dataToPoint(l[0]),v[1]=e.dataToPoint(l[1]);var x=m.get(["lineStyle","curveness"]);+x&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*x,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*x])}s.setItemLayout(p,v)}}}}},WR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){var o=e.getData(),a=this._updateLineDraw(o,e),s=e.get("zlevel"),l=e.get(["effect","trailLength"]),u=r.getZr(),h=u.painter.getType()==="svg";h||u.painter.getLayer(s).clear(!0),this._lastZlevel==null||h||u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l&&(h||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),a.updateData(o);var c=e.get("clip",!0)&&Hh(e.coordinateSystem,!1,e);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,r){var o=e.getData();this._updateLineDraw(o,e).incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},t.prototype.incrementalRender=function(e,n,r){this._lineDraw.incrementalUpdate(e,n.getData()),this._finished=e.end===n.getData().count()},t.prototype.updateTransform=function(e,n,r){var o=e.getData(),a=e.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var s=RM.reset(e,n,r);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},t.prototype._updateLineDraw=function(e,n){var r=this._lineDraw,o=this._showEffect(n),a=!!n.get("polyline"),s=n.pipelineContext.large;return r&&o===this._hasEffet&&a===this._isPolyline&&s===this._isLargeDraw||(r&&r.remove(),r=this._lineDraw=s?new HR:new qg(a?o?GR:PM:o?kM:jg),this._hasEffet=o,this._isPolyline=a,this._isLargeDraw=s,this.group.removeAll()),this.group.add(r.group),r},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var n=e.getZr();n.painter.getType()==="svg"||this._lastZlevel==null||n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.type="lines",t}(Re),UR=typeof Uint32Array=="undefined"?Array:Uint32Array,YR=typeof Float64Array=="undefined"?Array:Float64Array;function NM(i){var t=i.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(i.data=j(t,function(e){var n={coords:[e[0].coord,e[1].coord]};return e[0].name&&(n.fromName=e[0].name),e[1].name&&(n.toName=e[1].name),pr([n,e[0],e[1]])}))}var XR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return z(t,i),t.prototype.init=function(e){e.data=e.data||[],NM(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),i.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(NM(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}i.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=Nc(this._flatCoords,n.flatCoords),this._flatCoordsOffset=Nc(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var n=this.getData().getItemModel(e),r=n.option instanceof Array?n.option:n.getShallow("coords");return r},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,n){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*e],o=this._flatCoordsOffset[2*e+1],a=0;a<o;a++)n[a]=n[a]||[],n[a][0]=this._flatCoords[r+2*a],n[a][1]=this._flatCoords[r+2*a+1];return o}var s=this._getCoordsFromItemModel(e);for(a=0;a<s.length;a++)n[a]=n[a]||[],n[a][0]=s[a][0],n[a][1]=s[a][1];return s.length},t.prototype._processFlatCoordsArray=function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),typeof e[0]=="number"){for(var r=e.length,o=new UR(r),a=new YR(r),s=0,l=0,u=0,h=0;h<r;){u++;var c=e[h++];o[l++]=s+n,o[l++]=c;for(var p=0;p<c;p++){var d=e[h++],f=e[h++];a[s++]=d,a[s++]=f}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,l),flatCoords:a,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,n){var r=new Pt(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(o,a,s,l){if(o instanceof Array)return NaN;r.hasItemOption=!0;var u=o.value;return u!=null?u instanceof Array?u[l]:u:void 0}),r},t.prototype.formatTooltip=function(e,n,r){var o=this.getData().getItemModel(e),a=o.get("name");if(a)return a;var s=o.get("fromName"),l=o.get("toName"),u=[];return s!=null&&u.push(s),l!=null&&u.push(l),_t("nameValue",{name:u.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return e==null?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e==null?this.option.large?2e4:this.get("progressiveThreshold"):e},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(ze);function sc(i){return i instanceof Array||(i=[i,i]),i}var ZR={seriesType:"lines",reset:function(t){var e=sc(t.get("symbol")),n=sc(t.get("symbolSize")),r=t.getData();return r.setVisual("fromSymbol",e&&e[0]),r.setVisual("toSymbol",e&&e[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]),{dataEach:r.hasItemOption?function(o,a){var s=o.getItemModel(a),l=sc(s.getShallow("symbol",!0)),u=sc(s.getShallow("symbolSize",!0));l[0]&&o.setItemVisual(a,"fromSymbol",l[0]),l[1]&&o.setItemVisual(a,"toSymbol",l[1]),u[0]&&o.setItemVisual(a,"fromSymbolSize",u[0]),u[1]&&o.setItemVisual(a,"toSymbolSize",u[1])}:null}}},jR=function(){function i(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=st();this.canvas=t}return i.prototype.update=function(t,e,n,r,o,a){var s=this._getBrush(),l=this._getGradient(o,"inRange"),u=this._getGradient(o,"outOfRange"),h=this.pointSize+this.blurSize,c=this.canvas,p=c.getContext("2d"),d=t.length;c.width=e,c.height=n;for(var f=0;f<d;++f){var g=t[f],y=g[0],m=g[1],v=r(g[2]);p.globalAlpha=v,p.drawImage(s,y-h,m-h)}if(!c.width||!c.height)return c;for(var _=p.getImageData(0,0,c.width,c.height),x=_.data,b=0,w=x.length,S=this.minOpacity,M=this.maxOpacity-S;b<w;){v=x[b+3]/256;var I=4*Math.floor(255*v);if(v>0){var T=a(v)?l:u;v>0&&(v=v*M+S),x[b++]=T[I],x[b++]=T[I+1],x[b++]=T[I+2],x[b++]=T[I+3]*v*256}else b+=4}return p.putImageData(_,0,0),c},i.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=st()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var r=t.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},i.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,r=n[e]||(n[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)t[e](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r},i}();function EM(i){var t=i.dimensions;return t[0]==="lng"&&t[1]==="lat"}var qR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){var o;n.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===e&&(o=s)})}),this.group.removeAll(),this._incrementalDisplayable=null;var a=e.coordinateSystem;a.type==="cartesian2d"||a.type==="calendar"?this._renderOnCartesianAndCalendar(e,r,0,e.getData().count()):EM(a)&&this._renderOnGeo(a,e,o,r)},t.prototype.incrementalPrepareRender=function(e,n,r){this.group.removeAll()},t.prototype.incrementalRender=function(e,n,r,o){var a=n.coordinateSystem;a&&(EM(a)?this.render(n,r,o):this._renderOnCartesianAndCalendar(n,o,e.start,e.end,!0))},t.prototype._renderOnCartesianAndCalendar=function(e,n,r,o,a){var s,l,u,h,c=e.coordinateSystem;if(vi(c,"cartesian2d")){var p=c.getAxis("x"),d=c.getAxis("y");s=p.getBandWidth(),l=d.getBandWidth(),u=p.scale.getExtent(),h=d.scale.getExtent()}for(var f=this.group,g=e.getData(),y=e.getModel(["emphasis","itemStyle"]).getItemStyle(),m=e.getModel(["blur","itemStyle"]).getItemStyle(),v=e.getModel(["select","itemStyle"]).getItemStyle(),_=St(e),x=e.get(["emphasis","focus"]),b=e.get(["emphasis","blurScope"]),w=vi(c,"cartesian2d")?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],S=r;S<o;S++){var M=void 0,I=g.getItemVisual(S,"style");if(vi(c,"cartesian2d")){var T=g.get(w[0],S),C=g.get(w[1],S);if(isNaN(g.get(w[2],S))||T<u[0]||T>u[1]||C<h[0]||C>h[1])continue;var A=c.dataToPoint([T,C]);M=new Se({shape:{x:Math.floor(Math.round(A[0])-s/2),y:Math.floor(Math.round(A[1])-l/2),width:Math.ceil(s),height:Math.ceil(l)},style:I})}else{if(isNaN(g.get(w[1],S)))continue;M=new Se({z2:1,shape:c.dataToRect([g.get(w[0],S)]).contentShape,style:I})}var L=g.getItemModel(S);if(g.hasItemOption){var k=L.getModel("emphasis");y=k.getModel("itemStyle").getItemStyle(),m=L.getModel(["blur","itemStyle"]).getItemStyle(),v=L.getModel(["select","itemStyle"]).getItemStyle(),x=k.get("focus"),b=k.get("blurScope"),_=St(L)}var P=e.getRawValue(S),O="-";P&&P[2]!=null&&(O=P[2]+""),Lt(M,_,{labelFetcher:e,labelDataIndex:S,defaultOpacity:I.opacity,defaultText:O}),M.ensureState("emphasis").style=y,M.ensureState("blur").style=m,M.ensureState("select").style=v,Ge(M,x,b),M.incremental=a,a&&(M.states.emphasis.hoverLayer=!0),f.add(M),g.setItemGraphicEl(S,M)}},t.prototype._renderOnGeo=function(e,n,r,o){var a=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new jR;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var h=e.getViewRect().clone(),c=e.getRoamTransform();h.applyTransform(c);var p=Math.max(h.x,0),d=Math.max(h.y,0),f=Math.min(h.width+h.x,o.getWidth()),g=Math.min(h.height+h.y,o.getHeight()),y=f-p,m=g-d,v=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],_=l.mapArray(v,function(S,M,I){var T=e.dataToPoint([S,M]);return T[0]-=p,T[1]-=d,T.push(I),T}),x=r.getExtent(),b=r.type==="visualMap.continuous"?function(S,M){var I=S[1]-S[0];return M=[(M[0]-S[0])/I,(M[1]-S[0])/I],function(T){return T>=M[0]&&T<=M[1]}}(x,r.option.range):function(S,M,I){var T=S[1]-S[0],C=(M=j(M,function(L){return{interval:[(L.interval[0]-S[0])/T,(L.interval[1]-S[0])/T]}})).length,A=0;return function(L){var k;for(k=A;k<C;k++)if((P=M[k].interval)[0]<=L&&L<=P[1]){A=k;break}if(k===C)for(k=A-1;k>=0;k--){var P;if((P=M[k].interval)[0]<=L&&L<=P[1]){A=k;break}}return k>=0&&k<C&&I[k]}}(x,r.getPieceList(),r.option.selected);u.update(_,y,m,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:s.color.getColorMapper()},b);var w=new ut({style:{width:y,height:m,x:p,y:d,image:u.canvas},silent:!0});this.group.add(w)},t.type="heatmap",t}(Re),KR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.getInitialData=function(e,n){return ni(this.getSource(),this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Qo.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(ze),$R=["itemStyle","borderWidth"],zM=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Sy=new fn,JR=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){var o=this.group,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis().isHorizontal(),h=l.master.getRect(),c={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:e,coordSys:l,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:u,valueDim:zM[+u],categoryDim:zM[1-+u]};return a.diff(s).add(function(p){if(a.hasValue(p)){var d=UM(a,p),f=BM(a,p,d,c),g=YM(a,c,f);a.setItemGraphicEl(p,g),o.add(g),jM(g,c,f)}}).update(function(p,d){var f=s.getItemGraphicEl(d);if(a.hasValue(p)){var g=UM(a,p),y=BM(a,p,g,c),m=ZM(a,y);f&&m!==f.__pictorialShapeStr&&(o.remove(f),a.setItemGraphicEl(p,null),f=null),f?function(v,_,x){var b=x.animationModel,w=x.dataIndex;Te(v.__pictorialBundle,{x:x.bundlePosition[0],y:x.bundlePosition[1]},b,w),x.symbolRepeat?GM(v,_,x,!0):FM(v,_,x,!0),HM(v,x,!0),WM(v,_,x,!0)}(f,c,y):f=YM(a,c,y,!0),a.setItemGraphicEl(p,f),f.__pictorialSymbolMeta=y,o.add(f),jM(f,c,y)}else o.remove(f)}).remove(function(p){var d=s.getItemGraphicEl(p);d&&XM(s,p,d.__pictorialSymbolMeta.animationModel,d)}).execute(),this._data=a,this.group},t.prototype.remove=function(e,n){var r=this.group,o=this._data;e.get("animation")?o&&o.eachItemGraphicEl(function(a){XM(o,se(a).dataIndex,e,a)}):r.removeAll()},t.type="pictorialBar",t}(Re);function BM(i,t,e,n){var r=i.getItemLayout(t),o=e.get("symbolRepeat"),a=e.get("symbolClip"),s=e.get("symbolPosition")||"start",l=(e.get("symbolRotate")||0)*Math.PI/180||0,u=e.get("symbolPatternSize")||2,h=e.isAnimationEnabled(),c={dataIndex:t,layout:r,itemModel:e,symbolType:i.getItemVisual(t,"symbol")||"circle",style:i.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:h?e:null,hoverScale:h&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function(f,g,y,m,v){var _,x=m.valueDim,b=f.get("symbolBoundingData"),w=m.coordSys.getOtherAxis(m.coordSys.getBaseAxis()),S=w.toGlobalCoord(w.dataToCoord(0)),M=1-+(y[x.wh]<=0);if(W(b)){var I=[My(w,b[0])-S,My(w,b[1])-S];I[1]<I[0]&&I.reverse(),_=I[M]}else _=b!=null?My(w,b)-S:g?m.coordSysExtent[x.index][M]-S:y[x.wh];v.boundingLength=_,g&&(v.repeatCutLength=y[x.wh]),v.pxSign=_>0?1:_<0?-1:0})(e,o,r,n,c),function(f,g,y,m,v,_,x,b,w,S){var M,I=w.valueDim,T=w.categoryDim,C=Math.abs(y[T.wh]),A=f.getItemVisual(g,"symbolSize");M=W(A)?A.slice():A==null?["100%","100%"]:[A,A],M[T.index]=q(M[T.index],C),M[I.index]=q(M[I.index],m?C:Math.abs(_)),S.symbolSize=M,(S.symbolScale=[M[0]/b,M[1]/b])[I.index]*=(w.isHorizontal?-1:1)*x}(i,t,r,o,0,c.boundingLength,c.pxSign,u,n,c),function(f,g,y,m,v){var _=f.get($R)||0;_&&(Sy.attr({scaleX:g[0],scaleY:g[1],rotation:y}),Sy.updateTransform(),_/=Sy.getLineScale(),_*=g[m.valueDim.index]),v.valueLineWidth=_}(e,c.symbolScale,l,n,c);var p=c.symbolSize,d=e.get("symbolOffset");return W(d)&&(d=[q(d[0],p[0]),q(d[1],p[1])]),function(f,g,y,m,v,_,x,b,w,S,M,I){var T=M.categoryDim,C=M.valueDim,A=I.pxSign,L=Math.max(g[C.index]+b,0),k=L;if(m){var P=Math.abs(w),O=yt(f.get("symbolMargin"),"15%")+"",R=!1;O.lastIndexOf("!")===O.length-1&&(R=!0,O=O.slice(0,O.length-1));var N=q(O,g[C.index]),E=Math.max(L+2*N,0),B=R?0:2*N,G=Dp(m),F=G?m:qM((P+B)/E);E=L+2*(N=(P-F*L)/2/(R?F:F-1)),B=R?0:2*N,G||m==="fixed"||(F=S?qM((Math.abs(S)+B)/E):0),k=F*E-B,I.repeatTimes=F,I.symbolMargin=N}var H=A*(k/2),V=I.pathPosition=[];V[T.index]=y[T.wh]/2,V[C.index]=x==="start"?H:x==="end"?w-H:w/2,_&&(V[0]+=_[0],V[1]+=_[1]);var U=I.bundlePosition=[];U[T.index]=y[T.xy],U[C.index]=y[C.xy];var Y=I.barRectShape=X({},y);Y[C.wh]=A*Math.max(Math.abs(y[C.wh]),Math.abs(V[C.index]+H)),Y[T.wh]=y[T.wh];var Z=I.clipShape={};Z[T.xy]=-y[T.xy],Z[T.wh]=M.ecSize[T.wh],Z[C.xy]=0,Z[C.wh]=y[C.wh]}(e,p,r,o,0,d,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,n,c),c}function My(i,t){return i.toGlobalCoord(i.dataToCoord(i.scale.parse(t)))}function VM(i){var t=i.symbolPatternSize,e=ot(i.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function GM(i,t,e,n){var r=i.__pictorialBundle,o=e.symbolSize,a=e.valueLineWidth,s=e.pathPosition,l=t.valueDim,u=e.repeatTimes||0,h=0,c=o[t.valueDim.index]+a+2*e.symbolMargin;for(Iy(i,function(g){g.__pictorialAnimationIndex=h,g.__pictorialRepeatTimes=u,h<u?Ta(g,null,f(h),e,n):Ta(g,null,{scaleX:0,scaleY:0},e,n,function(){r.remove(g)}),h++});h<u;h++){var p=VM(e);p.__pictorialAnimationIndex=h,p.__pictorialRepeatTimes=u,r.add(p);var d=f(h);Ta(p,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},e,n)}function f(g){var y=s.slice(),m=e.pxSign,v=g;return(e.symbolRepeatDirection==="start"?m>0:m<0)&&(v=u-1-g),y[l.index]=c*(v-u/2+.5)+s[l.index],{x:y[0],y:y[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function FM(i,t,e,n){var r=i.__pictorialBundle,o=i.__pictorialMainPath;o?Ta(o,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,n):(o=i.__pictorialMainPath=VM(e),r.add(o),Ta(o,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,n))}function HM(i,t,e){var n=X({},t.barRectShape),r=i.__pictorialBarRect;r?Ta(r,null,{shape:n},t,e):(r=i.__pictorialBarRect=new Se({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.add(r))}function WM(i,t,e,n){if(e.symbolClip){var r=i.__pictorialClipPath,o=X({},e.clipShape),a=t.valueDim,s=e.animationModel,l=e.dataIndex;if(r)Te(r,{shape:o},s,l);else{o[a.wh]=0,r=new Se({shape:o}),i.__pictorialBundle.setClipPath(r),i.__pictorialClipPath=r;var u={};u[a.wh]=e.clipShape[a.wh],Is[n?"updateProps":"initProps"](r,{shape:u},s,l)}}}function UM(i,t){var e=i.getItemModel(t);return e.getAnimationDelayParams=QR,e.isAnimationEnabled=eN,e}function QR(i){return{index:i.__pictorialAnimationIndex,count:i.__pictorialRepeatTimes}}function eN(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function YM(i,t,e,n){var r=new oe,o=new oe;return r.add(o),r.__pictorialBundle=o,o.x=e.bundlePosition[0],o.y=e.bundlePosition[1],e.symbolRepeat?GM(r,t,e):FM(r,0,e),HM(r,e,n),WM(r,t,e,n),r.__pictorialShapeStr=ZM(i,e),r.__pictorialSymbolMeta=e,r}function XM(i,t,e,n){var r=n.__pictorialBarRect;r&&r.removeTextContent();var o=[];Iy(n,function(a){o.push(a)}),n.__pictorialMainPath&&o.push(n.__pictorialMainPath),n.__pictorialClipPath&&(e=null),D(o,function(a){Hi(a,{scaleX:0,scaleY:0},e,t,function(){n.parent&&n.parent.remove(n)})}),i.setItemGraphicEl(t,null)}function ZM(i,t){return[i.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Iy(i,t,e){D(i.__pictorialBundle.children(),function(n){n!==i.__pictorialBarRect&&t.call(e,n)})}function Ta(i,t,e,n,r,o){t&&i.attr(t),n.symbolClip&&!r?e&&i.attr(e):e&&Is[r?"updateProps":"initProps"](i,e,n.animationModel,n.dataIndex,o)}function jM(i,t,e){var n=e.dataIndex,r=e.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),h=o.get("focus"),c=o.get("blurScope"),p=o.get("scale");Iy(i,function(f){if(f instanceof ut){var g=f.style;f.useStyle(X({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},e.style))}else f.useStyle(e.style);var y=f.ensureState("emphasis");y.style=a,p&&(y.scaleX=1.1*f.scaleX,y.scaleY=1.1*f.scaleY),f.ensureState("blur").style=s,f.ensureState("select").style=l,u&&(f.cursor=u),f.z2=e.z2});var d=t.valueDim.posDesc[+(e.boundingLength>0)];Lt(i.__pictorialBarRect,St(r),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:ga(t.seriesModel.getData(),n),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:d}),Ge(i,h,c)}function qM(i){var t=Math.round(i);return Math.abs(i-t)<1e-4?t:Math.ceil(i)}var tN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return z(t,i),t.prototype.getInitialData=function(e){return e.stack=null,i.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Ui(gl.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(gl),nN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return z(t,i),t.prototype.render=function(e,n,r){var o=e.getData(),a=this,s=this.group,l=e.getLayerSeries(),u=o.getLayout("layoutInfo"),h=u.rect,c=u.boundaryGap;function p(y){return y.name}s.x=0,s.y=h.y+c[0];var d=new $i(this._layersSeries||[],l,p,p),f=[];function g(y,m,v){var _=a._layers;if(y!=="remove"){for(var x,b,w=[],S=[],M=l[m].indices,I=0;I<M.length;I++){var T=o.getItemLayout(M[I]),C=T.x,A=T.y0,L=T.y;w.push(C,A),S.push(C,A+L),x=o.getItemVisual(M[I],"style")}var k=o.getItemLayout(M[0]),P=e.getModel("label").get("margin"),O=e.getModel("emphasis");if(y==="add"){var R=f[m]=new oe;b=new Jb({shape:{points:w,stackedOnPoints:S,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),R.add(b),s.add(R),e.isAnimationEnabled()&&b.setClipPath(function(E,B,G){var F=new Se({shape:{x:E.x-10,y:E.y-10,width:0,height:E.height+20}});return $e(F,{shape:{x:E.x-50,width:E.width+100,height:E.height+20}},B,G),F}(b.getBoundingRect(),e,function(){b.removeClipPath()}))}else R=_[v],b=R.childAt(0),s.add(R),f[m]=R,Te(b,{shape:{points:w,stackedOnPoints:S}},e);Lt(b,St(e),{labelDataIndex:M[I-1],defaultText:o.getName(M[I-1]),inheritColor:x.fill},{normal:{verticalAlign:"middle"}}),b.setTextConfig({position:null,local:!0});var N=b.getTextContent();N&&(N.x=k.x-P,N.y=k.y0+k.y/2),b.useStyle(x),o.setItemGraphicEl(m,b),Mt(b,e),Ge(b,O.get("focus"),O.get("blurScope"))}else s.remove(_[m])}d.add(Q(g,this,"add")).update(Q(g,this,"update")).remove(Q(g,this,"remove")).execute(),this._layersSeries=l,this._layers=f},t.type="themeRiver",t}(Re),iN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.useColorPaletteOnData=!0,e}return z(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new ml(Q(this.getData,this),Q(this.getRawData,this))},t.prototype.fixData=function(e){var n=e.length,r={},o=Pp(e,function(p){return r.hasOwnProperty(p[0]+"")||(r[p[0]+""]=-1),p[2]}),a=[];o.buckets.each(function(p,d){a.push({name:d,dataList:p})});for(var s=a.length,l=0;l<s;++l){for(var u=a[l].name,h=0;h<a[l].dataList.length;++h){var c=a[l].dataList[h][0]+"";r[c]=l}for(var c in r)r.hasOwnProperty(c)&&r[c]!==l&&(r[c]=l,e[n]=[c,0,u],n++)}return e},t.prototype.getInitialData=function(e,n){for(var r=this.getReferringComponents("singleAxis",lt).models[0].get("type"),o=Ke(e.data,function(d){return d[2]!==void 0}),a=this.fixData(o||[]),s=[],l=this.nameMap=re(),u=0,h=0;h<a.length;++h)s.push(a[h][2]),l.get(a[h][2])||(l.set(a[h][2],u),u++);var c=ha(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Sh(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),p=new Pt(c,this);return p.initData(a),p},t.prototype.getLayerSeries=function(){for(var e=this.getData(),n=e.count(),r=[],o=0;o<n;++o)r[o]=o;var a=e.mapDimension("single"),s=Pp(r,function(u){return e.get("name",u)}),l=[];return s.buckets.each(function(u,h){u.sort(function(c,p){return e.get(a,c)-e.get(a,p)}),l.push({name:h,indices:u})}),l},t.prototype.getAxisTooltipData=function(e,n,r){W(e)||(e=e?[e]:[]);for(var o,a=this.getData(),s=this.getLayerSeries(),l=[],u=s.length,h=0;h<u;++h){for(var c=Number.MAX_VALUE,p=-1,d=s[h].indices.length,f=0;f<d;++f){var g=a.get(e[0],s[h].indices[f]),y=Math.abs(g-n);y<=c&&(o=g,c=y,p=s[h].indices[f])}l.push(p)}return{dataIndices:l,nestestValue:o}},t.prototype.formatTooltip=function(e,n,r){var o=this.getData();return _t("nameValue",{name:o.getName(e),value:o.get(o.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(ze);function rN(i,t){i.eachSeriesByType("themeRiver",function(e){var n=e.getData(),r=e.coordinateSystem,o={},a=r.getRect();o.rect=a;var s=e.get("boundaryGap"),l=r.getAxis();o.boundaryGap=s,l.orient==="horizontal"?(s[0]=q(s[0],a.height),s[1]=q(s[1],a.height),KM(n,e,a.height-s[0]-s[1])):(s[0]=q(s[0],a.width),s[1]=q(s[1],a.width),KM(n,e,a.width-s[0]-s[1])),n.setLayout("layoutInfo",o)})}function KM(i,t,e){if(i.count())for(var n,r=t.coordinateSystem,o=t.getLayerSeries(),a=i.mapDimension("single"),s=i.mapDimension("value"),l=j(o,function(y){return j(y.indices,function(m){var v=r.dataToPoint(i.get(a,m));return v[1]=i.get(s,m),v})}),u=function(y){for(var m=y.length,v=y[0].length,_=[],x=[],b=0,w=0;w<v;++w){for(var S=0,M=0;M<m;++M)S+=y[M][w][1];S>b&&(b=S),_.push(S)}for(var I=0;I<v;++I)x[I]=(b-_[I])/2;b=0;for(var T=0;T<v;++T){var C=_[T]+x[T];C>b&&(b=C)}return{y0:x,max:b}}(l),h=u.y0,c=e/u.max,p=o.length,d=o[0].indices.length,f=0;f<d;++f){n=h[f]*c,i.setItemLayout(o[0].indices[f],{layerIndex:0,x:l[0][f][0],y0:n,y:l[0][f][1]*c});for(var g=1;g<p;++g)n+=l[g-1][f][1]*c,i.setItemLayout(o[g].indices[f],{layerIndex:g,x:l[g][f][0],y0:n,y:l[g][f][1]*c})}}var $M=function(i){function t(e,n,r,o){var a=i.call(this)||this;a.z2=2,a.textConfig={inside:!0},se(a).seriesIndex=n.seriesIndex;var s=new Ie({z2:4,silent:e.getModel().get(["label","silent"])});return a.setTextContent(s),a.updateData(!0,e,n,r,o),a}return z(t,i),t.prototype.updateData=function(e,n,r,o,a){this.node=n,n.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var s=this;se(s).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),h=n.getLayout(),c=X({},h);c.label=null;var p=n.getVisual("style");p.lineJoin="bevel";var d=n.getVisual("decal");d&&(p.decal=Us(d,a));var f=ma(l.getModel("itemStyle"),c);X(c,f),D(Qt,function(m){var v=s.ensureState(m),_=l.getModel([m,"itemStyle"]);v.style=_.getItemStyle();var x=ma(_,c);x&&(v.shape=x)}),e?(s.setShape(c),s.shape.r=h.r0,Te(s,{shape:{r:h.r}},r,n.dataIndex)):Te(s,{shape:c},r),s.useStyle(p),this._updateLabel(r);var g=l.getShallow("cursor");g&&s.attr("cursor",g),this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel;var y=u.get("focus");Ge(this,y==="ancestor"?n.getAncestorsIndices():y==="descendant"?n.getDescendantIndices():y,u.get("blurScope"))},t.prototype._updateLabel=function(e){var n=this,r=this.node.getModel(),o=r.getModel("label"),a=this.node.getLayout(),s=a.endAngle-a.startAngle,l=(a.startAngle+a.endAngle)/2,u=Math.cos(l),h=Math.sin(l),c=this,p=c.getTextContent(),d=this.node.dataIndex,f=o.get("minAngle")/180*Math.PI,g=o.get("show")&&!(f!=null&&Math.abs(s)<f);function y(m,v){var _=m.get(v);return _==null?o.get(v):_}p.ignore=!g,D(ds,function(m){var v=m==="normal"?r.getModel("label"):r.getModel([m,"label"]),_=m==="normal",x=_?p:p.ensureState(m),b=e.getFormattedLabel(d,m);_&&(b=b||n.node.name),x.style=nt(v,{},null,m!=="normal",!0),b&&(x.style.text=b);var w=v.get("show");w==null||_||(x.ignore=!w);var S,M=y(v,"position"),I=_?c:c.states[m],T=I.style.fill;I.textConfig={outsideFill:v.get("color")==="inherit"?T:null,inside:M!=="outside"};var C=y(v,"distance")||0,A=y(v,"align");M==="outside"?(S=a.r+C,A=l>Math.PI/2?"right":"left"):A&&A!=="center"?A==="left"?(S=a.r0+C,l>Math.PI/2&&(A="right")):A==="right"&&(S=a.r-C,l>Math.PI/2&&(A="left")):(S=(a.r+a.r0)/2,A="center"),x.style.align=A,x.style.verticalAlign=y(v,"verticalAlign")||"middle",x.x=S*u+a.cx,x.y=S*h+a.cy;var L=y(v,"rotate"),k=0;L==="radial"?(k=-l)<-Math.PI/2&&(k+=Math.PI):L==="tangential"?(k=Math.PI/2-l)>Math.PI/2?k-=Math.PI:k<-Math.PI/2&&(k+=Math.PI):typeof L=="number"&&(k=L*Math.PI/180),x.rotation=k}),p.dirtyStyle()},t}(Et),Ty="sunburstRootToNode",JM="sunburstHighlight",oN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r,o){var a=this;this.seriesModel=e,this.api=r,this.ecModel=n;var s=e.getData(),l=s.tree.root,u=e.getViewRoot(),h=this.group,c=e.get("renderLabelForZeroData"),p=[];u.eachNode(function(f){p.push(f)});var d=this._oldChildren||[];(function(f,g){if(f.length===0&&g.length===0)return;function y(v){return v.getId()}function m(v,_){(function(x,b){if(c||!x||x.getValue()||(x=null),x!==l&&b!==l){if(b&&b.piece)x?(b.piece.updateData(!1,x,e,n,r),s.setItemGraphicEl(x.dataIndex,b.piece)):function(S){!S||S.piece&&(h.remove(S.piece),S.piece=null)}(b);else if(x){var w=new $M(x,e,n,r);h.add(w),s.setItemGraphicEl(x.dataIndex,w)}}})(v==null?null:f[v],_==null?null:g[_])}new $i(g,f,y,y).add(m).update(m).remove(he(m,null)).execute()})(p,d),function(f,g){g.depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,f,e,n,r):(a.virtualPiece=new $M(f,e,n,r),h.add(a.virtualPiece)),g.piece.off("click"),a.virtualPiece.on("click",function(y){a._rootToNode(g.parentNode)})):a.virtualPiece&&(h.remove(a.virtualPiece),a.virtualPiece=null)}(l,u),this._initEvents(),this._oldChildren=p},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(n){var r=!1;e.seriesModel.getViewRoot().eachNode(function(o){if(!r&&o.piece&&o.piece===n.target){var a=o.getModel().get("nodeClick");if(a==="rootToNode")e._rootToNode(o);else if(a==="link"){var s=o.getModel(),l=s.get("link");l&&Xu(l,s.get("target",!0)||"_blank")}r=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Ty,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,n){var r=n.getData().getItemLayout(0);if(r){var o=e[0]-r.cx,a=e[1]-r.cy,s=Math.sqrt(o*o+a*a);return s<=r.r&&s>=r.r0}},t.type="sunburst",t}(Re),aN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return z(t,i),t.prototype.getInitialData=function(e,n){var r={name:e.name,children:e.data};QM(r);var o=j(e.levels||[],function(s){return new Ae(s,this,n)},this),a=Dg.createTree(r,this,function(s){s.wrapMethod("getItemModel",function(l,u){var h=a.getNodeByDataIndex(u),c=o[h.depth];return c&&(l.parentModel=c),l})});return a.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=kg(r,this),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;e&&(e===n||n.contains(e))||(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){hS(this)},t.type="series.sunburst",t.defaultOption={zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],levels:[],sort:"desc"},t}(ze);function QM(i){var t=0;D(i.children,function(n){QM(n);var r=n.value;W(r)&&(r=r[0]),t+=r});var e=i.value;W(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),W(i.value)?i.value[0]=e:i.value=e}var eI=Math.PI/180;function sN(i,t,e){t.eachSeriesByType(i,function(n){var r=n.get("center"),o=n.get("radius");W(o)||(o=[0,o]),W(r)||(r=[r,r]);var a=e.getWidth(),s=e.getHeight(),l=Math.min(a,s),u=q(r[0],a),h=q(r[1],s),c=q(o[0],l/2),p=q(o[1],l/2),d=-n.get("startAngle")*eI,f=n.get("minAngle")*eI,g=n.getData().tree.root,y=n.getViewRoot(),m=y.depth,v=n.get("sort");v!=null&&tI(y,v);var _=0;D(y.children,function(O){!isNaN(O.getValue())&&_++});var x=y.getValue(),b=Math.PI/(x||_)*2,w=y.depth>0,S=y.height-(w?-1:1),M=(p-c)/(S||1),I=n.get("clockwise"),T=n.get("stillShowZeroSum"),C=I?1:-1,A=function O(R,N){if(R){var E=N;if(R!==g){var B=R.getValue(),G=x===0&&T?b:B*b;G<f&&(G=f),E=N+C*G;var F=R.depth-m-(w?-1:1),H=c+M*F,V=c+M*(F+1),U=R.getModel();U.get("r0")!=null&&(H=q(U.get("r0"),l/2)),U.get("r")!=null&&(V=q(U.get("r"),l/2)),R.setLayout({angle:G,startAngle:N,endAngle:E,clockwise:I,cx:u,cy:h,r0:H,r:V})}if(R.children&&R.children.length){var Y=0;D(R.children,function(Z){Y+=O(Z,N+Y)})}return E-N}};if(w){var L=c,k=c+M,P=2*Math.PI;g.setLayout({angle:P,startAngle:d,endAngle:d+P,clockwise:I,cx:u,cy:h,r0:L,r:k})}A(y,d)})}function tI(i,t){var e=i.children||[];i.children=function(n,r){if(typeof r=="function"){var o=j(n,function(s,l){var u=s.getValue();return{params:{depth:s.depth,height:s.height,dataIndex:s.dataIndex,getValue:function(){return u}},index:l}});return o.sort(function(s,l){return r(s.params,l.params)}),j(o,function(s){return n[s.index]})}var a=r==="asc";return n.sort(function(s,l){var u=(s.getValue()-l.getValue())*(a?1:-1);return u===0?(s.dataIndex-l.dataIndex)*(a?-1:1):u})}(e,t),e.length&&D(i.children,function(n){tI(n,t)})}function lN(i){var t={};i.eachSeriesByType("sunburst",function(e){var n=e.getData(),r=n.tree;r.eachNode(function(o){var a=o.getModel().getModel("itemStyle").getItemStyle();a.fill||(a.fill=function(s,l,u){for(var h=s;h&&h.depth>1;)h=h.parentNode;var c=l.getColorFromPalette(h.name||h.dataIndex+"",t);return s.depth>1&&typeof c=="string"&&(c=ep(c,(s.depth-1)/(u-1)*.5)),c}(o,e,r.root.height)),X(n.ensureUniqueItemVisual(o.dataIndex,"style"),a)})})}function uN(i,t){return t=t||[0,0],j(["x","y"],function(e,n){var r=this.getAxis(e),o=t[n],a=i[n]/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function hN(i,t){return t=t||[0,0],j([0,1],function(e){var n=t[e],r=i[e]/2,o=[],a=[];return o[e]=n-r,a[e]=n+r,o[1-e]=a[1-e]=t[1-e],Math.abs(this.dataToPoint(o)[e]-this.dataToPoint(a)[e])},this)}function cN(i,t){var e=this.getAxis(),n=t instanceof Array?t[0]:t,r=(i instanceof Array?i[0]:i)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(n-r)-e.dataToCoord(n+r))}function pN(i,t){return t=t||[0,0],j(["Radius","Angle"],function(e,n){var r=this["get"+e+"Axis"](),o=t[n],a=i[n]/2,s=r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return e==="Angle"&&(s=s*Math.PI/180),s},this)}function nI(i,t,e,n){return i&&(i.legacy||i.legacy!==!1&&!e&&!n&&t!=="tspan"&&(t==="text"||ee(i,"text")))}function iI(i,t,e){var n,r,o,a=i;if(t==="text")o=a;else{o={},ee(a,"text")&&(o.text=a.text),ee(a,"rich")&&(o.rich=a.rich),ee(a,"textFill")&&(o.fill=a.textFill),ee(a,"textStroke")&&(o.stroke=a.textStroke),r={type:"text",style:o,silent:!0},n={};var s=ee(a,"textPosition");e?n.position=s?a.textPosition:"inside":s&&(n.position=a.textPosition),ee(a,"textPosition")&&(n.position=a.textPosition),ee(a,"textOffset")&&(n.offset=a.textOffset),ee(a,"textRotation")&&(n.rotation=a.textRotation),ee(a,"textDistance")&&(n.distance=a.textDistance)}return rI(o,i),D(o.rich,function(l){rI(l,l)}),{textConfig:n,textContent:r}}function rI(i,t){t&&(t.font=t.textFont||t.font,ee(t,"textStrokeWidth")&&(i.lineWidth=t.textStrokeWidth),ee(t,"textAlign")&&(i.align=t.textAlign),ee(t,"textVerticalAlign")&&(i.verticalAlign=t.textVerticalAlign),ee(t,"textLineHeight")&&(i.lineHeight=t.textLineHeight),ee(t,"textWidth")&&(i.width=t.textWidth),ee(t,"textHeight")&&(i.height=t.textHeight),ee(t,"textBackgroundColor")&&(i.backgroundColor=t.textBackgroundColor),ee(t,"textPadding")&&(i.padding=t.textPadding),ee(t,"textBorderColor")&&(i.borderColor=t.textBorderColor),ee(t,"textBorderWidth")&&(i.borderWidth=t.textBorderWidth),ee(t,"textBorderRadius")&&(i.borderRadius=t.textBorderRadius),ee(t,"textBoxShadowColor")&&(i.shadowColor=t.textBoxShadowColor),ee(t,"textBoxShadowBlur")&&(i.shadowBlur=t.textBoxShadowBlur),ee(t,"textBoxShadowOffsetX")&&(i.shadowOffsetX=t.textBoxShadowOffsetX),ee(t,"textBoxShadowOffsetY")&&(i.shadowOffsetY=t.textBoxShadowOffsetY))}function oI(i,t,e){var n=i;n.textPosition=n.textPosition||e.position||"inside",e.offset!=null&&(n.textOffset=e.offset),e.rotation!=null&&(n.textRotation=e.rotation),e.distance!=null&&(n.textDistance=e.distance);var r=n.textPosition.indexOf("inside")>=0,o=i.fill||"#000";aI(n,t);var a=n.textFill==null;return r?a&&(n.textFill=e.insideFill||"#fff",!n.textStroke&&e.insideStroke&&(n.textStroke=e.insideStroke),!n.textStroke&&(n.textStroke=o),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(a&&(n.textFill=i.fill||e.outsideFill||"#000"),!n.textStroke&&e.outsideStroke&&(n.textStroke=e.outsideStroke)),n.text=t.text,n.rich=t.rich,D(t.rich,function(s){aI(s,s)}),n}function aI(i,t){t&&(ee(t,"fill")&&(i.textFill=t.fill),ee(t,"stroke")&&(i.textStroke=t.fill),ee(t,"lineWidth")&&(i.textStrokeWidth=t.lineWidth),ee(t,"font")&&(i.font=t.font),ee(t,"fontStyle")&&(i.fontStyle=t.fontStyle),ee(t,"fontWeight")&&(i.fontWeight=t.fontWeight),ee(t,"fontSize")&&(i.fontSize=t.fontSize),ee(t,"fontFamily")&&(i.fontFamily=t.fontFamily),ee(t,"align")&&(i.textAlign=t.align),ee(t,"verticalAlign")&&(i.textVerticalAlign=t.verticalAlign),ee(t,"lineHeight")&&(i.textLineHeight=t.lineHeight),ee(t,"width")&&(i.textWidth=t.width),ee(t,"height")&&(i.textHeight=t.height),ee(t,"backgroundColor")&&(i.textBackgroundColor=t.backgroundColor),ee(t,"padding")&&(i.textPadding=t.padding),ee(t,"borderColor")&&(i.textBorderColor=t.borderColor),ee(t,"borderWidth")&&(i.textBorderWidth=t.borderWidth),ee(t,"borderRadius")&&(i.textBorderRadius=t.borderRadius),ee(t,"shadowColor")&&(i.textBoxShadowColor=t.shadowColor),ee(t,"shadowBlur")&&(i.textBoxShadowBlur=t.shadowBlur),ee(t,"shadowOffsetX")&&(i.textBoxShadowOffsetX=t.shadowOffsetX),ee(t,"shadowOffsetY")&&(i.textBoxShadowOffsetY=t.shadowOffsetY),ee(t,"textShadowColor")&&(i.textShadowColor=t.textShadowColor),ee(t,"textShadowBlur")&&(i.textShadowBlur=t.textShadowBlur),ee(t,"textShadowOffsetX")&&(i.textShadowOffsetX=t.textShadowOffsetX),ee(t,"textShadowOffsetY")&&(i.textShadowOffsetY=t.textShadowOffsetY))}var ri=$n.CMD,sI=2*Math.PI,dN=["x","y"],fN=["width","height"],oi=[];function lI(i,t){return Math.abs(i-t)<1e-5}function uI(i){var t,e,n,r,o,a=i.data,s=i.len(),l=[],u=0,h=0,c=0,p=0;function d(A,L){t&&t.length>2&&l.push(t),t=[A,L]}function f(A,L,k,P){lI(A,k)&&lI(L,P)||t.push(A,L,k,P,k,P)}function g(A,L,k,P,O,R){var N=Math.abs(L-A),E=4*Math.tan(N/4)/3,B=L<A?-1:1,G=Math.cos(A),F=Math.sin(A),H=Math.cos(L),V=Math.sin(L),U=G*O+k,Y=F*R+P,Z=H*O+k,K=V*R+P,$=O*E*B,ne=R*E*B;t.push(U-$*F,Y+ne*G,Z+$*V,K-ne*H,Z,K)}for(var y=0;y<s;){var m=a[y++],v=y===1;switch(v&&(c=u=a[y],p=h=a[y+1],m!==ri.L&&m!==ri.C&&m!==ri.Q||(t=[c,p])),m){case ri.M:u=c=a[y++],h=p=a[y++],d(c,p);break;case ri.L:f(u,h,e=a[y++],n=a[y++]),u=e,h=n;break;case ri.C:t.push(a[y++],a[y++],a[y++],a[y++],u=a[y++],h=a[y++]);break;case ri.Q:e=a[y++],n=a[y++],r=a[y++],o=a[y++],t.push(u+2/3*(e-u),h+2/3*(n-h),r+2/3*(e-r),o+2/3*(n-o),r,o),u=r,h=o;break;case ri.A:var _=a[y++],x=a[y++],b=a[y++],w=a[y++],S=a[y++],M=a[y++]+S;y+=1;var I=!a[y++];e=Math.cos(S)*b+_,n=Math.sin(S)*w+x,v?d(c=e,p=n):f(u,h,e,n),u=Math.cos(M)*b+_,h=Math.sin(M)*w+x;for(var T=(I?-1:1)*Math.PI/2,C=S;I?C>M:C<M;C+=T)g(C,I?Math.max(C+T,M):Math.min(C+T,M),_,x,b,w);break;case ri.R:c=u=a[y++],p=h=a[y++],e=c+a[y++],n=p+a[y++],d(e,p),f(e,p,e,n),f(e,n,c,n),f(c,n,c,p),f(c,p,e,p);break;case ri.Z:t&&f(u,h,c,p),u=c,h=p}}return t&&t.length>2&&l.push(t),l}function gN(i,t){var e=i.length,n=t.length;if(e===n)return[i,t];for(var r=e<n?i:t,o=Math.min(e,n),a=Math.abs(n-e)/6,s=(o-2)/6,l=Math.ceil(a/s)+1,u=[r[0],r[1]],h=a,c=[],p=[],d=2;d<o;){var f=r[d-2],g=r[d-1],y=r[d++],m=r[d++],v=r[d++],_=r[d++],x=r[d++],b=r[d++];if(h<=0)u.push(y,m,v,_,x,b);else{for(var w=Math.min(h,l-1)+1,S=1;S<=w;S++){var M=S/w;Ro(f,y,v,x,M,c),Ro(g,m,_,b,M,p),f=c[3],g=p[3],u.push(c[1],p[1],c[2],p[2],f,g),y=c[5],m=p[5],v=c[6],_=p[6]}h-=w-1}}return r===i?[u,t]:[i,u]}function hI(i,t){for(var e=i.length,n=i[e-2],r=i[e-1],o=[],a=0;a<t.length;)o[a++]=n,o[a++]=r;return o}function cI(i){for(var t=0,e=0,n=0,r=i.length,o=0,a=r-2;o<r;a=o,o+=2){var s=i[a],l=i[a+1],u=i[o],h=i[o+1],c=s*h-u*l;t+=c,e+=(s+u)*c,n+=(l+h)*c}return t===0?[i[0]||0,i[1]||0]:[e/t/3,n/t/3,t]}function yN(i,t,e,n){for(var r=(i.length-2)/6,o=1/0,a=0,s=i.length,l=s-2,u=0;u<r;u++){for(var h=6*u,c=0,p=0;p<s;p+=2){var d=p===0?h:(h+p-2)%l+2,f=i[d]-e[0],g=i[d+1]-e[1],y=t[p]-n[0]-f,m=t[p+1]-n[1]-g;c+=y*y+m*m}c<o&&(o=c,a=u)}return a}function mN(i){for(var t=[],e=i.length,n=0;n<e;n+=2)t[n]=i[e-n-2],t[n+1]=i[e-n-1];return t}function Cy(i,t,e){var n,r;if(!i||!t)return t;!i.path&&i.createPathProxy(),(n=i.path).beginPath(),i.buildPath(n,i.shape),!t.path&&t.createPathProxy(),(r=t.path)===n&&(r=new $n(!1)),r.beginPath(),lc(t)?t.__oldBuildPath(r,t.shape):t.buildPath(r,t.shape);var o=function(h,c){for(var p,d,f,g=[],y=[],m=0;m<Math.max(h.length,c.length);m++){var v=h[m],_=c[m],x=void 0,b=void 0;v?_?(d=x=(p=gN(v,_))[0],f=b=p[1]):(b=hI(f||v,v),x=v):(x=hI(d||_,_),b=_),g.push(x),y.push(b)}return[g,y]}(uI(n),uI(r)),a=function(h,c,p,d){for(var f,g=[],y=0;y<h.length;y++){var m=h[y],v=c[y],_=cI(m),x=cI(v);f==null&&(f=_[2]<0!=x[2]<0);var b=[],w=[],S=0,M=1/0,I=[],T=m.length;f&&(m=mN(m));for(var C=6*yN(m,v,_,x),A=T-2,L=0;L<A;L+=2){var k=(C+L)%A+2;b[L+2]=m[k]-_[0],b[L+3]=m[k+1]-_[1]}if(b[0]=m[C]-_[0],b[1]=m[C+1]-_[1],p>0)for(var P=d/p,O=-d/2;O<=d/2;O+=P){var R=Math.sin(O),N=Math.cos(O),E=0;for(L=0;L<m.length;L+=2){var B=b[L],G=b[L+1],F=v[L]-x[0],H=v[L+1]-x[1],V=F*N-H*R,U=F*R+H*N;I[L]=V,I[L+1]=U;var Y=V-B,Z=U-G;E+=Y*Y+Z*Z}if(E<M){M=E,S=O;for(var K=0;K<I.length;K++)w[K]=I[K]}}else for(var $=0;$<T;$+=2)w[$]=v[$]-x[0],w[$+1]=v[$+1]-x[1];g.push({from:b,to:w,fromCp:_,toCp:x,rotation:-S})}return g}(o[0],o[1],10,Math.PI);(function(h,c,p){if(lc(h))return void pI(h,c,p);var d=h;d.__oldBuildPath=d.buildPath,d.buildPath=vN,pI(d,c,p)})(t,a,0);var s=e&&e.done,l=e&&e.aborted,u=e&&e.during;return t.animateTo({__morphT:1},J({during:function(c){t.dirtyShape(),u&&u(c)},done:function(){var c;lc(c=t)&&(c.buildPath=c.__oldBuildPath,c.__oldBuildPath=c.__morphingData=null),t.createPathProxy(),t.dirtyShape(),s&&s()},aborted:function(){l&&l()}},e)),t}function vN(i){for(var t=this.__morphingData,e=this.__morphT,n=1-e,r=[],o=0;o<t.length;o++){var a=t[o],s=a.from,l=a.to,u=a.rotation*e,h=a.fromCp,c=a.toCp,p=Math.sin(u),d=Math.cos(u);Fa(r,h,c,e);for(var f=0;f<s.length;f+=2){var g=s[f],y=s[f+1],m=g*n+l[f]*e,v=y*n+l[f+1]*e;oi[f]=m*d-v*p+r[0],oi[f+1]=m*p+v*d+r[1]}for(f=0;f<s.length;)f===0&&i.moveTo(oi[f++],oi[f++]),i.bezierCurveTo(oi[f++],oi[f++],oi[f++],oi[f++],oi[f++],oi[f++])}}function pI(i,t,e){i.__morphingData=t,i.__morphT=e}function lc(i){return i.__oldBuildPath!=null}function Ca(i){return!!i.__combiningSubList}function dI(i,t,e,n){for(var r=[],o=0,a=0;a<i.length;a++){var s=i[a];if(Ca(s)){for(var l=s.__combiningSubList,u=0;u<l.length;u++)r.push(l[u]);o+=l.length}else r.push(s),o++}if(o){var h=e?e.dividingMethod:null,c=Ly(t,o,h);Tt(c.length===o);var p=e&&e.done,d=e&&e.aborted,f=e&&e.during,g=0,y=!1,m=J({during:function(b){f&&f(b)},done:function(){++g===c.length&&(function(b){if(!!Ca(b)){var w=b;Ay(w,null),w.addSelfToZr=w.__oldAddSelfToZr,w.removeSelfFromZr=w.__oldRemoveSelfFromZr,w.buildPath=w.__oldBuildPath,w.childrenRef=w.__combiningSubList=w.__oldAddSelfToZr=w.__oldRemoveSelfFromZr=w.__oldBuildPath=null}}(t),p&&p())},aborted:function(){y||(y=!0,d&&d())}},e);for(a=0;a<o;a++){var v=r[a],_=c[a];n&&n(t,_,!0),Cy(v,_,m)}return function(x,b){if(Ca(x))return void Ay(x,b);var w=x;Ay(w,b),w.__oldAddSelfToZr=x.addSelfToZr,w.__oldRemoveSelfFromZr=x.removeSelfFromZr,w.addSelfToZr=_N,w.removeSelfFromZr=xN,w.__oldBuildPath=w.buildPath,w.buildPath=sn,w.childrenRef=bN}(t,c),{fromIndividuals:r,toIndividuals:c,count:o}}}function Ay(i,t){if(i.__combiningSubList!==t){if(Dy(i,"removeSelfFromZr"),i.__combiningSubList=t,t)for(var e=0;e<t.length;e++)t[e].parent=i;Dy(i,"addSelfToZr")}}function _N(i){this.__oldAddSelfToZr(i),Dy(this,"addSelfToZr")}function Dy(i,t){var e=i.__combiningSubList,n=i.__zr;if(e&&n)for(var r=0;r<e.length;r++)e[r][t](n)}function xN(i){this.__oldRemoveSelfFromZr(i);for(var t=this.__combiningSubList,e=0;e<t.length;e++)t[e].removeSelfFromZr(i)}function bN(){return this.__combiningSubList}function Ly(i,t,e){return e==="duplicate"?ky(i,t):function(n,r){var o=[];if(r<=0)return o;if(r===1)return ky(n,r);if(n instanceof Se)for(var a=(f=n.shape).height>f.width?1:0,s=fN[a],l=dN[a],u=f[s]/r,h=f[l],c=0;c<r;c++,h+=u){var p={x:f.x,y:f.y,width:f.width,height:f.height};p[l]=h,p[s]=c<r-1?u:f[l]+f[s]-h;var d=new Se({shape:p});o.push(d)}else{if(!(n instanceof Et))return ky(n,r);var f,g=(f=n.shape).clockwise,y=f.startAngle,m=f.endAngle,v=(function(x,b,w){return b+sI*Math[w?"ceil":"floor"]((x-b)/sI)}(y,f.endAngle,g)-y)/r,_=y;for(c=0;c<r;c++,_+=v)d=new Et({shape:{cx:f.cx,cy:f.cy,r:f.r,r0:f.r0,clockwise:g,startAngle:_,endAngle:c===r-1?m:_+v}}),o.push(d)}return o}(i,t)}function ky(i,t){var e=[];if(t<=0)return e;for(var n=i.constructor,r=0;r<t;r++){var o=new n({shape:te(i.shape)});e.push(o)}return e}var Mn=Ne(),wN={x:1,y:1,scaleX:1,scaleY:1,originX:1,originY:1,rotation:1},fI=(ke(wN).join(", "),{color:"fill",borderColor:"stroke"}),SN={symbol:1,symbolSize:1,symbolKeepAspect:1,legendSymbol:1,visualMeta:1,liftZ:1,decal:1},xi="emphasis",ar="normal",Py="blur",Oy="select",sr=[ar,xi,Py,Oy],Ry={normal:["itemStyle"],emphasis:[xi,"itemStyle"],blur:[Py,"itemStyle"],select:[Oy,"itemStyle"]},Ny={normal:["label"],emphasis:[xi,"label"],blur:[Py,"label"],select:[Oy,"label"]},In={normal:{},emphasis:{},blur:{},select:{}},MN={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},co=new ui,IN={cartesian2d:function(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(r){return t.dataToPoint(r)},size:Q(uN,t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(r){return t.dataToPoint(r)},size:Q(hN,t)}}},singleAxis:function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(r){return t.dataToPoint(r)},size:Q(cN,t)}}},polar:function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:function(a){var s=e.dataToRadius(a[0]),l=n.dataToAngle(a[1]),u=t.coordToPoint([s,l]);return u.push(s,l*Math.PI/180),u},size:Q(pN,t)}}},calendar:function(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(o,a){return t.dataToPoint(o,a)}}}}},TN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,n){return ni(this.getSource(),this)},t.prototype.getDataParams=function(e,n,r){var o=i.prototype.getDataParams.call(this,e,n);return r&&(o.info=Mn(r).info),o},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,clip:!1},t}(ze),CN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r,o){var a=this._data,s=e.getData(),l=this.group,u=vI(e,s,n,r),h=e.__transientTransitionOpt;if(!h||h.from!=null&&h.to!=null){var c=new RN(e,h),p=h?"multiple":"oneToOne";new $i(a?a.getIndices():[],s.getIndices(),gI(a,p,h&&h.from),gI(s,p,h&&h.to),null,p).add(function(f){Aa(r,null,f,u(f,o),e,l,s,null)}).remove(function(f){cc(a.getItemGraphicEl(f),e,l)}).update(function(f,g){c.reset("oneToOne");var y=a.getItemGraphicEl(g);c.findAndAddFrom(y),c.hasFrom()&&(pc(y,l),y=null),Aa(r,y,f,u(f,o),e,l,s,c),c.applyMorphing()}).updateManyToOne(function(f,g){c.reset("manyToOne");for(var y=0;y<g.length;y++){var m=a.getItemGraphicEl(g[y]);c.findAndAddFrom(m),pc(m,l)}Aa(r,null,f,u(f,o),e,l,s,c),c.applyMorphing()}).updateOneToMany(function(f,g){c.reset("oneToMany");var y=f.length,m=a.getItemGraphicEl(g);c.findAndAddFrom(m),pc(m,l);for(var v=0;v<y;v++)Aa(r,null,f[v],u(f[v],o),e,l,s,c);c.applyMorphing()}).execute()}else a&&a.each(function(f){cc(a.getItemGraphicEl(f),e,l)}),s.each(function(f){Aa(r,null,f,u(f,o),e,l,s,null)});var d=e.get("clip",!0)?Hh(e.coordinateSystem,!1,e):null;d?l.setClipPath(d):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(e,n,r){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,n,r,o,a){var s=n.getData(),l=vI(n,s,r,o);function u(c){c.isGroup||(c.incremental=!0,c.ensureState("emphasis").hoverLayer=!0)}for(var h=e.start;h<e.end;h++)Aa(null,null,h,l(h,a),n,this.group,s,null).traverse(u)},t.prototype.filterForExposedEvent=function(e,n,r,o){var a=n.element;if(a==null||r.name===a)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===a)return!0;return!1},t.type="custom",t}(Re);function gI(i,t,e){if(i){if(t==="oneToOne")return function(s,l){return i.getId(l)};var n=i.getDimension(e),r=i.getDimensionInfo(n);if(!r){var o="";Ce(o)}var a=r.ordinalMeta;return function(s,l){var u=i.get(n,l);return a&&(u=a.categories[u]),u==null||bo(u)?s+"":"_ec_"+u}}}function Ey(i){var t,e=i.type;if(e==="path"){var n=i.shape,r=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,o=SI(n);t=bs(o,null,r,n.layout||"center"),Mn(t).customPathData=o}else if(e==="image")t=new ut({}),Mn(t).customImagePath=i.style.image;else if(e==="text")t=new Ie({});else if(e==="group")t=new oe;else{if(e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var a=Ru(e);if(!a){var s="";Ce(s)}t=new a}return Mn(t).customGraphicType=e,t.name=i.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function zy(i,t,e,n,r,o,a,s,l,u){var h={},c={},p=t.isGroup?null:t;!e&&uc("shape",t,null,r,h,l),yI("shape",r,c),!e&&uc("extra",t,null,r,h,l),yI("extra",r,c),!e&&Vy(t,null,r,h,l),function(m,v){Hy(m,v,"position"),Hy(m,v,"scale"),Hy(m,v,"origin"),po(m,v,"x"),po(m,v,"y"),po(m,v,"scaleX"),po(m,v,"scaleY"),po(m,v,"originX"),po(m,v,"originY"),po(m,v,"rotation")}(r,c);var d=a&&a.normal.cfg;if(d&&t.setTextConfig(d),t.type==="text"&&o){var f=o;ee(f,"textFill")&&(f.fill=f.textFill),ee(f,"textStroke")&&(f.stroke=f.textStroke)}if(o){var g=void 0,y=MI(t)?o.decal:null;i&&y&&(y.dirty=!0,g=Us(y,i)),o.__decalPattern=g}return!e&&Gy(t,null,r,o,h,l),p&&ee(r,"invisible")&&(p.invisible=r.invisible),e||(Ol(t,c,o),By(t,n,r,s,h,l)),ee(r,"silent")&&(t.silent=r.silent),ee(r,"ignore")&&(t.ignore=r.ignore),u||ee(r,"info")&&(Mn(t).info=r.info),o?t.dirty():t.markRedraw(),e?c:null}function Ol(i,t,e){var n=i.isGroup?null:i;if(n&&e){var r=e.__decalPattern,o=void 0;r&&(o=e.decal,e.decal=r),n.useStyle(e),r&&(e.decal=o);for(var a=n.animators,s=0;s<a.length;s++){var l=a[s];l.targetName==="style"&&l.changeTarget(n.style)}}t&&i.attr(t)}function By(i,t,e,n,r,o){if(r){var a=e.during;Mn(i).userDuring=a;var s={dataIndex:t,isFrom:!0,during:a?Q(LN,{el:i,userDuring:a}):null};o?$e(i,r,n,s):Te(i,r,n,s)}}function uc(i,t,e,n,r,o){var a=n[i];if(a){var s,l=t[i],u=a.enterFrom;if(o&&u){!s&&(s=r[i]={});for(var h=ke(u),c=0;c<h.length;c++)s[_=h[c]]=u[_]}if(!o&&l&&(e==null||i!=="shape")){if(a.transition){!s&&(s=r[i]={});var p=je(a.transition);for(c=0;c<p.length;c++){var d=l[_=p[c]];s[_]=d}}else if(ie(n.transition,i)>=0){!s&&(s=r[i]={});var f=ke(l);for(c=0;c<f.length;c++)d=l[_=f[c]],AN(a[_],d)&&(s[_]=d)}}var g=a.leaveTo;if(g){var y=Fy(t),m=y[i]||(y[i]={}),v=ke(g);for(c=0;c<v.length;c++){var _;m[_=v[c]]=g[_]}}}}function yI(i,t,e){var n=t[i];if(n)for(var r=e[i]={},o=ke(n),a=0;a<o.length;a++){var s=o[a];r[s]=qa(n[s])}}function Vy(i,t,e,n,r){var o=e.enterFrom;if(r&&o)for(var a=ke(o),s=0;s<a.length;s++)n[f=a[s]]=o[f];if(!r)if(t){var l=function(g,y){if(!g||g===y||g.parent===y.parent)return g;var m=co.transform||(co.transform=dr([])),v=g.getComputedTransform();v?To(m,v):dr(m);var _=y.parent;return _&&_.getComputedTransform(),co.originX=g.originX,co.originY=g.originY,co.parent=_,co.decomposeTransform(),co}(t,i);bi(n,"x",l),bi(n,"y",l),bi(n,"scaleX",l),bi(n,"scaleY",l),bi(n,"originX",l),bi(n,"originY",l),bi(n,"rotation",l)}else if(e.transition){var u=je(e.transition);for(s=0;s<u.length;s++)if((f=u[s])!=="style"&&f!=="shape"&&f!=="extra"){var h=i[f];n[f]=h}}else bi(n,"x",i),bi(n,"y",i);var c=e.leaveTo;if(c){var p=Fy(i),d=ke(c);for(s=0;s<d.length;s++){var f;p[f=d[s]]=c[f]}}}function Gy(i,t,e,n,r,o){if(n){var a,s=(t||i).style,l=n.enterFrom;if(o&&l){var u=ke(l);!a&&(a=r.style={});for(var h=0;h<u.length;h++)a[x=u[h]]=l[x]}if(!o&&s){if(n.transition){var c=je(n.transition);for(!a&&(a=r.style={}),h=0;h<c.length;h++){var p=s[x=c[h]];a[x]=p}}else if(i.getAnimationStyleProps&&ie(e.transition,"style")>=0){var d=i.getAnimationStyleProps(),f=d?d.style:null;if(f){!a&&(a=r.style={});var g=ke(n);for(h=0;h<g.length;h++)f[x=g[h]]&&(p=s[x],a[x]=p)}}}var y=n.leaveTo;if(y){var m=ke(y),v=Fy(i),_=v.style||(v.style={});for(h=0;h<m.length;h++){var x;_[x=m[h]]=y[x]}}}}function AN(i,t){return Be(i)?i!==t:i!=null&&isFinite(i)}function Fy(i){var t=Mn(i);return t.leaveToProps||(t.leaveToProps={})}var It={},DN={setTransform:function(t,e){return It.el[t]=e,this},getTransform:function(t){return It.el[t]},setShape:function(t,e){return(It.el.shape||(It.el.shape={}))[t]=e,It.isShapeDirty=!0,this},getShape:function(t){var e=It.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=It.el.style;return n&&(n[t]=e,It.isStyleDirty=!0),this},getStyle:function(t){var e=It.el.style;if(e)return e[t]},setExtra:function(t,e){return(It.el.extra||(It.el.extra={}))[t]=e,this},getExtra:function(t){var e=It.el.extra;if(e)return e[t]}};function LN(){var i=this,t=i.el;if(t){var e=Mn(t).userDuring,n=i.userDuring;e===n?(It.el=t,It.isShapeDirty=!1,It.isStyleDirty=!1,n(DN),It.isShapeDirty&&t.dirtyShape&&t.dirtyShape(),It.isStyleDirty&&t.dirtyStyle&&t.dirtyStyle()):i.el=i.userDuring=null}}function mI(i,t,e,n,r,o,a){var s=t.isGroup?null:t,l=r&&r[i].cfg;if(s){var u=s.ensureState(i);if(n===!1){var h=s.getState(i);h&&(h.style=null)}else u.style=n||null;l&&(u.textConfig=l),Br(s)}}function kN(i,t,e){var n=e===ar,r=n?t:hc(t,e),o=r?r.z2:null;o!=null&&((n?i:i.ensureState(e)).z2=o||0)}function Hy(i,t,e,n){var r=i[e],o=MN[e];r&&(n?(t[o[0]]=n[o[0]],t[o[1]]=n[o[1]]):(t[o[0]]=r[0],t[o[1]]=r[1]))}function po(i,t,e,n){i[e]!=null&&(t[e]=n?n[e]:i[e])}function bi(i,t,e){e&&(i[t]=e[t])}function vI(i,t,e,n){var r=i.get("renderItem"),o=i.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):IN[o.type](o));for(var s,l,u=J({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function(S,M){return M==null&&(M=s),t.get(t.getDimension(S||0),M)},style:function(S,M){M==null&&(M=s);var I=t.getItemVisual(M,"style"),T=I&&I.fill,C=I&&I.opacity,A=v(M,ar).getItemStyle();T!=null&&(A.fill=T),C!=null&&(A.opacity=C);var L={inheritColor:be(T)?T:"#000"},k=_(M,ar),P=nt(k,null,L,!1,!0);P.text=k.getShallow("show")?we(i.getFormattedLabel(M,ar),ga(t,M)):null;var O=Bu(k,L,!1);return b(S,A),A=oI(A,P,O),S&&x(A,S),A.legacy=!0,A},ordinalRawValue:function(S,M){M==null&&(M=s);var I=t.getDimensionInfo(S||0);if(!!I){var T=t.get(I.name,M),C=I&&I.ordinalMeta;return C?C.categories[T]:T}},styleEmphasis:function(S,M){M==null&&(M=s);var I=v(M,xi).getItemStyle(),T=_(M,xi),C=nt(T,null,null,!0,!0);C.text=T.getShallow("show")?Hn(i.getFormattedLabel(M,xi),i.getFormattedLabel(M,ar),ga(t,M)):null;var A=Bu(T,null,!0);return b(S,I),I=oI(I,C,A),S&&x(I,S),I.legacy=!0,I},visual:function(S,M){if(M==null&&(M=s),ee(fI,S)){var I=t.getItemVisual(M,"style");return I?I[fI[S]]:null}if(ee(SN,S))return t.getItemVisual(M,S)},barLayout:function(S){if(o.type==="cartesian2d")return function(M){var I=[],T=M.axis,C="axis0";if(T.type==="category"){for(var A=T.getBandWidth(),L=0;L<M.count;L++)I.push(J({bandWidth:A,axisKey:C,stackId:Uf+L},M));var k=sb(I),P=[];for(L=0;L<M.count;L++){var O=k.axis0[Uf+L];O.offsetCenter=O.offset+O.width/2,P.push(O)}return P}}(J({axis:o.getBaseAxis()},S))},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(S){return s1(S,e)}},a.api||{}),h={context:{},seriesId:i.id,seriesName:i.name,seriesIndex:i.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:PN(i.getData())},c={},p={},d={},f={},g=0;g<sr.length;g++){var y=sr[g];d[y]=i.getModel(Ry[y]),f[y]=i.getModel(Ny[y])}function m(w){return w===s?l||(l=t.getItemModel(w)):t.getItemModel(w)}function v(w,S){return t.hasItemOption?w===s?c[S]||(c[S]=m(w).getModel(Ry[S])):m(w).getModel(Ry[S]):d[S]}function _(w,S){return t.hasItemOption?w===s?p[S]||(p[S]=m(w).getModel(Ny[S])):m(w).getModel(Ny[S]):f[S]}return function(w,S){return s=w,l=null,c={},p={},r&&r(J({dataIndexInside:w,dataIndex:t.getRawIndex(w),actionType:S?S.type:null},h),u)};function x(w,S){for(var M in S)ee(S,M)&&(w[M]=S[M])}function b(w,S){w&&(w.textFill&&(S.textFill=w.textFill),w.textPosition&&(S.textPosition=w.textPosition))}}function PN(i){var t={};return D(i.dimensions,function(e,n){var r=i.getDimensionInfo(e);if(!r.isExtraCoord){var o=r.coordDim;(t[o]=t[o]||[])[r.coordDimIndex]=n}}),t}function Aa(i,t,e,n,r,o,a,s){if(n)return(t=Wy(i,t,e,n,r,o,!0,s))&&a.setItemGraphicEl(e,t),Ge(t,n.focus,n.blurScope),t;pc(t,o)}function Wy(i,t,e,n,r,o,a,s){var l=-1;t&&_I(t,n)&&(l=o.childrenRef().indexOf(t),t=null);var u=!t;t?t.clearStates():t=Ey(n);var h=(Mn(t).canMorph=n.morph&&MI(t))&&s&&s.hasFrom(),c=u&&!h;In.normal.cfg=In.normal.conOpt=In.emphasis.cfg=In.emphasis.conOpt=In.blur.cfg=In.blur.conOpt=In.select.cfg=In.select.conOpt=null,In.isLegacy=!1,function(y,m,v,_,x,b){if(!y.isGroup){xI(v,null,b),xI(v,xi,b);var w=b.normal.conOpt,S=b.emphasis.conOpt,M=b.blur.conOpt,I=b.select.conOpt;if(w!=null||S!=null||I!=null||M!=null){var T=y.getTextContent();if(w===!1)T&&y.removeTextContent();else{w=b.normal.conOpt=w||{type:"text"},T?T.clearStates():(T=Ey(w),y.setTextContent(T));var C=w&&w.style;zy(null,T,null,m,w,C,null,_,x,!0);for(var A=0;A<sr.length;A++){var L=sr[A];if(L!==ar){var k=b[L].conOpt;mI(L,T,0,Uy(w,k,L),null)}}C?T.dirty():T.markRedraw()}}}}(t,e,n,r,c,In),function(y,m,v,_,x){var b=v.clipPath;if(b===!1)y&&y.getClipPath()&&y.removeClipPath();else if(b){var w=y.getClipPath();w&&_I(w,b)&&(w=null),w||(w=Ey(b),y.setClipPath(w)),zy(null,w,null,m,b,null,null,_,x,!1)}}(t,e,n,r,c);var p=zy(i,t,h,e,n,n.style,In,r,c,!1);h&&s.addTo(t,n,e,p);for(var d=0;d<sr.length;d++){var f=sr[d];if(f!==ar){var g=hc(n,f);mI(f,t,0,Uy(n,g,f),In)}}return function(y,m,v,_){if(!y.isGroup){var x=y,b=v.currentZ,w=v.currentZLevel;x.z=b,x.zlevel=w;var S=m.z2;S!=null&&(x.z2=S||0);for(var M=0;M<sr.length;M++)kN(x,m,sr[M])}}(t,n,r),n.type==="group"&&function(y,m,v,_,x,b){var w=_.children,S=w?w.length:0,M=_.$mergeChildren,I=M==="byName"||_.diffChildrenByName,T=M===!1;if(!(!S&&!I&&!T)){if(I)return C={api:y,oldChildren:m.children()||[],newChildren:w||[],dataIndex:v,seriesModel:x,group:m,morphPreparation:b},void new $i(C.oldChildren,C.newChildren,bI,bI,C).add(wI).update(wI).remove(ON).execute();var C;T&&m.removeAll();for(var A=0;A<S;A++)w[A]&&Wy(y,m.childAt(A),v,w[A],x,m,!1,b);for(var L=m.childCount()-1;L>=A;L--)cc(m.childAt(L),x,m)}}(i,t,e,n,r,s),l>=0?o.replaceAt(t,l):o.add(t),t}function _I(i,t){var e,n=Mn(i),r=t.type,o=t.shape,a=t.style;return r!=null&&r!==n.customGraphicType||r==="path"&&(e=o)&&(ee(e,"pathData")||ee(e,"d"))&&SI(o)!==n.customPathData||r==="image"&&ee(a,"image")&&a.image!==n.customImagePath}function xI(i,t,e){var n=t?hc(i,t):i,r=t?Uy(i,n,xi):i.style,o=i.type,a=n?n.textConfig:null,s=i.textContent,l=s?t?hc(s,t):s:null;if(r&&(e.isLegacy||nI(r,o,!!a,!!l))){e.isLegacy=!0;var u=iI(r,o,!t);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var h=l;!h.type&&(h.type="text")}var c=t?e[t]:e.normal;c.cfg=a,c.conOpt=l}function hc(i,t){return t?i?i[t]:null:i}function Uy(i,t,e){var n=t&&t.style;return n==null&&e===xi&&i&&(n=i.styleEmphasis),n}function bI(i,t){var e=i&&i.name;return e!=null?e:"e\0\0"+t}function wI(i,t){var e=this.context,n=i!=null?e.newChildren[i]:null,r=t!=null?e.oldChildren[t]:null;Wy(e.api,r,e.dataIndex,n,e.seriesModel,e.group,0,e.morphPreparation)}function ON(i){var t=this.context;cc(t.oldChildren[i],t.seriesModel,t.group)}function cc(i,t,e){if(i){var n=Mn(i).leaveToProps;n?Te(i,n,t,{cb:function(){e.remove(i)}}):e.remove(i)}}function SI(i){return i&&(i.pathData||i.d)}function MI(i){return i&&i instanceof Me}function pc(i,t){i&&t.remove(i)}var RN=function(){function i(t,e){this._fromList=[],this._toList=[],this._toElOptionList=[],this._allPropsFinalList=[],this._toDataIndices=[],this._morphConfigList=[],this._seriesModel=t,this._transOpt=e}return i.prototype.hasFrom=function(){return!!this._fromList.length},i.prototype.findAndAddFrom=function(t){if(t&&(Mn(t).canMorph&&this._fromList.push(t),t.isGroup))for(var e=t.childrenRef(),n=0;n<e.length;n++)this.findAndAddFrom(e[n])},i.prototype.addTo=function(t,e,n,r){t&&(this._toList.push(t),this._toElOptionList.push(e),this._toDataIndices.push(n),this._allPropsFinalList.push(r))},i.prototype.applyMorphing=function(){var t=this._type,e=this._fromList,n=this._toList.length,r=e.length;if(r&&n){if(t==="oneToOne")for(var o=0;o<n;o++)this._oneToOneForSingleTo(o,o);else if(t==="manyToOne")for(var a=Math.max(1,Math.floor(r/n)),s=(o=0,0);o<n;o++,s+=a){var l=o+1>=n?r-s:a;this._manyToOneForSingleTo(o,s>=r?null:s,l)}else if(t==="oneToMany")for(var u=Math.max(1,Math.floor(n/r)),h=0,c=0;h<n;h+=u,c++){var p=h+u>=n?n-h:u;this._oneToManyForSingleFrom(h,p,c>=r?null:c)}}},i.prototype._oneToOneForSingleTo=function(t,e){var n,r=this._toList[t],o=this._toElOptionList[t],a=this._toDataIndices[t],s=this._allPropsFinalList[t],l=this._fromList[e],u=this._getOrCreateMorphConfig(a),h=u.duration;if(l&&Ca(l)){if(Ol(r,s,o.style),h){var c=dI([l],r,u,Yy);this._processResultIndividuals(c,t,null)}}else{var p=h&&l&&(l!==r||lc(n=l)||Ca(n))?l:null,d={};uc("shape",r,p,o,d,!1),uc("extra",r,p,o,d,!1),Vy(r,p,o,d,!1),Gy(r,p,o,o.style,d,!1),Ol(r,s,o.style),p&&Cy(p,r,u),By(r,a,o,this._seriesModel,d,!1)}},i.prototype._manyToOneForSingleTo=function(t,e,n){var r=this._toList[t],o=this._toElOptionList[t];Ol(r,this._allPropsFinalList[t],o.style);var a=this._getOrCreateMorphConfig(this._toDataIndices[t]);if(a.duration&&e!=null){for(var s=[],l=e;l<n;l++)s.push(this._fromList[l]);var u=dI(s,r,a,Yy);this._processResultIndividuals(u,t,null)}},i.prototype._oneToManyForSingleFrom=function(t,e,n){for(var r=n==null?null:this._fromList[n],o=this._toList,a=[],s=t;s<e;s++){var l=o[s];Ol(l,this._allPropsFinalList[s],this._toElOptionList[s].style),a.push(l)}var u=this._getOrCreateMorphConfig(this._toDataIndices[t]);if(u.duration&&r){var h=function(c,p,d,f){var g,y=p.length,m=d?d.dividingMethod:null,v=!1;if(Ca(c)){var _=c.__combiningSubList;_.length===y?g=_:(g=Ly(c,y,m),v=!0)}else g=Ly(c,y,m),v=!0;Tt(g.length===y);for(var x=0;x<y;x++)v&&f&&f(c,g[x],!1),Cy(g[x],p[x],d);return{fromIndividuals:g,toIndividuals:p,count:y}}(r,a,u,Yy);this._processResultIndividuals(h,t,e)}},i.prototype._processResultIndividuals=function(t,e,n){for(var r=n!=null,o=0;o<t.count;o++){var a=t.fromIndividuals[o],s=t.toIndividuals[o],l=e+(r?o:0),u=this._toElOptionList[l],h=this._toDataIndices[l],c={};Vy(s,a,u,c,!1),Gy(s,a,u,u.style,c,!1),By(s,h,u,this._seriesModel,c,!1)}},i.prototype._getOrCreateMorphConfig=function(t){var e,n,r,o=this._morphConfigList,a=o[t];if(a)return a;var s=this._seriesModel,l=this._transOpt;if(s.isAnimationEnabled()){var u=void 0;if(s&&s.ecModel){var h=s.ecModel.getUpdatePayload();u=h&&h.animation}if(u)e=u.duration||0,n=u.easing||"cubicOut",r=u.delay||0;else{n=s.get("animationEasingUpdate");var c=s.get("animationDelayUpdate");r=Pe(c)?c(t):c;var p=s.get("animationDurationUpdate");e=Pe(p)?p(t):p}}return a={duration:e||0,delay:r,easing:n,dividingMethod:l?l.dividingMethod:null},o[t]=a,a},i.prototype.reset=function(t){this._type=t,this._fromList.length=this._toList.length=this._toElOptionList.length=this._allPropsFinalList.length=this._toDataIndices.length=0},i}();function Yy(i,t,e){t.style=e?te(i.style):i.style,t.zlevel=i.zlevel,t.z=i.z,t.z2=i.z2}var fo=Ne(),II=te,Xy=Q,Zy=function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(t,e,n,r){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,r||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||a==="hide")return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,t,e,n);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(t,e);if(s){var p=he(TI,e,c);this.updatePointerEl(s,u,p),this.updateLabelEl(s,u,p,e)}else s=this._group=new oe,this.createPointerEl(s,u,t,e),this.createLabelEl(s,u,t,e),n.getZr().add(s);DI(s,e,!0),this._renderHandle(o)}},i.prototype.remove=function(t){this.clear(t)},i.prototype.dispose=function(t){this.clear(t)},i.prototype.determineAnimation=function(t,e){var n=e.get("animation"),r=t.axis,o=r.type==="category",a=e.get("snap");if(!a&&!o)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(o&&r.getBandWidth()>s)return!0;if(a){var l=yg(t).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return n===!0},i.prototype.makeElOption=function(t,e,n,r,o){},i.prototype.createPointerEl=function(t,e,n,r){var o=e.pointer;if(o){var a=fo(t).pointerEl=new Is[o.type](II(e.pointer));t.add(a)}},i.prototype.createLabelEl=function(t,e,n,r){if(e.label){var o=fo(t).labelEl=new Ie(II(e.label));t.add(o),AI(o,r)}},i.prototype.updatePointerEl=function(t,e,n){var r=fo(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),n(r,{shape:e.pointer.shape}))},i.prototype.updateLabelEl=function(t,e,n,r){var o=fo(t).labelEl;o&&(o.setStyle(e.label.style),n(o,{x:e.label.x,y:e.label.y}),AI(o,r))},i.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,r=this._api.getZr(),o=this._handle,a=n.getModel("handle"),s=n.get("status");if(!a.get("show")||!s||s==="hide")return o&&r.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=Uo(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(h){li(h.event)},onmousedown:Xy(this._onHandleDragMove,this,0,0),drift:Xy(this._onHandleDragMove,this),ondragend:Xy(this._onHandleDragEnd,this)}),r.add(o)),DI(o,n,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");W(l)||(l=[l,l]),o.scaleX=l[0]/2,o.scaleY=l[1]/2,Bs(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},i.prototype._moveHandleToValue=function(t,e){TI(this._axisPointerModel,!e&&this._moveAnimation,this._handle,jy(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(jy(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(jy(r)),fo(n).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,r=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},i.prototype.doClear=function(){},i.prototype.buildLabel=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},i}();function TI(i,t,e,n){CI(fo(e).lastProp,n)||(fo(e).lastProp=n,t?Te(e,n,i):(e.stopAnimation(),e.attr(n)))}function CI(i,t){if(ae(i)&&ae(t)){var e=!0;return D(t,function(n,r){e=e&&CI(i[r],n)}),!!e}return i===t}function AI(i,t){i[t.get(["label","show"])?"show":"hide"]()}function jy(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function DI(i,t,e){var n=t.get("z"),r=t.get("zlevel");i&&i.traverse(function(o){o.type!=="group"&&(n!=null&&(o.z=n),r!=null&&(o.zlevel=r),o.silent=e)})}function qy(i){var t,e=i.get("type"),n=i.getModel(e+"Style");return e==="line"?(t=n.getLineStyle()).fill=null:e==="shadow"&&((t=n.getAreaStyle()).stroke=null),t}function LI(i,t,e,n,r){var o=kI(e.get("value"),t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),a=e.getModel("label"),s=Hr(a.get("padding")||0),l=a.getFont(),u=es(o,l),h=r.position,c=u.width+s[1]+s[3],p=u.height+s[0]+s[2],d=r.align;d==="right"&&(h[0]-=c),d==="center"&&(h[0]-=c/2);var f=r.verticalAlign;f==="bottom"&&(h[1]-=p),f==="middle"&&(h[1]-=p/2),function(y,m,v,_){var x=_.getWidth(),b=_.getHeight();y[0]=Math.min(y[0]+m,x)-m,y[1]=Math.min(y[1]+v,b)-v,y[0]=Math.max(y[0],0),y[1]=Math.max(y[1],0)}(h,c,p,n);var g=a.get("backgroundColor");g&&g!=="auto"||(g=t.get(["axisLine","lineStyle","color"])),i.label={x:h[0],y:h[1],style:nt(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function kI(i,t,e,n,r){i=t.scale.parse(i);var o=t.scale.getLabel({value:i},{precision:r.precision}),a=r.formatter;if(a){var s={value:$f(t,{value:i}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};D(n,function(l){var u=e.getSeriesByIndex(l.seriesIndex),h=l.dataIndexInside,c=u&&u.getDataParams(h);c&&s.seriesData.push(c)}),be(a)?o=a.replace("{value}",o):Pe(a)&&(o=a(s))}return o}function Ky(i,t,e){var n=[1,0,0,1,0,0];return Pi(n,n,e.rotation),Ln(n,n,e.position),Nn([i.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],n)}function PI(i,t,e,n,r,o){var a=Gt.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=r.get(["label","margin"]),LI(t,n,r,o,{position:Ky(n.axis,i,e),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function $y(i,t,e){return{x1:i[e=e||0],y1:i[1-e],x2:t[e],y2:t[1-e]}}function OI(i,t,e){return{x:i[e=e||0],y:i[1-e],width:t[e],height:t[1-e]}}function RI(i,t,e,n,r,o){return{cx:i,cy:t,r0:e,r:n,startAngle:r,endAngle:o,clockwise:!0}}var NN=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.makeElOption=function(e,n,r,o,a){var s=r.axis,l=s.grid,u=o.get("type"),h=NI(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(n,!0));if(u&&u!=="none"){var p=qy(o),d=EN[u](s,c,h);d.style=p,e.graphicKey=d.type,e.pointer=d}PI(n,e,dg(l.model,r),r,o,a)},t.prototype.getHandleTransform=function(e,n,r){var o=dg(n.axis.grid.model,n,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=Ky(n.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,r,o){var a=r.axis,s=a.grid,l=a.getGlobalExtent(!0),u=NI(s,a).getOtherAxis(a).getGlobalExtent(),h=a.dim==="x"?0:1,c=[e.x,e.y];c[h]+=n[h],c[h]=Math.min(l[1],c[h]),c[h]=Math.max(l[0],c[h]);var p=(u[1]+u[0])/2,d=[p,p];return d[h]=c[h],{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][h]}},t}(Zy);function NI(i,t){var e={};return e[t.dim+"AxisIndex"]=t.index,i.getCartesian(e)}var EN={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:$y([e,n[0]],[e,n[1]],EI(t))}},shadow:function(t,e,n){var r=Math.max(1,t.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:OI([e-r/2,n[0]],[r,o],EI(t))}}};function EI(i){return i.dim==="x"?0:1}var zN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="axisPointer",t.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(ve),wi=Ne(),BN=D;function zI(i,t,e){if(!ue.node){var n=t.getZr();wi(n).records||(wi(n).records={}),function(r,o){if(wi(r).initialized)return;function a(s,l){r.on(s,function(u){var h=function(c){var p={showTip:[],hideTip:[]},d=function f(g){var y=p[g.type];y?y.push(g):(g.dispatchAction=f,c.dispatchAction(g))};return{dispatchAction:d,pendings:p}}(o);BN(wi(r).records,function(c){c&&l(c,u,h.dispatchAction)}),function(c,p){var d,f=c.showTip.length,g=c.hideTip.length;f?d=c.showTip[f-1]:g&&(d=c.hideTip[g-1]),d&&(d.dispatchAction=null,p.dispatchAction(d))}(h.pendings,o)})}wi(r).initialized=!0,a("click",he(BI,"click")),a("mousemove",he(BI,"mousemove")),a("globalout",VN)}(n,t),(wi(n).records[i]||(wi(n).records[i]={})).handler=e}}function VN(i,t,e){i.handler("leave",null,e)}function BI(i,t,e,n){t.handler(i,e,n)}function Jy(i,t){if(!ue.node){var e=t.getZr();(wi(e).records||{})[i]&&(wi(e).records[i]=null)}}var GN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){var o=n.getComponent("tooltip"),a=e.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";zI("axisPointer",r,function(s,l,u){a!=="none"&&(s==="leave"||a.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,n){Jy("axisPointer",n)},t.prototype.dispose=function(e,n){Jy("axisPointer",n)},t.type="axisPointer",t}(Ye);function VI(i,t){var e,n=[],r=i.seriesIndex;if(r==null||!(e=t.getSeriesByIndex(r)))return{point:[]};var o=e.getData(),a=Mr(o,i);if(a==null||a<0||W(a))return{point:[]};var s=o.getItemGraphicEl(a),l=e.coordinateSystem;if(e.getTooltipPosition)n=e.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(i.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u).dim,c=u.dim,p=h==="x"||h==="radius"?1:0,d=o.mapDimension(c),f=[];f[p]=o.get(d,a),f[1-p]=o.get(o.getCalculationInfo("stackResultDimension"),a),n=l.dataToPoint(f)||[]}else n=l.dataToPoint(o.getValues(j(l.dimensions,function(y){return o.mapDimension(y)}),a))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),n=[g.x+g.width/2,g.y+g.height/2]}return{point:n,el:s}}var GI=Ne();function FN(i,t,e){var n=i.currTrigger,r=[i.x,i.y],o=i,a=i.dispatchAction||Q(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){dc(r)&&(r=VI({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=dc(r),u=o.axesInfo,h=s.axesInfo,c=n==="leave"||dc(r),p={},d={},f={list:[],map:{}},g={showPointer:he(HN,d),showTooltip:he(WN,f)};D(s.coordSysMap,function(m,v){var _=l||m.containPoint(r);D(s.coordSysAxesInfo[v],function(x,b){var w=x.axis,S=function(I,T){for(var C=0;C<(I||[]).length;C++){var A=I[C];if(T.axis.dim===A.axisDim&&T.axis.model.componentIndex===A.axisIndex)return A}}(u,x);if(!c&&_&&(!u||S)){var M=S&&S.value;M!=null||l||(M=w.pointToData(r)),M!=null&&FI(x,M,g,!1,p)}})});var y={};return D(h,function(m,v){var _=m.linkGroup;_&&!d[v]&&D(_.axesInfo,function(x,b){var w=d[b];if(x!==m&&w){var S=w.value;_.mapper&&(S=m.axis.scale.parse(_.mapper(S,HI(x),HI(m)))),y[m.key]=S}})}),D(y,function(m,v){FI(h[v],m,g,!0,p)}),function(m,v,_){var x=_.axesInfo=[];D(v,function(b,w){var S=b.axisPointerModel.option,M=m[w];M?(!b.useHandle&&(S.status="show"),S.value=M.value,S.seriesDataIndices=(M.payloadBatch||[]).slice()):!b.useHandle&&(S.status="hide"),S.status==="show"&&x.push({axisDim:b.axis.dim,axisIndex:b.axis.model.componentIndex,value:S.value})})}(d,h,p),function(m,v,_,x){if(dc(v)||!m.list.length)return void x({type:"hideTip"});var b=((m.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};x({type:"showTip",escapeConnect:!0,x:v[0],y:v[1],tooltipOption:_.tooltipOption,position:_.position,dataIndexInside:b.dataIndexInside,dataIndex:b.dataIndex,seriesIndex:b.seriesIndex,dataByCoordSys:m.list})}(f,r,i,a),function(m,v,_){var x=_.getZr(),b="axisPointerLastHighlights",w=GI(x)[b]||{},S=GI(x)[b]={};D(m,function(T,C){var A=T.axisPointerModel.option;A.status==="show"&&D(A.seriesDataIndices,function(L){var k=L.seriesIndex+" | "+L.dataIndex;S[k]=L})});var M=[],I=[];D(w,function(T,C){!S[C]&&I.push(T)}),D(S,function(T,C){!w[C]&&M.push(T)}),I.length&&_.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:I}),M.length&&_.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:M})}(h,0,e),p}}function FI(i,t,e,n,r){var o=i.axis;if(!o.scale.isBlank()&&o.containData(t))if(i.involveSeries){var a=function(u,h){var c=h.axis,p=c.dim,d=u,f=[],g=Number.MAX_VALUE,y=-1;return D(h.seriesModels,function(m,v){var _,x,b=m.getData().mapDimensionsAll(p);if(m.getAxisTooltipData){var w=m.getAxisTooltipData(b,u,c);x=w.dataIndices,_=w.nestestValue}else{if(!(x=m.getData().indicesOfNearest(b[0],u,c.type==="category"?.5:null)).length)return;_=m.getData().get(b[0],x[0])}if(_!=null&&isFinite(_)){var S=u-_,M=Math.abs(S);M<=g&&((M<g||S>=0&&y<0)&&(g=M,y=S,d=_,f.length=0),D(x,function(I){f.push({seriesIndex:m.seriesIndex,dataIndexInside:I,dataIndex:m.getData().getRawIndex(I)})}))}}),{payloadBatch:f,snapToValue:d}}(t,i),s=a.payloadBatch,l=a.snapToValue;s[0]&&r.seriesIndex==null&&X(r,s[0]),!n&&i.snap&&o.containData(l)&&l!=null&&(t=l),e.showPointer(i,t,s),e.showTooltip(i,a,l)}else e.showPointer(i,t)}function HN(i,t,e,n){i[t.key]={value:e,payloadBatch:n}}function WN(i,t,e,n){var r=e.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(t.triggerTooltip&&r.length){var l=t.coordSys.model,u=vl(l),h=i.map[u];h||(h=i.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},i.list.push(h)),h.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function HI(i){var t=i.axis.model,e={},n=e.axisDim=i.axis.dim;return e.axisIndex=e[n+"AxisIndex"]=t.componentIndex,e.axisName=e[n+"AxisName"]=t.name,e.axisId=e[n+"AxisId"]=t.id,e}function dc(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function Rl(i){ro.registerAxisPointerClass("CartesianAxisPointer",NN),i.registerComponentModel(zN),i.registerComponentView(GN),i.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!W(e)&&(t.axisPointer.link=[e])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=rP(t,e)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},FN)}var UN=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.makeElOption=function(e,n,r,o,a){var s=r.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s).getExtent(),h=s.dataToCoord(n),c=o.get("type");if(c&&c!=="none"){var p=qy(o),d=YN[c](s,l,h,u);d.style=p,e.graphicKey=d.type,e.pointer=d}var f=function(g,y,m,v,_){var x=y.axis,b=x.dataToCoord(g),w=v.getAngleAxis().getExtent()[0];w=w/180*Math.PI;var S,M,I,T=v.getRadiusAxis().getExtent();if(x.dim==="radius"){var C=[1,0,0,1,0,0];Pi(C,C,w),Ln(C,C,[v.cx,v.cy]),S=Nn([b,-_],C);var A=y.getModel("axisLabel").get("rotate")||0,L=Gt.innerTextLayout(w,A*Math.PI/180,-1);M=L.textAlign,I=L.textVerticalAlign}else{var k=T[1];S=v.coordToPoint([k+_,b]);var P=v.cx,O=v.cy;M=Math.abs(S[0]-P)/k<.3?"center":S[0]>P?"left":"right",I=Math.abs(S[1]-O)/k<.3?"middle":S[1]>O?"top":"bottom"}return{position:S,align:M,verticalAlign:I}}(n,r,0,l,o.get(["label","margin"]));LI(e,r,o,a,f)},t}(Zy),YN={line:function(t,e,n,r){return t.dim==="angle"?{type:"Line",shape:$y(e.coordToPoint([r[0],n]),e.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,r){var o=Math.max(1,t.getBandWidth()),a=Math.PI/180;return t.dim==="angle"?{type:"Sector",shape:RI(e.cx,e.cy,r[0],r[1],(-n-o/2)*a,(o/2-n)*a)}:{type:"Sector",shape:RI(e.cx,e.cy,n-o/2,n+o/2,0,2*Math.PI)}}},XN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.findAxisModel=function(e){var n;return this.ecModel.eachComponent(e,function(r){r.getCoordSysModel()===this&&(n=r)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"80%"},t}(ve),Qy=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",lt).models[0]},t.type="polarAxis",t}(ve);We(Qy,da);var ZN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="angleAxis",t}(Qy),jN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="radiusAxis",t}(Qy),em=function(i){function t(e,n){return i.call(this,"radius",e,n)||this}return z(t,i),t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t}(bn);em.prototype.dataToRadius=bn.prototype.dataToCoord,em.prototype.radiusToData=bn.prototype.coordToData;var qN=Ne(),tm=function(i){function t(e,n){return i.call(this,"angle",e,n||[0,360])||this}return z(t,i),t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,n=e.getLabelModel(),r=e.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=o[0],l=e.dataToCoord(s+1)-e.dataToCoord(s),u=Math.abs(l),h=es(s==null?"":s+"",n.getFont(),"center","top"),c=Math.max(h.height,7)/u;isNaN(c)&&(c=1/0);var p=Math.max(0,Math.floor(c)),d=qN(e.model),f=d.lastAutoInterval,g=d.lastTickCount;return f!=null&&g!=null&&Math.abs(f-p)<=1&&Math.abs(g-a)<=1&&f>p?p=f:(d.lastTickCount=a,d.lastAutoInterval=p),p},t}(bn);tm.prototype.dataToAngle=bn.prototype.dataToCoord,tm.prototype.angleToData=bn.prototype.coordToData;var WI=function(){function i(t){this.dimensions=["radius","angle"],this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new em,this._angleAxis=new tm,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return i.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},i.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},i.prototype.getAxis=function(t){return this["_"+t+"Axis"]},i.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},i.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===t&&e.push(n),r.scale.type===t&&e.push(r),e},i.prototype.getAngleAxis=function(){return this._angleAxis},i.prototype.getRadiusAxis=function(){return this._radiusAxis},i.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},i.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},i.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},i.prototype.pointToData=function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},i.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);r.inverse?a=s-360:s=a+360;var l=Math.sqrt(e*e+n*n);e/=l,n/=l;for(var u=Math.atan2(-n,e)/Math.PI*180,h=u<a?1:-1;u<a||u>s;)u+=360*h;return[l,u]},i.prototype.coordToPoint=function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]},i.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var n=t.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-n[0]*r,endAngle:-n[1]*r,clockwise:t.inverse,contain:function(a,s){var l=a-this.cx,u=s-this.cy,h=l*l+u*u,c=this.r,p=this.r0;return h<=c*c&&h>=p*p}}},i.prototype.convertToPixel=function(t,e,n){return UI(e)===this?this.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){return UI(e)===this?this.pointToData(n):null},i}();function UI(i){var t=i.seriesModel,e=i.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function KN(i,t){var e=this,n=e.getAngleAxis(),r=e.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),i.eachSeries(function(s){if(s.coordinateSystem===e){var l=s.getData();D(Rh(l,"radius"),function(u){r.scale.unionExtentFromData(l,u)}),D(Rh(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),Ji(n.scale,n.model),Ji(r.scale,r.model),n.type==="category"&&!n.onBand){var o=n.getExtent(),a=360/n.scale.count();n.inverse?o[1]+=a:o[1]-=a,n.setExtent(o[0],o[1])}}function YI(i,t){if(i.type=t.get("type"),i.scale=ol(t),i.onBand=t.get("boundaryGap")&&i.type==="category",i.inverse=t.get("inverse"),function(n){return n.mainType==="angleAxis"}(t)){i.inverse=i.inverse!==t.get("clockwise");var e=t.get("startAngle");i.setExtent(e,e+(i.inverse?-360:360))}t.axis=i,i.model=t}var $N={dimensions:WI.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",function(r,o){var a=new WI(o+"");a.update=KN;var s=a.getRadiusAxis(),l=a.getAngleAxis(),u=r.findAxisModel("radiusAxis"),h=r.findAxisModel("angleAxis");YI(s,u),YI(l,h),function(c,p,d){var f=p.get("center"),g=d.getWidth(),y=d.getHeight();c.cx=q(f[0],g),c.cy=q(f[1],y);var m=c.getRadiusAxis(),v=Math.min(g,y)/2,_=p.get("radius");_==null?_=[0,"100%"]:W(_)||(_=[0,_]);var x=[q(_[0],v),q(_[1],v)];m.inverse?m.setExtent(x[1],x[0]):m.setExtent(x[0],x[1])}(a,r,e),n.push(a),r.coordinateSystem=a,a.model=r}),t.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var o=r.getReferringComponents("polar",lt).models[0];r.coordinateSystem=o.coordinateSystem}}),n}},JN=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function fc(i,t,e){t[1]>t[0]&&(t=t.slice().reverse());var n=i.coordToPoint([t[0],e]),r=i.coordToPoint([t[1],e]);return{x1:n[0],y1:n[1],x2:r[0],y2:r[1]}}function gc(i){return i.getRadiusAxis().inverse?0:1}function XI(i){var t=i[0],e=i[i.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&i.pop()}var QN=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return z(t,i),t.prototype.render=function(e,n){if(this.group.removeAll(),e.get("show")){var r=e.axis,o=r.polar,a=o.getRadiusAxis().getExtent(),s=r.getTicksCoords(),l=r.getMinorTicksCoords(),u=j(r.getViewLabels(),function(h){h=te(h);var c=r.scale,p=c.type==="ordinal"?c.getRawOrdinalNumber(h.tickValue):h.tickValue;return h.coord=r.dataToCoord(p),h});XI(u),XI(s),D(JN,function(h){!e.get([h,"show"])||r.scale.isBlank()&&h!=="axisLine"||eE[h](this.group,e,o,s,l,a,u)},this)}},t.type="angleAxis",t}(ro),eE={axisLine:function(t,e,n,r,o,a){var s,l=e.getModel(["axisLine","lineStyle"]),u=gc(n),h=u?0:1;(s=a[h]===0?new fn({shape:{cx:n.cx,cy:n.cy,r:a[u]},style:l.getLineStyle(),z2:1,silent:!0}):new Go({shape:{cx:n.cx,cy:n.cy,r:a[u],r0:a[h]},style:l.getLineStyle(),z2:1,silent:!0})).style.fill=null,t.add(s)},axisTick:function(t,e,n,r,o,a){var s=e.getModel("axisTick"),l=(s.get("inside")?-1:1)*s.get("length"),u=a[gc(n)],h=j(r,function(c){return new ft({shape:fc(n,[u,u+l],c.coord)})});t.add(en(h,{style:J(s.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,n,r,o,a){if(o.length){for(var s=e.getModel("axisTick"),l=e.getModel("minorTick"),u=(s.get("inside")?-1:1)*l.get("length"),h=a[gc(n)],c=[],p=0;p<o.length;p++)for(var d=0;d<o[p].length;d++)c.push(new ft({shape:fc(n,[h,h+u],o[p][d].coord)}));t.add(en(c,{style:J(l.getModel("lineStyle").getLineStyle(),J(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,n,r,o,a,s){var l=e.getCategories(!0),u=e.getModel("axisLabel"),h=u.get("margin"),c=e.get("triggerEvent");D(s,function(p,d){var f=u,g=p.tickValue,y=a[gc(n)],m=n.coordToPoint([y+h,p.coord]),v=n.cx,_=n.cy,x=Math.abs(m[0]-v)/y<.3?"center":m[0]>v?"left":"right",b=Math.abs(m[1]-_)/y<.3?"middle":m[1]>_?"top":"bottom";if(l&&l[g]){var w=l[g];ae(w)&&w.textStyle&&(f=new Ae(w.textStyle,u,u.ecModel))}var S=new Ie({silent:Gt.isLabelSilent(e),style:nt(f,{x:m[0],y:m[1],fill:f.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:p.formattedLabel,align:x,verticalAlign:b})});if(t.add(S),c){var M=Gt.makeAxisEventDataBase(e);M.targetType="axisLabel",M.value=p.rawLabel,se(S).eventData=M}},this)},splitLine:function(t,e,n,r,o,a){var s=e.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var h=[],c=0;c<r.length;c++){var p=u++%l.length;h[p]=h[p]||[],h[p].push(new ft({shape:fc(n,a,r[c].coord)}))}for(c=0;c<h.length;c++)t.add(en(h[c],{style:J({stroke:l[c%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,n,r,o,a){if(o.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<o.length;u++)for(var h=0;h<o[u].length;h++)l.push(new ft({shape:fc(n,a,o[u][h].coord)}));t.add(en(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,n,r,o,a){if(r.length){var s=e.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var h=[],c=Math.PI/180,p=-r[0].coord*c,d=Math.min(a[0],a[1]),f=Math.max(a[0],a[1]),g=e.get("clockwise"),y=1,m=r.length;y<=m;y++){var v=y===m?r[0].coord:r[y].coord,_=u++%l.length;h[_]=h[_]||[],h[_].push(new Et({shape:{cx:n.cx,cy:n.cy,r0:d,r:f,startAngle:p,endAngle:-v*c,clockwise:g},silent:!0})),p=-v*c}for(y=0;y<h.length;y++)t.add(en(h[y],{style:J({fill:l[y%l.length]},s.getAreaStyle()),silent:!0}))}}},tE=["axisLine","axisTickLabel","axisName"],nE=["splitLine","splitArea","minorSplitLine"],iE=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return z(t,i),t.prototype.render=function(e,n){if(this.group.removeAll(),e.get("show")){var r=this._axisGroup,o=this._axisGroup=new oe;this.group.add(o);var a=e.axis,s=a.polar,l=s.getAngleAxis(),u=a.getTicksCoords(),h=a.getMinorTicksCoords(),c=l.getExtent()[0],p=a.getExtent(),d=function(g,y,m){return{position:[g.cx,g.cy],rotation:m/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:y.getModel("axisLabel").get("rotate"),z2:1}}(s,e,c),f=new Gt(e,d);D(tE,f.add,f),o.add(f.getGroup()),Ss(r,o,e),D(nE,function(g){e.get([g,"show"])&&!a.scale.isBlank()&&rE[g](this.group,e,s,c,p,u,h)},this)}},t.type="radiusAxis",t}(ro),rE={splitLine:function(t,e,n,r,o,a){var s=e.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var h=[],c=0;c<a.length;c++){var p=u++%l.length;h[p]=h[p]||[],h[p].push(new fn({shape:{cx:n.cx,cy:n.cy,r:a[c].coord}}))}for(c=0;c<h.length;c++)t.add(en(h[c],{style:J({stroke:l[c%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,n,r,o,a,s){if(s.length){for(var l=e.getModel("minorSplitLine").getModel("lineStyle"),u=[],h=0;h<s.length;h++)for(var c=0;c<s[h].length;c++)u.push(new fn({shape:{cx:n.cx,cy:n.cy,r:s[h][c].coord}}));t.add(en(u,{style:J({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(t,e,n,r,o,a){if(a.length){var s=e.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var h=[],c=a[0].coord,p=1;p<a.length;p++){var d=u++%l.length;h[d]=h[d]||[],h[d].push(new Et({shape:{cx:n.cx,cy:n.cy,r0:c,r:a[p].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=a[p].coord}for(p=0;p<h.length;p++)t.add(en(h[p],{style:J({fill:l[p%l.length]},s.getAreaStyle()),silent:!0}))}}};function ZI(i){return i.get("stack")||"__ec_stack_"+i.seriesIndex}function jI(i,t){return t.dim+i.model.componentIndex}function oE(i,t,e){var n={},r=function(o){var a={};D(o,function(l,u){var h=l.getData(),c=l.coordinateSystem,p=c.getBaseAxis(),d=jI(c,p),f=p.getExtent(),g=p.type==="category"?p.getBandWidth():Math.abs(f[1]-f[0])/h.count(),y=a[d]||{bandWidth:g,remainedWidth:g,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},m=y.stacks;a[d]=y;var v=ZI(l);m[v]||y.autoWidthCount++,m[v]=m[v]||{width:0,maxWidth:0};var _=q(l.get("barWidth"),g),x=q(l.get("barMaxWidth"),g),b=l.get("barGap"),w=l.get("barCategoryGap");_&&!m[v].width&&(_=Math.min(y.remainedWidth,_),m[v].width=_,y.remainedWidth-=_),x&&(m[v].maxWidth=x),b!=null&&(y.gap=b),w!=null&&(y.categoryGap=w)});var s={};return D(a,function(l,u){s[u]={};var h=l.stacks,c=l.bandWidth,p=q(l.categoryGap,c),d=q(l.gap,1),f=l.remainedWidth,g=l.autoWidthCount,y=(f-p)/(g+(g-1)*d);y=Math.max(y,0),D(h,function(x,b){var w=x.maxWidth;w&&w<y&&(w=Math.min(w,f),x.width&&(w=Math.min(w,x.width)),f-=w,x.width=w,g--)}),y=(f-p)/(g+(g-1)*d),y=Math.max(y,0);var m,v=0;D(h,function(x,b){x.width||(x.width=y),m=x,v+=x.width*(1+d)}),m&&(v-=m.width*d);var _=-v/2;D(h,function(x,b){s[u][b]=s[u][b]||{offset:_,width:x.width},_+=x.width*(1+d)})}),s}(Ke(t.getSeriesByType(i),function(o){return!t.isSeriesFiltered(o)&&o.coordinateSystem&&o.coordinateSystem.type==="polar"}));t.eachSeriesByType(i,function(o){if(o.coordinateSystem.type==="polar"){var a=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),u=jI(s,l),h=ZI(o),c=r[u][h],p=c.offset,d=c.width,f=s.getOtherAxis(l),g=o.coordinateSystem.cx,y=o.coordinateSystem.cy,m=o.get("barMinHeight")||0,v=o.get("barMinAngle")||0;n[h]=n[h]||[];for(var _=a.mapDimension(f.dim),x=a.mapDimension(l.dim),b=gi(a,_),w=l.dim!=="radius"||!o.get("roundCap",!0),S=f.dataToCoord(0),M=0,I=a.count();M<I;M++){var T=a.get(_,M),C=a.get(x,M),A=T>=0?"p":"n",L=S;b&&(n[h][C]||(n[h][C]={p:S,n:S}),L=n[h][C][A]);var k=void 0,P=void 0,O=void 0,R=void 0;if(f.dim==="radius"){var N=f.dataToCoord(T)-S,E=l.dataToCoord(C);Math.abs(N)<m&&(N=(N<0?-1:1)*m),k=L,P=L+N,R=(O=E-p)-d,b&&(n[h][C][A]=P)}else{var B=f.dataToCoord(T,w)-S,G=l.dataToCoord(C);Math.abs(B)<v&&(B=(B<0?-1:1)*v),P=(k=G+p)+d,O=L,R=L+B,b&&(n[h][C][A]=R)}a.setItemLayout(M,{cx:g,cy:y,r0:k,r:P,startAngle:-O*Math.PI/180,endAngle:-R*Math.PI/180})}}})}var aE={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},sE={splitNumber:5},lE=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="polar",t}(Ye);function nm(i,t){t=t||{};var e=i.coordinateSystem,n=i.axis,r={},o=n.position,a=n.orient,s=e.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=[a==="vertical"?u.vertical[o]:l[0],a==="horizontal"?u.horizontal[o]:l[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],i.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),yt(t.labelInside,i.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=t.rotate;return h==null&&(h=i.get(["axisLabel","rotate"])),r.labelRotation=o==="top"?-h:h,r.z2=1,r}var uE=["axisLine","axisTickLabel","axisName"],hE=["splitArea","splitLine"],cE=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return z(t,i),t.prototype.render=function(e,n,r,o){var a=this.group;a.removeAll();var s=this._axisGroup;this._axisGroup=new oe;var l=nm(e),u=new Gt(e,l);D(uE,u.add,u),a.add(this._axisGroup),a.add(u.getGroup()),D(hE,function(h){e.get([h,"show"])&&pE[h](this,this.group,this._axisGroup,e)},this),Ss(s,this._axisGroup,e),i.prototype.render.call(this,e,n,r,o)},t.prototype.remove=function(){Ow(this)},t.type="singleAxis",t}(ro),pE={splitLine:function(t,e,n,r){var o=r.axis;if(!o.scale.isBlank()){var a=r.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var u=r.coordinateSystem.getRect(),h=o.isHorizontal(),c=[],p=0,d=o.getTicksCoords({tickModel:a}),f=[],g=[],y=0;y<d.length;++y){var m=o.toGlobalCoord(d[y].coord);h?(f[0]=m,f[1]=u.y,g[0]=m,g[1]=u.y+u.height):(f[0]=u.x,f[1]=m,g[0]=u.x+u.width,g[1]=m);var v=p++%l.length;c[v]=c[v]||[],c[v].push(new ft({subPixelOptimize:!0,shape:{x1:f[0],y1:f[1],x2:g[0],y2:g[1]},silent:!0}))}var _=s.getLineStyle(["color"]);for(y=0;y<c.length;++y)e.add(en(c[y],{style:J({stroke:l[y%l.length]},_),silent:!0}))}},splitArea:function(t,e,n,r){Pw(t,n,r,r)}},yc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(ve);We(yc,da.prototype);var dE=function(i){function t(e,n,r,o,a){var s=i.call(this,e,n,r)||this;return s.type=o||"value",s.position=a||"bottom",s}return z(t,i),t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.pointToData=function(e,n){return this.coordinateSystem.pointToData(e)[0]},t}(bn),qI=function(){function i(t,e,n){this.type="single",this.dimension="single",this.dimensions=["single"],this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return i.prototype._init=function(t,e,n){var r=this.dimension,o=new dE(r,ol(t),[0,0],t.get("type"),t.get("position")),a=o.type==="category";o.onBand=a&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},i.prototype.update=function(t,e){t.eachSeries(function(n){if(n.coordinateSystem===this){var r=n.getData();D(r.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(r,o)},this),Ji(this._axis.scale,this._axis.model)}},this)},i.prototype.resize=function(t,e){this._rect=ht({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},i.prototype.getRect=function(){return this._rect},i.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),r=n?[0,t.width]:[0,t.height],o=e.reverse?1:0;e.setExtent(r[o],r[1-o]),this._updateAxisTransform(e,n?t.x:t.y)},i.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),r=n[0]+n[1],o=t.isHorizontal();t.toGlobalCoord=o?function(a){return a+e}:function(a){return r-a+e},t.toLocalCoord=o?function(a){return a-e}:function(a){return r-a+e}},i.prototype.getAxis=function(){return this._axis},i.prototype.getBaseAxis=function(){return this._axis},i.prototype.getAxes=function(){return[this._axis]},i.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},i.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis();return n.orient==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},i.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[e.orient==="horizontal"?0:1]))]},i.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),r=[],o=e.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),r[o]=e.toGlobalCoord(e.dataToCoord(+t)),r[1-o]=o===0?n.y+n.height/2:n.x+n.width/2,r},i.prototype.convertToPixel=function(t,e,n){return KI(e)===this?this.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){return KI(e)===this?this.pointToData(n):null},i}();function KI(i){var t=i.seriesModel,e=i.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var fE={create:function(t,e){var n=[];return t.eachComponent("singleAxis",function(r,o){var a=new qI(r,t,e);a.name="single_"+o,a.resize(r,e),r.coordinateSystem=a,n.push(a)}),t.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var o=r.getReferringComponents("singleAxis",lt).models[0];r.coordinateSystem=o&&o.coordinateSystem}}),n},dimensions:qI.prototype.dimensions},$I=["x","y"],gE=["width","height"],yE=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.makeElOption=function(e,n,r,o,a){var s=r.axis,l=s.coordinateSystem,u=im(l,1-mc(s)),h=l.dataToPoint(n)[0],c=o.get("type");if(c&&c!=="none"){var p=qy(o),d=mE[c](s,h,u);d.style=p,e.graphicKey=d.type,e.pointer=d}PI(n,e,nm(r),r,o,a)},t.prototype.getHandleTransform=function(e,n,r){var o=nm(n,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=Ky(n.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,r,o){var a=r.axis,s=a.coordinateSystem,l=mc(a),u=im(s,l),h=[e.x,e.y];h[l]+=n[l],h[l]=Math.min(u[1],h[l]),h[l]=Math.max(u[0],h[l]);var c=im(s,1-l),p=(c[1]+c[0])/2,d=[p,p];return d[l]=h[l],{x:h[0],y:h[1],rotation:e.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},t}(Zy),mE={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:$y([e,n[0]],[e,n[1]],mc(t))}},shadow:function(t,e,n){var r=t.getBandWidth(),o=n[1]-n[0];return{type:"Rect",shape:OI([e-r/2,n[0]],[r,o],mc(t))}}};function mc(i){return i.isHorizontal()?0:1}function im(i,t){var e=i.getRect();return[e[$I[t]],e[$I[t]]+e[gE[t]]]}var vE=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="single",t}(Ye),_E=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.init=function(e,n,r){var o=qo(e);i.prototype.init.apply(this,arguments),JI(e,o)},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),JI(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(ve);function JI(i,t){var e,n=i.cellSize;(e=W(n)?n:i.cellSize=[n,n]).length===1&&(e[1]=e[0]);var r=j([0,1],function(o){return function(a,s){return a[Ur[s][0]]!=null||a[Ur[s][1]]!=null&&a[Ur[s][2]]!=null}(t,o)&&(e[o]="auto"),e[o]!=null&&e[o]!=="auto"});Yi(i,t,{type:"box",ignoreSize:r})}var xE={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"]},bE={EN:["S","M","T","W","T","F","S"],CN:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},wE=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){var o=this.group;o.removeAll();var a=e.coordinateSystem,s=a.getRangeInfo(),l=a.getOrient();this._renderDayRect(e,s,o),this._renderLines(e,s,l,o),this._renderYearText(e,s,l,o),this._renderMonthText(e,l,o),this._renderWeekText(e,s,l,o)},t.prototype._renderDayRect=function(e,n,r){for(var o=e.coordinateSystem,a=e.getModel("itemStyle").getItemStyle(),s=o.getCellWidth(),l=o.getCellHeight(),u=n.start.time;u<=n.end.time;u=o.getNextNDay(u,1).time){var h=o.dataToRect([u],!1).tl,c=new Se({shape:{x:h[0],y:h[1],width:s,height:l},cursor:"default",style:a});r.add(c)}},t.prototype._renderLines=function(e,n,r,o){var a=this,s=e.coordinateSystem,l=e.getModel(["splitLine","lineStyle"]).getLineStyle(),u=e.get(["splitLine","show"]),h=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=n.start,p=0;c.time<=n.end.time;p++){f(c.formatedDate),p===0&&(c=s.getDateInfo(n.start.y+"-"+n.start.m));var d=c.date;d.setMonth(d.getMonth()+1),c=s.getDateInfo(d)}function f(g){a._firstDayOfMonth.push(s.getDateInfo(g)),a._firstDayPoints.push(s.dataToRect([g],!1).tl);var y=a._getLinePointsOfOneWeek(e,g,r);a._tlpoints.push(y[0]),a._blpoints.push(y[y.length-1]),u&&a._drawSplitline(y,l,o)}f(s.getNextNDay(n.end.time,1).formatedDate),u&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,h,r),l,o),u&&this._drawSplitline(a._getEdgesPoints(a._blpoints,h,r),l,o)},t.prototype._getEdgesPoints=function(e,n,r){var o=[e[0].slice(),e[e.length-1].slice()],a=r==="horizontal"?0:1;return o[0][a]=o[0][a]-n/2,o[1][a]=o[1][a]+n/2,o},t.prototype._drawSplitline=function(e,n,r){var o=new zt({z2:20,shape:{points:e},style:n});r.add(o)},t.prototype._getLinePointsOfOneWeek=function(e,n,r){for(var o=e.coordinateSystem,a=o.getDateInfo(n),s=[],l=0;l<7;l++){var u=o.getNextNDay(a.time,l),h=o.dataToRect([u.time],!1);s[2*u.day]=h.tl,s[2*u.day+1]=h[r==="horizontal"?"bl":"tr"]}return s},t.prototype._formatterLabel=function(e,n){return typeof e=="string"&&e?(r=e,D(n,function(a,s){r=r.replace("{"+s+"}",o?Xt(a):a)}),r):typeof e=="function"?e(n):n.nameMap;var r,o},t.prototype._yearTextPositionControl=function(e,n,r,o,a){var s=n[0],l=n[1],u=["center","bottom"];o==="bottom"?(l+=a,u=["center","top"]):o==="left"?s-=a:o==="right"?(s+=a,u=["center","top"]):l-=a;var h=0;return o!=="left"&&o!=="right"||(h=Math.PI/2),{rotation:h,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(e,n,r,o){var a=e.getModel("yearLabel");if(a.get("show")){var s=a.get("margin"),l=a.get("position");l||(l=r!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(u[0][0]+u[1][0])/2,c=(u[0][1]+u[1][1])/2,p=r==="horizontal"?0:1,d={top:[h,u[p][1]],bottom:[h,u[1-p][1]],left:[u[1-p][0],c],right:[u[p][0],c]},f=n.start.y;+n.end.y>+n.start.y&&(f=f+"-"+n.end.y);var g=a.get("formatter"),y={start:n.start.y,end:n.end.y,nameMap:f},m=this._formatterLabel(g,y),v=new Ie({z2:30,style:nt(a,{text:m})});v.attr(this._yearTextPositionControl(v,d[l],r,l,s)),o.add(v)}},t.prototype._monthTextPositionControl=function(e,n,r,o,a){var s="left",l="top",u=e[0],h=e[1];return r==="horizontal"?(h+=a,n&&(s="center"),o==="start"&&(l="bottom")):(u+=a,n&&(l="middle"),o==="start"&&(s="right")),{x:u,y:h,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(e,n,r){var o=e.getModel("monthLabel");if(o.get("show")){var a=o.get("nameMap"),s=o.get("margin"),l=o.get("position"),u=o.get("align"),h=[this._tlpoints,this._blpoints];be(a)&&(a=xE[a.toUpperCase()]||[]);var c=l==="start"?0:1,p=n==="horizontal"?0:1;s=l==="start"?-s:s;for(var d=u==="center",f=0;f<h[c].length-1;f++){var g=h[c][f].slice(),y=this._firstDayOfMonth[f];if(d){var m=this._firstDayPoints[f];g[p]=(m[p]+h[0][f+1][p])/2}var v=o.get("formatter"),_=a[+y.m-1],x={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:_},b=this._formatterLabel(v,x),w=new Ie({z2:30,style:X(nt(o,{text:b}),this._monthTextPositionControl(g,d,n,l,s))});r.add(w)}}},t.prototype._weekTextPositionControl=function(e,n,r,o,a){var s="center",l="middle",u=e[0],h=e[1],c=r==="start";return n==="horizontal"?(u=u+o+(c?1:-1)*a[0]/2,s=c?"right":"left"):(h=h+o+(c?1:-1)*a[1]/2,l=c?"bottom":"top"),{x:u,y:h,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(e,n,r,o){var a=e.getModel("dayLabel");if(a.get("show")){var s=e.coordinateSystem,l=a.get("position"),u=a.get("nameMap"),h=a.get("margin"),c=s.getFirstDayOfWeek();be(u)&&(u=bE[u.toUpperCase()]||[]);var p=s.getNextNDay(n.end.time,7-n.lweek).time,d=[s.getCellWidth(),s.getCellHeight()];h=q(h,Math.min(d[1],d[0])),l==="start"&&(p=s.getNextNDay(n.start.time,-(7+n.fweek)).time,h=-h);for(var f=0;f<7;f++){var g,y=s.getNextNDay(p,f),m=s.dataToRect([y.time],!1).center;g=Math.abs((f+c)%7);var v=new Ie({z2:30,style:X(nt(a,{text:u[g]}),this._weekTextPositionControl(m,r,l,h,d))});o.add(v)}}},t.type="calendar",t}(Ye),rm=864e5,SE=function(){function i(t,e,n){this.type="calendar",this.dimensions=i.dimensions,this.getDimensionsInfo=i.getDimensionsInfo,this._model=t}return i.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},i.prototype.getRangeInfo=function(){return this._rangeInfo},i.prototype.getModel=function(){return this._model},i.prototype.getRect=function(){return this._rect},i.prototype.getCellWidth=function(){return this._sw},i.prototype.getCellHeight=function(){return this._sh},i.prototype.getOrient=function(){return this._orient},i.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},i.prototype.getDateInfo=function(t){var e=(t=Jt(t)).getFullYear(),n=t.getMonth()+1,r=n<10?"0"+n:""+n,o=t.getDate(),a=o<10?"0"+o:""+o,s=t.getDay();return{y:e+"",m:r,d:a,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+r+"-"+a,date:t}},i.prototype.getNextNDay=function(t,e){return(e=e||0)===0||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},i.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[n,7]:[7,n];D([0,1],function(c){h(o,c)&&(a[r[c]]=o[c]*s[c])});var l={width:e.getWidth(),height:e.getHeight()},u=this._rect=ht(a,l);function h(c,p){return c[p]!=null&&c[p]!=="auto"}D([0,1],function(c){h(o,c)||(o[c]=u[r[c]]/s[c])}),this._sw=o[0],this._sh=o[1]},i.prototype.dataToPoint=function(t,e){W(t)&&(t=t[0]),e==null&&(e=!0);var n=this.getDateInfo(t),r=this._rangeInfo,o=n.formatedDate;if(e&&!(n.time>=r.start.time&&n.time<r.end.time+rm))return[NaN,NaN];var a=n.day,s=this._getRangeInfo([r.start.time,o]).nthWeek;return this._orient==="vertical"?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},i.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},i.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},i.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,e-1,r):this._getDateByWeeksAndDay(e,n-1,r)},i.prototype.convertToPixel=function(t,e,n){var r=QI(e);return r===this?r.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){var r=QI(e);return r===this?r.pointToData(n):null},i.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},i.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(W(e)&&e.length===1&&(e=e[0]),W(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var r=this.getDateInfo(n),o=r.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);t=[r.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},i.prototype._getRangeInfo=function(t){var e,n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];n[0].time>n[1].time&&(e=!0,n.reverse());var r=Math.floor(n[1].time/rm)-Math.floor(n[0].time/rm)+1,o=new Date(n[0].time),a=o.getDate(),s=n[1].date.getDate();o.setDate(a+r-1);var l=o.getDate();if(l!==s)for(var u=o.getTime()-n[1].time>0?1:-1;(l=o.getDate())!==s&&(o.getTime()-n[1].time)*u>0;)r-=u,o.setDate(l-u);var h=Math.floor((r+n[0].day+6)/7),c=e?1-h:h-1;return e&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:r,weeks:h,nthWeek:c,fweek:n[0].day,lweek:n[1].day}},i.prototype._getDateByWeeksAndDay=function(t,e,n){var r=this._getRangeInfo(n);if(t>r.weeks||t===0&&e<r.fweek||t===r.weeks&&e>r.lweek)return null;var o=7*(t-1)-r.fweek+e,a=new Date(r.start.time);return a.setDate(+r.start.d+o),this.getDateInfo(a)},i.create=function(t,e){var n=[];return t.eachComponent("calendar",function(r){var o=new i(r,t,e);n.push(o),r.coordinateSystem=o}),t.eachSeries(function(r){r.get("coordinateSystem")==="calendar"&&(r.coordinateSystem=n[r.get("calendarIndex")||0])}),n},i.dimensions=["time","value"],i}();function QI(i){var t=i.calendarModel,e=i.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}var Da=Ne(),eT={path:null,compoundPath:null,group:oe,image:ut,text:Ie},ME=function(t){var e=t.graphic;W(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])},IE=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return z(t,i),t.prototype.mergeOption=function(e,n){var r=this.option.elements;this.option.elements=null,i.prototype.mergeOption.call(this,e,n),this.option.elements=r},t.prototype.optionUpdated=function(e,n){var r=this.option,o=(n?r:e).elements,a=r.elements=n?[]:r.elements,s=[];this._flatten(o,s,null);var l=Ev(a,s,"normalMerge"),u=this._elOptionsToUpdate=[];D(l,function(c,p){var d=c.newOption;d&&(u.push(d),function(f,g){var y=f.existing;if(g.id=f.keyInfo.id,!g.type&&y&&(g.type=y.type),g.parentId==null){var m=g.parentOption;m?g.parentId=m.id:y&&(g.parentId=y.parentId)}g.parentOption=null}(c,d),function(f,g,y){var m=X({},y),v=f[g],_=y.$action||"merge";_==="merge"?v?(de(v,m,!0),Yi(v,m,{ignoreSize:!0}),A1(y,v)):f[g]=m:_==="replace"?f[g]=m:_==="remove"&&v&&(f[g]=null)}(a,p,d),function(f,g){if(!!f&&(f.hv=g.hv=[nT(g,["left","right"]),nT(g,["top","bottom"])],f.type==="group")){var y=f,m=g;y.width==null&&(y.width=m.width=0),y.height==null&&(y.height=m.height=0)}}(a[p],d))},this);for(var h=a.length-1;h>=0;h--)a[h]==null?a.splice(h,1):delete a[h].$action},t.prototype._flatten=function(e,n,r){D(e,function(o){if(o){r&&(o.parentOption=r),n.push(o);var a=o.children;o.type==="group"&&a&&this._flatten(a,n,o),delete o.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(ve),TE=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.init=function(){this._elMap=re()},t.prototype.render=function(e,n,r){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,r)},t.prototype._updateElements=function(e){var n=e.useElOptionsToUpdate();if(n){var r=this._elMap,o=this.group;D(n,function(a){var s=dt(a.id,null),l=s!=null?r.get(s):null,u=dt(a.parentId,null),h=u!=null?r.get(u):o,c=a.type,p=a.style;c==="text"&&p&&a.hv&&a.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var d=a.textContent,f=a.textConfig;if(p&&nI(p,c,!!f,!!d)){var g=iI(p,c,!0);!f&&g.textConfig&&(f=a.textConfig=g.textConfig),!d&&g.textContent&&(d=g.textContent)}var y=function(b){return b=X({},b),D(["id","parentId","$action","hv","bounding","textContent"].concat(C1),function(w){delete b[w]}),b}(a),m=a.$action||"merge";m==="merge"?l?l.attr(y):tT(s,h,y,r):m==="replace"?(vc(l,r),tT(s,h,y,r)):m==="remove"&&vc(l,r);var v=r.get(s);if(v&&d)if(m==="merge"){var _=v.getTextContent();_?_.attr(d):v.setTextContent(new Ie(d))}else m==="replace"&&v.setTextContent(new Ie(d));if(v){var x=Da(v);x.__ecGraphicWidthOption=a.width,x.__ecGraphicHeightOption=a.height,function(b,w,S){var M=se(b).eventData;b.silent||b.ignore||M||(M=se(b).eventData={componentType:"graphic",componentIndex:w.componentIndex,name:b.name}),M&&(M.info=S.info)}(v,e,a),Yo({el:v,componentModel:e,itemName:v.name,itemTooltipOption:a.tooltip})}})}},t.prototype._relocate=function(e,n){for(var r=e.option.elements,o=this.group,a=this._elMap,s=n.getWidth(),l=n.getHeight(),u=0;u<r.length;u++)if((g=(f=dt((d=r[u]).id,null))!=null?a.get(f):null)&&g.isGroup){var h=(y=g.parent)===o,c=Da(g),p=Da(y);c.__ecGraphicWidth=q(c.__ecGraphicWidthOption,h?s:p.__ecGraphicWidth)||0,c.__ecGraphicHeight=q(c.__ecGraphicHeightOption,h?l:p.__ecGraphicHeight)||0}for(u=r.length-1;u>=0;u--){var d,f,g;if(g=(f=dt((d=r[u]).id,null))!=null?a.get(f):null){var y=g.parent;p=Da(y),ju(g,d,y===o?{width:s,height:l}:{width:p.__ecGraphicWidth,height:p.__ecGraphicHeight},null,{hv:d.hv,boundingMode:d.bounding})}}},t.prototype._clear=function(){var e=this._elMap;e.each(function(n){vc(n,e)}),this._elMap=re()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Ye);function tT(i,t,e,n){var r=e.type,o=ee(eT,r)?eT[r]:Ru(r),a=new o(e);t.add(a),n.set(i,a),Da(a).__ecGraphicId=i}function vc(i,t){var e=i&&i.parent;e&&(i.type==="group"&&i.traverse(function(n){vc(n,t)}),t.removeKey(Da(i).__ecGraphicId),e.remove(i))}function nT(i,t){var e;return D(t,function(n){i[n]!=null&&i[n]!=="auto"&&(e=!0)}),e}var iT=["x","y","radius","angle","single"],CE=["cartesian2d","polar","singleAxis"];function lr(i){return i+"Axis"}function AE(i,t){var e,n=re(),r=[],o=re();i.eachComponent({mainType:"dataZoom",query:t},function(l){o.get(l.uid)||s(l)});do e=!1,i.eachComponent("dataZoom",a);while(e);function a(l){!o.get(l.uid)&&function(u){var h=!1;return u.eachTargetAxis(function(c,p){var d=n.get(c);d&&d[p]&&(h=!0)}),h}(l)&&(s(l),e=!0)}function s(l){o.set(l.uid,!0),r.push(l),l.eachTargetAxis(function(u,h){(n.get(u)||n.set(u,[]))[h]=!0})}return r}function rT(i){var t=i.ecModel,e={infoList:[],infoMap:re()};return i.eachTargetAxis(function(n,r){var o=t.getComponent(lr(n),r);if(o){var a=o.getCoordSysModel();if(a){var s=a.uid,l=e.infoMap.get(s);l||(l={model:a,axisModels:[]},e.infoList.push(l),e.infoMap.set(s,l)),l.axisModels.push(o)}}}),e}var om=function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},i}(),Nl=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return z(t,i),t.prototype.init=function(e,n,r){var o=oT(e);this.settledOption=o,this.mergeDefaultAndTheme(e,r),this._doInit(o)},t.prototype.mergeOption=function(e){var n=oT(e);de(this.option,e,!0),de(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(e){var n=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var r=this.settledOption;D([["start","startValue"],["end","endValue"]],function(o,a){this._rangePropMode[a]==="value"&&(n[o[0]]=r[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),n=this._targetAxisInfoMap=re();this._fillSpecifiedTargetAxis(n)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(r){r.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var n=!1;return D(iT,function(r){var o=this.getReferringComponents(lr(r),LC);if(o.specified){n=!0;var a=new om;D(o.models,function(s){a.add(s.componentIndex)}),e.set(r,a)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(e,n){var r=this.ecModel,o=!0;if(o){var a=n==="vertical"?"y":"x";s(r.findComponents({mainType:a+"Axis"}),a)}o&&s(r.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===n}}),"single");function s(l,u){var h=l[0];if(h){var c=new om;if(c.add(h.componentIndex),e.set(u,c),o=!1,u==="x"||u==="y"){var p=h.getReferringComponents("grid",lt).models[0];p&&D(l,function(d){h.componentIndex!==d.componentIndex&&p===d.getReferringComponents("grid",lt).models[0]&&c.add(d.componentIndex)})}}}o&&D(iT,function(l){if(o){var u=r.findComponents({mainType:lr(l),filter:function(p){return p.get("type",!0)==="category"}});if(u[0]){var h=new om;h.add(u[0].componentIndex),e.set(l,h),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(n){!e&&(e=n)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var n=this._rangePropMode,r=this.get("rangeMode");D([["start","startValue"],["end","endValue"]],function(o,a){var s=e[o[0]]!=null,l=e[o[1]]!=null;s&&!l?n[a]="percent":!s&&l?n[a]="value":r?n[a]=r[a]:s&&(n[a]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(n,r){e==null&&(e=this.ecModel.getComponent(lr(n),r))},this),e},t.prototype.eachTargetAxis=function(e,n){this._targetAxisInfoMap.each(function(r,o){D(r.indexList,function(a){e.call(n,o,a)})})},t.prototype.getAxisProxy=function(e,n){var r=this.getAxisModel(e,n);if(r)return r.__dzAxisProxy},t.prototype.getAxisModel=function(e,n){var r=this._targetAxisInfoMap.get(e);if(r&&r.indexMap[n])return this.ecModel.getComponent(lr(e),n)},t.prototype.setRawRange=function(e){var n=this.option,r=this.settledOption;D([["start","startValue"],["end","endValue"]],function(o){e[o[0]]==null&&e[o[1]]==null||(n[o[0]]=r[o[0]]=e[o[0]],n[o[1]]=r[o[1]]=e[o[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var n=this.option;D(["start","startValue","end","endValue"],function(r){n[r]=e[r]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,n){if(e!=null||n!=null)return this.getAxisProxy(e,n).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var n,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var a=r[o],s=this._targetAxisInfoMap.get(a),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(a,s.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},t}(ve);function oT(i){var t={};return D(["start","end","startValue","endValue","throttle"],function(e){i.hasOwnProperty(e)&&(t[e]=i[e])}),t}var DE=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="dataZoom.select",t}(Nl),am=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r,o){this.dataZoomModel=e,this.ecModel=n,this.api=r},t.type="dataZoom",t}(Ye),LE=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="dataZoom.select",t}(am),La=D,aT=$t,kE=function(){function i(t,e,n,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=n}return i.prototype.hostedBy=function(t){return this._dataZoomModel===t},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(function(o){var a=o.get("coordinateSystem");return ie(CE,a)>=0}(e)){var n=lr(this._dimName),r=e.getReferringComponents(n,lt).models[0];r&&this._axisIndex===r.componentIndex&&t.push(e)}},this),t},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return te(this._minMaxSpan)},i.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[];La(["start","end"],function(c,p){var d=t[c],f=t[c+"Value"];o[p]==="percent"?(d==null&&(d=a[p]),f=r.parse(Oe(d,a,n))):(e=!0,d=Oe(f=f==null?n[p]:r.parse(f),n,a)),l[p]=f,s[p]=d}),aT(l),aT(s);var u=this._minMaxSpan;function h(c,p,d,f,g){var y=g?"Span":"ValueSpan";lo(0,c,d,"all",u["min"+y],u["max"+y]);for(var m=0;m<2;m++)p[m]=Oe(c[m],d,f,!0),g&&(p[m]=r.parse(p[m]))}return e?h(l,s,n,a,!1):h(s,l,a,n,!0),{valueWindow:l,percentWindow:s}},i.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(r,o,a){var s=[1/0,-1/0];La(a,function(h){(function(c,p,d){p&&D(Rh(p,d),function(f){var g=p.getApproximateExtent(f);g[0]<c[0]&&(c[0]=g[0]),g[1]>c[1]&&(c[1]=g[1])})})(s,h.getData(),o)});var l=r.getAxisModel(),u=yb(l.axis.scale,l,s).calculate();return[u.min,u.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow;o!=="none"&&La(r,function(s){var l=s.getData(),u=l.mapDimensionsAll(n);u.length&&(o==="weakFilter"?l.filterSelf(function(h){for(var c,p,d,f=0;f<u.length;f++){var g=l.get(u[f],h),y=!isNaN(g),m=g<a[0],v=g>a[1];if(y&&!m&&!v)return!0;y&&(d=!0),m&&(c=!0),v&&(p=!0)}return d&&c&&p}):La(u,function(h){if(o==="empty")s.setData(l=l.map(h,function(p){return function(d){return d>=a[0]&&d<=a[1]}(p)?p:NaN}));else{var c={};c[h]=a,l.selectRange(c)}}),La(u,function(h){l.setApproximateExtent(a,h)}))})}},i.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;La(["min","max"],function(r){var o=e.get(r+"Span"),a=e.get(r+"ValueSpan");a!=null&&(a=this.getAxisModel().axis.scale.parse(a)),a!=null?o=Oe(n[0]+a,n,[0,100],!0):o!=null&&(a=Oe(o,[0,100],n,!0)-n[0]),t[r+"Span"]=o,t[r+"ValueSpan"]=a},this)},i.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var r=Sp(n,[0,500]);r=Math.min(r,20);var o=t.axis.scale.rawExtentInfo;e[0]!==0&&o.setDeterminedMinMax("min",+n[0].toFixed(r)),e[1]!==100&&o.setDeterminedMinMax("max",+n[1].toFixed(r)),o.freeze()}},i}(),PE={getTargetSeries:function(t){function e(o){t.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,l){var u=t.getComponent(lr(s),l);o(s,l,u,a)})})}e(function(o,a,s,l){s.__dzAxisProxy=null});var n=[];e(function(o,a,s,l){s.__dzAxisProxy||(s.__dzAxisProxy=new kE(o,a,l,t),n.push(s.__dzAxisProxy))});var r=re();return D(n,function(o){D(o.getTargetSeriesModels(),function(a){r.set(a.uid,a)})}),r},overallReset:function(t,e){t.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(r,o){n.getAxisProxy(r,o).reset(n)}),n.eachTargetAxis(function(r,o){n.getAxisProxy(r,o).filterData(n,e)})}),t.eachComponent("dataZoom",function(n){var r=n.findRepresentativeAxisProxy();if(r){var o=r.getDataPercentWindow(),a=r.getDataValueWindow();n.setCalculatedRange({start:o[0],end:o[1],startValue:a[0],endValue:a[1]})}})}},sT=!1;function sm(i){sT||(sT=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,PE),function(t){t.registerAction("dataZoom",function(e,n){D(AE(n,e),function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function OE(i){i.registerComponentModel(DE),i.registerComponentView(LE),sm(i)}var Tn=function(){},lT={};function ka(i,t){lT[i]=t}function uT(i){return lT[i]}var RE=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.optionUpdated=function(){i.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;D(this.option.feature,function(n,r){var o=uT(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(e)),de(n,o.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(ve);function hT(i,t){var e=Hr(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),i=new Se({shape:{x:i.x-e[3],y:i.y-e[0],width:i.width+e[1]+e[3],height:i.height+e[0]+e[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1})}var NE=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.render=function(e,n,r,o){var a=this.group;if(a.removeAll(),e.get("show")){var s=+e.get("itemSize"),l=e.get("feature")||{},u=this._features||(this._features={}),h=[];D(l,function(p,d){h.push(d)}),new $i(this._featureNames||[],h).add(c).update(c).remove(he(c,null)).execute(),this._featureNames=h,function(p,d,f){var g=d.getBoxLayoutParams(),y=d.get("padding"),m={width:f.getWidth(),height:f.getHeight()},v=ht(g,m,y);Yr(d.get("orient"),p,d.get("itemGap"),v.width,v.height),ju(p,g,m,y)}(a,e,r),a.add(hT(a.getBoundingRect(),e)),a.eachChild(function(p){var d=p.__title,f=p.ensureState("emphasis"),g=f.textConfig||(f.textConfig={}),y=p.getTextContent(),m=y&&y.states.emphasis;if(m&&!Pe(m)&&d){var v=m.style||(m.style={}),_=es(d,Ie.makeFont(v)),x=p.x+a.x,b=!1;p.y+a.y+s+_.height>r.getHeight()&&(g.position="top",b=!0);var w=b?-5-_.height:s+8;x+_.width/2>r.getWidth()?(g.position=["100%",w],v.align="right"):x-_.width/2<0&&(g.position=[0,w],v.align="left")}})}function c(p,d){var f,g=h[p],y=h[d],m=l[g],v=new Ae(m,e,e.ecModel);if(o&&o.newTitle!=null&&o.featureName===g&&(m.title=o.newTitle),g&&!y){if(function(x){return x.indexOf("my")===0}(g))f={onclick:v.option.onclick,featureName:g};else{var _=uT(g);if(!_)return;f=new _}u[g]=f}else if(!(f=u[y]))return;if(f.uid=Xo("toolbox-feature"),f.model=v,f.ecModel=n,f.api=r,f instanceof Tn){if(!g&&y)return void(f.dispose&&f.dispose(n,r));if(!v.get("show")||f.unusable)return void(f.remove&&f.remove(n,r))}(function(x,b,w){var S,M,I=x.getModel("iconStyle"),T=x.getModel(["emphasis","iconStyle"]),C=b instanceof Tn&&b.getIcons?b.getIcons():x.get("icon"),A=x.get("title")||{};typeof C=="string"?(S={})[w]=C:S=C,typeof A=="string"?(M={})[w]=A:M=A;var L=x.iconPaths={};D(S,function(k,P){var O=Uo(k,{},{x:-s/2,y:-s/2,width:s,height:s});O.setStyle(I.getItemStyle()),O.ensureState("emphasis").style=T.getItemStyle();var R=new Ie({style:{text:M[P],align:T.get("textAlign"),borderRadius:T.get("textBorderRadius"),padding:T.get("textPadding"),fill:null},ignore:!0});O.setTextContent(R),Yo({el:O,componentModel:e,itemName:P,formatterParamsExtra:{title:M[P]}}),O.__title=M[P],O.on("mouseover",function(){var N=T.getItemStyle(),E=e.get("orient")==="vertical"?e.get("right")==null?"right":"left":e.get("bottom")==null?"bottom":"top";R.setStyle({fill:T.get("textFill")||N.fill||N.stroke||"#000",backgroundColor:T.get("textBackgroundColor")}),O.setTextConfig({position:T.get("textPosition")||E}),R.ignore=!e.get("showTitle"),Jn(this)}).on("mouseout",function(){x.get(["iconStatus",P])!=="emphasis"&&Qn(this),R.hide()}),(x.get(["iconStatus",P])==="emphasis"?Jn:Qn)(O),a.add(O),O.on("click",Q(b.onclick,b,n,r,P)),L[P]=O})})(v,f,g),v.setIconStatus=function(x,b){var w=this.option,S=this.iconPaths;w.iconStatus=w.iconStatus||{},w.iconStatus[x]=b,S[x]&&(b==="emphasis"?Jn:Qn)(S[x])},f instanceof Tn&&f.render&&f.render(v,n,r,o)}},t.prototype.updateView=function(e,n,r,o){D(this._features,function(a){a instanceof Tn&&a.updateView&&a.updateView(a.model,n,r,o)})},t.prototype.remove=function(e,n){D(this._features,function(r){r instanceof Tn&&r.remove&&r.remove(e,n)}),this.group.removeAll()},t.prototype.dispose=function(e,n){D(this._features,function(r){r instanceof Tn&&r.dispose&&r.dispose(e,n)})},t.type="toolbox",t}(Ye),cT=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.onclick=function(e,n){var r=this.model,o=r.get("name")||e.get("title.0.text")||"echarts",a=n.getZr().painter.getType()==="svg",s=a?"svg":r.get("type",!0)||"png",l=n.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")});if(typeof MouseEvent!="function"||!ue.browser.newEdge&&(ue.browser.ie||ue.browser.edge))if(window.navigator.msSaveOrOpenBlob||a){var u=l.split(","),h=u[0].indexOf("base64")>-1,c=a?decodeURIComponent(u[1]):u[1];h&&(c=atob(c));var p=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var d=c.length,f=new Uint8Array(d);d--;)f[d]=c.charCodeAt(d);var g=new Blob([f]);window.navigator.msSaveOrOpenBlob(g,p)}else{var y=document.createElement("iframe");document.body.appendChild(y);var m=y.contentWindow,v=m.document;v.open("image/svg+xml","replace"),v.write(c),v.close(),m.focus(),v.execCommand("SaveAs",!0,p),document.body.removeChild(y)}}else{var _=r.get("lang"),x='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(_&&_[0]||"")+'" /></body>',b=window.open();b.document.write(x),b.document.title=o}else{var w=document.createElement("a");w.download=o+"."+s,w.target="_blank",w.href=l;var S=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});w.dispatchEvent(S)}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocale(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocale(["toolbox","saveAsImage","lang"])}},t}(Tn);cT.prototype.unusable=!ue.canvasSupported;var pT="__ec_magicType_stack__",EE=[["line","bar"],["stack"]],zE=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.getIcons=function(){var e=this.model,n=e.get("icon"),r={};return D(e.get("type"),function(o){n[o]&&(r[o]=n[o])}),r},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocale(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,n,r){var o=this.model,a=o.get(["seriesIndex",r]);if(dT[r]){var s,l={series:[]};D(EE,function(u){ie(u,r)>=0&&D(u,function(h){o.setIconStatus(h,"normal")})}),o.setIconStatus(r,"emphasis"),e.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},function(u){var h=u.subType,c=u.id,p=dT[r](h,c,u,o);p&&(J(p,u.option),l.series.push(p));var d=u.coordinateSystem;if(d&&d.type==="cartesian2d"&&(r==="line"||r==="bar")){var f=d.getAxesByScale("ordinal")[0];if(f){var g=f.dim+"Axis",y=u.getReferringComponents(g,lt).models[0].componentIndex;l[g]=l[g]||[];for(var m=0;m<=y;m++)l[g][y]=l[g][y]||{};l[g][y].boundaryGap=r==="bar"}}}),r==="stack"&&(s=de({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title)),n.dispatchAction({type:"changeMagicType",currentType:r,newOption:l,newTitle:s,featureName:"magicType"})}},t}(Tn),dT={line:function(t,e,n,r){if(t==="bar")return de({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(t,e,n,r){if(t==="line")return de({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(t,e,n,r){var o=n.get("stack")===pT;if(t==="line"||t==="bar")return r.setIconStatus("stack",o?"normal":"emphasis"),de({id:e,stack:o?"":pT},r.get(["option","stack"])||{},!0)}};Gn({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,t){t.mergeOption(i.newOption)});var _c=new Array(60).join("-"),El="	";function xc(i){return i.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var lm=new RegExp("[	]+","g");function BE(i,t){var e=i.split(new RegExp(`
*`+_c+`
*`,"g")),n={series:[]};return D(e,function(r,o){if(function(u){if(u.slice(0,u.indexOf(`
`)).indexOf(El)>=0)return!0}(r)){var a=function(u){for(var h=u.split(/\n+/g),c=[],p=j(xc(h.shift()).split(lm),function(y){return{name:y,data:[]}}),d=0;d<h.length;d++){var f=xc(h[d]).split(lm);c.push(f.shift());for(var g=0;g<f.length;g++)p[g]&&(p[g].data[d]=f[g])}return{series:p,categories:c}}(r),s=t[o],l=s.axisDim+"Axis";s&&(n[l]=n[l]||[],n[l][s.axisIndex]={data:a.categories},n.series=n.series.concat(a.series))}else a=function(u){for(var h=u.split(/\n+/g),c=xc(h.shift()),p=[],d=0;d<h.length;d++){var f=xc(h[d]);if(f){var g=f.split(lm),y="",m=void 0,v=!1;isNaN(g[0])?(v=!0,y=g[0],g=g.slice(1),p[d]={name:y,value:[]},m=p[d].value):m=p[d]=[];for(var _=0;_<g.length;_++)m.push(+g[_]);m.length===1&&(v?p[d].value=m[0]:p[d]=m[0])}}return{name:c,data:p}}(r),n.series.push(a)}),n}var VE=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.onclick=function(e,n){var r=n.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=o.get("textColor");var u=document.createElement("div"),h=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var c=o.get("optionToContent"),p=o.get("contentToOption"),d=function(w){var S,M,I,T=function(C){var A={},L=[],k=[];return C.eachRawSeries(function(P){var O=P.coordinateSystem;if(!O||O.type!=="cartesian2d"&&O.type!=="polar")L.push(P);else{var R=O.getBaseAxis();if(R.type==="category"){var N=R.dim+"_"+R.index;A[N]||(A[N]={categoryAxis:R,valueAxis:O.getOtherAxis(R),series:[]},k.push({axisDim:R.dim,axisIndex:R.index})),A[N].series.push(P)}else L.push(P)}}),{seriesGroupByCategoryAxis:A,other:L,meta:k}}(w);return{value:Ke([(M=T.seriesGroupByCategoryAxis,I=[],D(M,function(C,A){var L=C.categoryAxis,k=C.valueAxis.dim,P=[" "].concat(j(C.series,function(G){return G.name})),O=[L.model.getCategories()];D(C.series,function(G){var F=G.getRawData();O.push(G.getRawData().mapArray(F.mapDimension(k),function(H){return H}))});for(var R=[P.join(El)],N=0;N<O[0].length;N++){for(var E=[],B=0;B<O.length;B++)E.push(O[B][N]);R.push(E.join(El))}I.push(R.join(`
`))}),I.join(`

`+_c+`

`)),(S=T.other,j(S,function(C){var A=C.getRawData(),L=[C.name],k=[];return A.each(A.dimensions,function(){for(var P=arguments.length,O=arguments[P-1],R=A.getName(O),N=0;N<P-1;N++)k[N]=arguments[N];L.push((R?R+El:"")+k.join(El))}),L.join(`
`)}).join(`

`+_c+`

`))],function(C){return!!C.replace(/[\n\t\s]/g,"")}).join(`

`+_c+`

`),meta:T.meta}}(e);if(typeof c=="function"){var f=c(n.getOption());typeof f=="string"?u.innerHTML=f:xo(f)&&u.appendChild(f)}else u.appendChild(h),h.readOnly=o.get("readOnly"),h.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",h.style.color=o.get("textColor"),h.style.borderColor=o.get("textareaBorderColor"),h.style.backgroundColor=o.get("textareaColor"),h.value=d.value;var g=d.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:0;left:0;right:0;";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),_=document.createElement("div");m+=";background-color:"+o.get("buttonColor"),m+=";color:"+o.get("buttonTextColor");var x=this;function b(){r.removeChild(a),x._dom=null}Yc(v,"click",b),Yc(_,"click",function(){if(p==null&&c!=null||p!=null&&c==null)b();else{var w;try{w=typeof p=="function"?p(u,n.getOption()):BE(h.value,g)}catch(S){throw b(),new Error("Data view format error "+S)}w&&n.dispatchAction({type:"changeDataView",newOption:w}),b()}}),v.innerHTML=l[1],_.innerHTML=l[2],_.style.cssText=m,v.style.cssText=m,!o.get("readOnly")&&y.appendChild(_),y.appendChild(v),a.appendChild(s),a.appendChild(u),a.appendChild(y),u.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},t.prototype.remove=function(e,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocale(["toolbox","dataView","title"]),lang:e.getLocale(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(Tn);function GE(i,t){return j(i,function(e,n){var r=t&&t[n];if(ae(r)&&!W(r)){ae(e)&&!W(e)||(e={value:e});var o=r.name!=null&&e.name==null;return e=J(e,r),o&&delete e.name,e}return e})}Gn({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(i,t){var e=[];D(i.newOption.series,function(n){var r=t.getSeriesByName(n.name)[0];if(r){var o=r.get("data");e.push({name:n.name,data:GE(n.data,o)})}else e.push(X({type:"scatter"},n))}),t.mergeOption(J({series:e},i.newOption))});var fT=D,gT=Ne();function um(i){var t=gT(i);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var FE=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.onclick=function(e,n){(function(r){gT(r).snapshots=null})(e),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocale(["toolbox","restore","title"])}},t}(Tn);Gn({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,t){t.resetOption("recreate")});var hm=["dataToPoint","pointToData"],HE=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],cm=function(){function i(t,e,n){var r=this;this._targetInfoList=[];var o=yT(e,t);D(WE,function(a,s){(!n||!n.include||ie(n.include,s)>=0)&&a(o,r._targetInfoList)})}return i.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(n,r,o){if((n.coordRanges||(n.coordRanges=[])).push(r),!n.coordRange){n.coordRange=r;var a=dm[n.brushType](0,o,r);n.__rangeOffset={offset:xT[n.brushType](a.values,n.range,[1,1]),xyMinMax:a.xyMinMax}}}),t},i.prototype.matchOutputRanges=function(t,e,n){D(t,function(r){var o=this.findTargetInfo(r,e);o&&o!==!0&&D(o.coordSyses,function(a){var s=dm[r.brushType](1,a,r.range);n(r,s.values,a,e)})},this)},i.prototype.setInputRanges=function(t,e){D(t,function(n){var r,o,a,s,l,u=this.findTargetInfo(n,e);if(n.range=n.range||[],u&&u!==!0){n.panelId=u.panelId;var h=dm[n.brushType](0,u.coordSys,n.coordRange),c=n.__rangeOffset;n.range=c?xT[n.brushType](h.values,c.offset,(r=h.xyMinMax,o=c.xyMinMax,a=wT(r),s=wT(o),l=[a[0]/s[0],a[1]/s[1]],isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l)):h.values}},this)},i.prototype.makePanelOpts=function(t,e){return j(this._targetInfoList,function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:gM(r),isTargetByCursor:mM(r,t,n.coordSysModel),getLinearBrushOtherExtent:yM(r)}})},i.prototype.controlSeries=function(t,e,n){var r=this.findTargetInfo(t,n);return r===!0||r&&ie(r.coordSyses,e.coordinateSystem)>=0},i.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,r=yT(e,t),o=0;o<n.length;o++){var a=n[o],s=t.panelId;if(s){if(a.panelId===s)return a}else for(var l=0;l<mT.length;l++)if(mT[l](r,a))return a}return!0},i}();function pm(i){return i[0]>i[1]&&i.reverse(),i}function yT(i,t){return Ir(i,t,{includeMainTypes:HE})}var WE={grid:function(t,e){var n=t.xAxisModels,r=t.yAxisModels,o=t.gridModels,a=re(),s={},l={};(n||r||o)&&(D(n,function(u){var h=u.axis.grid.model;a.set(h.id,h),s[h.id]=!0}),D(r,function(u){var h=u.axis.grid.model;a.set(h.id,h),l[h.id]=!0}),D(o,function(u){a.set(u.id,u),s[u.id]=!0,l[u.id]=!0}),a.each(function(u){var h=u.coordinateSystem,c=[];D(h.getCartesians(),function(p,d){(ie(n,p.getAxis("x").model)>=0||ie(r,p.getAxis("y").model)>=0)&&c.push(p)}),e.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:c[0],coordSyses:c,getPanelRect:vT.grid,xAxisDeclared:s[u.id],yAxisDeclared:l[u.id]})}))},geo:function(t,e){D(t.geoModels,function(n){var r=n.coordinateSystem;e.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:r,coordSyses:[r],getPanelRect:vT.geo})})}},mT=[function(i,t){var e=i.xAxisModel,n=i.yAxisModel,r=i.gridModel;return!r&&e&&(r=e.axis.grid.model),!r&&n&&(r=n.axis.grid.model),r&&r===t.gridModel},function(i,t){var e=i.geoModel;return e&&e===t.geoModel}],vT={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Wi(t)),e}},dm={lineX:he(_T,0),lineY:he(_T,1),rect:function(t,e,n){var r=e[hm[t]]([n[0][0],n[1][0]]),o=e[hm[t]]([n[0][1],n[1][1]]),a=[pm([r[0],o[0]]),pm([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(t,e,n){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:j(n,function(o){var a=e[hm[t]](o);return r[0][0]=Math.min(r[0][0],a[0]),r[1][0]=Math.min(r[1][0],a[1]),r[0][1]=Math.max(r[0][1],a[0]),r[1][1]=Math.max(r[1][1],a[1]),a}),xyMinMax:r}}};function _T(i,t,e,n){var r=e.getAxis(["x","y"][i]),o=pm(j([0,1],function(s){return t?r.coordToData(r.toLocalCoord(n[s])):r.toGlobalCoord(r.dataToCoord(n[s]))})),a=[];return a[i]=o,a[1-i]=[NaN,NaN],{values:o,xyMinMax:a}}var xT={lineX:he(bT,0),lineY:he(bT,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return j(t,function(r,o){return[r[0]-n[0]*e[o][0],r[1]-n[1]*e[o][1]]})}};function bT(i,t,e,n){return[t[0]-n[i]*e[0],t[1]-n[i]*e[1]]}function wT(i){return i?[i[0][1]-i[0][0],i[1][1]-i[1][0]]:[NaN,NaN]}var fm,gm,ym=D,UE=Rv+"toolbox-dataZoom_",YE=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.render=function(e,n,r,o){this._brushController||(this._brushController=new ly(r.getZr()),this._brushController.on("brush",Q(this._onBrush,this)).mount()),function(a,s,l,u,h){var c=l._isZoomActive;u&&u.type==="takeGlobalCursor"&&(c=u.key==="dataZoomSelect"&&u.dataZoomSelectActive),l._isZoomActive=c,a.setIconStatus("zoom",c?"emphasis":"normal");var p=new cm(mm(a),s,{include:["grid"]}).makePanelOpts(h,function(d){return d.xAxisDeclared&&!d.yAxisDeclared?"lineX":!d.xAxisDeclared&&d.yAxisDeclared?"lineY":"rect"});l._brushController.setPanels(p).enableBrush(!(!c||!p.length)&&{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()})}(e,n,this,o,r),function(a,s){a.setIconStatus("back",function(l){return um(l).length}(s)>1?"emphasis":"normal")}(e,n)},t.prototype.onclick=function(e,n,r){XE[r].call(this)},t.prototype.remove=function(e,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var n=e.areas;if(e.isEnd&&n.length){var r={},o=this.ecModel;this._brushController.updateCovers([]),new cm(mm(this.model),o,{include:["grid"]}).matchOutputRanges(n,o,function(s,l,u){if(u.type==="cartesian2d"){var h=s.brushType;h==="rect"?(a("x",u,l[0]),a("y",u,l[1])):a({lineX:"x",lineY:"y"}[h],u,l)}}),function(s,l){var u=um(s);fT(l,function(h,c){for(var p=u.length-1;p>=0&&!u[p][c];p--);if(p<0){var d=s.queryComponents({mainType:"dataZoom",subType:"select",id:c})[0];if(d){var f=d.getPercentRange();u[0][c]={dataZoomId:c,start:f[0],end:f[1]}}}}),u.push(l)}(o,r),this._dispatchZoomAction(r)}function a(s,l,u){var h=l.getAxis(s),c=h.model,p=function(f,g,y){var m;return y.eachComponent({mainType:"dataZoom",subType:"select"},function(v){v.getAxisModel(f,g.componentIndex)&&(m=v)}),m}(s,c,o),d=p.findRepresentativeAxisProxy(c).getMinMaxSpan();d.minValueSpan==null&&d.maxValueSpan==null||(u=lo(0,u.slice(),h.scale.getExtent(),0,d.minValueSpan,d.maxValueSpan)),p&&(r[p.id]={dataZoomId:p.id,startValue:u[0],endValue:u[1]})}},t.prototype._dispatchZoomAction=function(e){var n=[];ym(e,function(r,o){n.push(te(r))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocale(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(Tn),XE={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var e=um(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return fT(n,function(o,a){for(var s=e.length-1;s>=0;s--)if(o=e[s][a]){r[a]=o;break}}),r}(this.ecModel))}};function mm(i){var t={xAxisIndex:i.get("xAxisIndex",!0),yAxisIndex:i.get("yAxisIndex",!0),xAxisId:i.get("xAxisId",!0),yAxisId:i.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}fm="dataZoom",gm=function(t){var e=t.getComponent("toolbox",0);if(e){var n=e.getModel(["feature","dataZoom"]),r=[],o=Ir(t,mm(n));return ym(o.xAxisModels,function(s){return a(s,"xAxis","xAxisIndex")}),ym(o.yAxisModels,function(s){return a(s,"yAxis","yAxisIndex")}),r}function a(s,l,u){var h=s.componentIndex,c={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:UE+l+h};c[u]=h,r.push(c)}},Tt(Bd.get(fm)==null&&gm),Bd.set(fm,gm);var ZE=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(ve);function ST(i){var t=i.get("confine");return t!=null?!!t:i.get("renderMode")==="richText"}function MT(i){if(ue.domSupported){for(var t=document.documentElement.style,e=0,n=i.length;e<n;e++)if(i[e]in t)return i[e]}}var vm=MT(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function IT(i,t){if(!i)return t;t=Ld(t,!0);var e=i.indexOf(t);return(i=e===-1?t:"-"+i.slice(0,e)+"-"+t).toLowerCase()}function TT(i,t){var e=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return e?t?e[t]:e:null}var jE=IT(MT(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),CT=IT(vm,"transform"),qE="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ue.transform3dSupported?"will-change:transform;":"");function AT(i,t,e){var n=i.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!ue.transformSupported)return e?"top:"+r+";left:"+n+";":[["top",r],["left",n]];var o=ue.transform3dSupported,a="translate"+(o?"3d":"")+"("+n+","+r+(o?",0":"")+")";return e?"top:0;left:0;"+CT+":"+a+";":[["top",0],["left",0],[vm,a]]}function KE(i,t,e){var n=[],r=i.get("transitionDuration"),o=i.get("backgroundColor"),a=i.get("shadowBlur"),s=i.get("shadowColor"),l=i.get("shadowOffsetX"),u=i.get("shadowOffsetY"),h=i.getModel("textStyle"),c=w_(i,"html"),p=l+"px "+u+"px "+a+"px "+s;return n.push("box-shadow:"+p),t&&r&&n.push(function(d,f){var g="cubic-bezier(0.23,1,0.32,1)",y=" "+d/2+"s "+g,m="opacity"+y+",visibility"+y;return f||(y=" "+d+"s "+g,m+=ue.transformSupported?","+vm+y:",left"+y+",top"+y),jE+":"+m}(r,e)),o&&(ue.canvasSupported?n.push("background-color:"+o):(n.push("background-color:#"+tp(o)),n.push("filter:alpha(opacity=70)"))),D(["width","color","radius"],function(d){var f="border-"+d,g=Ld(f),y=i.get(g);y!=null&&n.push(f+":"+y+(d==="color"?"":"px"))}),n.push(function(d){var f=[],g=d.get("fontSize"),y=d.getTextColor();y&&f.push("color:"+y),f.push("font:"+d.getFont()),g&&f.push("line-height:"+Math.round(3*g/2)+"px");var m=d.get("textShadowColor"),v=d.get("textShadowBlur")||0,_=d.get("textShadowOffsetX")||0,x=d.get("textShadowOffsetY")||0;return m&&v&&f.push("text-shadow:"+_+"px "+x+"px "+v+"px "+m),D(["decoration","align"],function(b){var w=d.get(b);w&&f.push("text-"+b+":"+w)}),f.join(";")}(h)),c!=null&&n.push("padding:"+Hr(c).join("px ")+"px"),n.join(";")+";"}function DT(i,t,e,n,r){var o=t&&t.painter;if(e){var a=o&&o.getViewportRoot();a&&function(l,u,h,c,p){Gc(Vc,u,c,p,!0)&&Gc(l,h,Vc[0],Vc[1])}(i,a,document.body,n,r)}else{i[0]=n,i[1]=r;var s=o&&o.getViewportRootOffset();s&&(i[0]+=s.offsetLeft,i[1]+=s.offsetTop)}i[2]=i[0]/t.getWidth(),i[3]=i[1]/t.getHeight()}var $E=function(){function i(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,ue.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=e.getZr(),a=this._appendToBody=n&&n.appendToBody;DT(this._styleCoord,o,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(r):t.appendChild(r),this._container=t;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=o.handler;ln(o.painter.getViewportRoot(),l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return i.prototype.update=function(t){var e=this._container,n=TT(e,"position"),r=e.style;r.position!=="absolute"&&n!=="absolute"&&(r.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},i.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,o=this._styleCoord;n.innerHTML?r.cssText=qE+KE(t,!this._firstShow,this._longHide)+AT(o[0],o[1],!0)+"border-color:"+Wr(e)+";"+(t.get("extraCssText")||"")+";pointer-event:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(t,e,n,r,o){if(t!=null){var a=this.el;if(be(o)&&n.get("trigger")==="item"&&!ST(n)&&(t+=function(l,u,h){if(!be(h)||h==="inside")return"";u=Wr(u);var c,p=(c=h)==="left"?"right":c==="right"?"left":c==="top"?"bottom":"top",d=p+":-6px;",f=CT+":";ie(["left","right"],p)>-1?(d+="top:50%",f+="translateY(-50%) rotate("+(p==="left"?-225:-45)+"deg)"):(d+="left:50%",f+="translateX(-50%) rotate("+(p==="top"?225:45)+"deg)");var g=u+" solid 1px;";return'<div style="'+["position:absolute;width:10px;height:10px;",d+";"+f+";","border-bottom:"+g,"border-right:"+g,"background-color:"+l+";","box-shadow:8px 8px 16px -3px #000;"].join("")+'"></div>'}(n.get("backgroundColor"),r,o)),be(t))a.innerHTML=t;else if(t){a.innerHTML="",W(t)||(t=[t]);for(var s=0;s<t.length;s++)xo(t[s])&&t[s].parentNode!==a&&a.appendChild(t[s])}}},i.prototype.setEnterable=function(t){this._enterable=t},i.prototype.getSize=function(){var t=this.el;return[t.clientWidth,t.clientHeight]},i.prototype.moveTo=function(t,e){var n=this._styleCoord;if(DT(n,this._zr,this._appendToBody,t,e),n[0]!=null&&n[1]!=null){var r=this.el.style;D(AT(n[0],n[1]),function(o){r[o[0]]=o[1]})}},i.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},i.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",ue.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},i.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Q(this.hide,this),t)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},i.prototype.getOuterSize=function(){var t=this.el.clientWidth,e=this.el.clientHeight,n=TT(this.el);return n&&(t+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),e+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)),{width:t,height:e}},i}(),JE=function(){function i(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),kT(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return i.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(t,e,n,r,o){ae(t)&&Ce(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new Ie({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:n.get("backgroundColor"),borderRadius:n.get("borderRadius"),borderWidth:1,borderColor:r,shadowColor:n.get("shadowColor"),shadowBlur:n.get("shadowBlur"),shadowOffsetX:n.get("shadowOffsetX"),shadowOffsetY:n.get("shadowOffsetY"),textShadowColor:a.get("textShadowColor"),textShadowBlur:a.get("textShadowBlur")||0,textShadowOffsetX:a.get("textShadowOffsetX")||0,textShadowOffsetY:a.get("textShadowOffsetY")||0,fill:n.get(["textStyle","color"]),padding:w_(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0}),this.el.on("mouseout",function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1})},i.prototype.setEnterable=function(t){this._enterable=t},i.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=LT(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},i.prototype.moveTo=function(t,e){var n=this.el;if(n){var r=this._styleCoord;kT(r,this._zr,t,e),t=r[0],e=r[1];var o=n.style,a=ur(o.borderWidth||0),s=LT(o);n.x=t+a+s.left,n.y=e+a+s.top,n.markRedraw()}},i.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Q(this.hide,this),t)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.getOuterSize=function(){var t=this.getSize();return{width:t[0],height:t[1]}},i.prototype.dispose=function(){this._zr.remove(this.el)},i}();function ur(i){return Math.max(0,i)}function LT(i){var t=ur(i.shadowBlur||0),e=ur(i.shadowOffsetX||0),n=ur(i.shadowOffsetY||0);return{left:ur(t-e),right:ur(t+e),top:ur(t-n),bottom:ur(t+n)}}function kT(i,t,e,n){i[0]=e,i[1]=n,i[2]=i[0]/t.getWidth(),i[3]=i[1]/t.getHeight()}var PT=Q,zl=D,OT=q,QE=new Se({shape:{x:-1,y:-1,width:2,height:2}}),ez=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.init=function(e,n){if(!ue.node){var r,o=e.getComponent("tooltip"),a=o.get("renderMode");this._renderMode=(r=a)==="auto"?ue.domSupported?"html":"richText":r||"html",this._tooltipContent=this._renderMode==="richText"?new JE(n):new $E(n.getDom(),n,{appendToBody:o.get("appendToBody",!0)})}},t.prototype.render=function(e,n,r){if(!ue.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=n,this._api=r,this._alwaysShowContent=e.get("alwaysShowContent");var o=this._tooltipContent;o.update(e),o.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");zI("itemTooltip",this._api,PT(function(n,r,o){e!=="none"&&(e.indexOf(n)>=0?this._tryShow(r,o):n==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,n=this._ecModel,r=this._api;if(this._lastX!=null&&this._lastY!=null&&e.get("triggerOn")!=="none"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&o.manuallyShowTip(e,n,r,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,n,r,o){if(o.from!==this.uid&&!ue.node){var a=RT(o,r);this._ticket="";var s=o.dataByCoordSys,l=function(f,g,y){var m=kp(f).queryOptionMap,v=m.keys()[0];if(!(!v||v==="series")){var _,x=ss(g,v,m.get(v),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(!!x&&(y.getViewOfComponentModel(x).group.traverse(function(b){var w=se(b).tooltipConfig;if(w&&w.name===f.name)return _=b,!0}),_))return{componentMainType:v,componentIndex:x.componentIndex,el:_}}}(o,n,r);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&o.x!=null&&o.y!=null){var h=QE;h.x=o.x,h.y=o.y,h.update(),se(h).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:h},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(e,n,r,o))return;var c=VI(o,n),p=c.point[0],d=c.point[1];p!=null&&d!=null&&this._tryShow({offsetX:p,offsetY:d,target:c.el,position:o.position,positionDefault:"bottom"},a)}else o.x!=null&&o.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},t.prototype.manuallyHideTip=function(e,n,r,o){var a=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(RT(o,r))},t.prototype._manuallyAxisShowTip=function(e,n,r,o){var a=o.seriesIndex,s=o.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(a!=null&&s!=null&&l!=null){var u=n.getSeriesByIndex(a);if(u&&bc([u.getData().getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel).get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}},t.prototype._tryShow=function(e,n){var r=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(r){var a,s;this._lastDataByCoordSys=null,oa(r,function(l){return se(l).dataIndex!=null?(a=l,!0):se(l).tooltipConfig!=null?(s=l,!0):void 0},!0),a?this._showSeriesItemTooltip(e,a,n):s?this._showComponentItemTooltip(e,s,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(e,n){var r=e.get("showDelay");n=Q(n,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(n,r):n()},t.prototype._showAxisTooltip=function(e,n){var r=this._ecModel,o=this._tooltipModel,a=[n.offsetX,n.offsetY],s=bc([n.tooltipOption],o),l=this._renderMode,u=[],h=_t("section",{blocks:[],noHeader:!0}),c=[],p=new ef;zl(e,function(v){zl(v.dataByAxis,function(_){var x=r.getComponent(_.axisDim+"Axis",_.axisIndex),b=_.value;if(x&&b!=null){var w=kI(b,x.axis,r,_.seriesDataIndices,_.valueLabelOpt),S=_t("section",{header:w,noHeader:!Ii(w),sortBlocks:!0,blocks:[]});h.blocks.push(S),D(_.seriesDataIndices,function(M){var I=r.getSeriesByIndex(M.seriesIndex),T=M.dataIndexInside,C=I.getDataParams(T);C.axisDim=_.axisDim,C.axisIndex=_.axisIndex,C.axisType=_.axisType,C.axisId=_.axisId,C.axisValue=$f(x.axis,{value:b}),C.axisValueLabel=w,C.marker=p.makeTooltipMarker("item",Wr(C.color),l);var A=s_(I.formatTooltip(T,!0,null));A.markupFragment&&S.blocks.push(A.markupFragment),A.markupText&&c.push(A.markupText),u.push(C)})}})}),h.blocks.reverse(),c.reverse();var d=n.position,f=s.get("order"),g=v_(h,p,l,f,r.get("useUTC"),s.get("textStyle"));g&&c.unshift(g);var y=l==="richText"?`

`:"<br/>",m=c.join(y);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(s,d,a[0],a[1],this._tooltipContent,u):this._showTooltipContent(s,m,u,Math.random()+"",a[0],a[1],d,null,p)})},t.prototype._showSeriesItemTooltip=function(e,n,r){var o=this._ecModel,a=se(n),s=a.seriesIndex,l=o.getSeriesByIndex(s),u=a.dataModel||l,h=a.dataIndex,c=a.dataType,p=u.getData(c),d=this._renderMode,f=e.positionDefault,g=bc([p.getItemModel(h),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,f?{position:f}:null),y=g.get("trigger");if(y==null||y==="item"){var m=u.getDataParams(h,c),v=new ef;m.marker=v.makeTooltipMarker("item",Wr(m.color),d);var _=s_(u.formatTooltip(h,!1,c)),x=g.get("order"),b=_.markupFragment?v_(_.markupFragment,v,d,x,o.get("useUTC"),g.get("textStyle")):_.markupText,w="item_"+u.name+"_"+h;this._showOrMove(g,function(){this._showTooltipContent(g,b,m,w,e.offsetX,e.offsetY,e.position,e.target,v)}),r({type:"showTip",dataIndexInside:h,dataIndex:p.getRawIndex(h),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,n,r){var o=se(n),a=o.tooltipConfig.option;be(a)&&(a={content:a,formatter:a});var s=[a],l=this._ecModel.getComponent(o.componentMainType,o.componentIndex);l&&s.push(l);var u=e.positionDefault,h=bc(s,this._tooltipModel,u?{position:u}:null),c=h.get("content"),p=Math.random()+"",d=new ef;this._showOrMove(h,function(){var f=te(h.get("formatterParams")||{});this._showTooltipContent(h,c,f,p,e.offsetX,e.offsetY,e.position,n,d)}),r({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,n,r,o,a,s,l,u,h){if(this._ticket="",e.get("showContent")&&e.get("show")){var c=this._tooltipContent,p=e.get("formatter");l=l||e.get("position");var d=n,f=this._getNearestPoint([a,s],r,e.get("trigger"),e.get("borderColor")).color;if(p&&be(p)){var g=e.ecModel.get("useUTC"),y=W(r)?r[0]:r;d=p,y&&y.axisType&&y.axisType.indexOf("time")>=0&&(d=Ds(y.axisValue,d,g)),d=Pd(d,r,!0)}else if(Pe(p)){var m=PT(function(v,_){v===this._ticket&&(c.setContent(_,h,e,f,l),this._updatePosition(e,l,a,s,c,r,u))},this);this._ticket=o,d=p(r,o,m)}c.setContent(d,h,e,f,l),c.show(e,f),this._updatePosition(e,l,a,s,c,r,u)}},t.prototype._getNearestPoint=function(e,n,r,o){return r==="axis"||W(n)?{color:o||(this._renderMode==="html"?"#fff":"none")}:W(n)?void 0:{color:o||n.color||n.borderColor}},t.prototype._updatePosition=function(e,n,r,o,a,s,l){var u=this._api.getWidth(),h=this._api.getHeight();n=n||e.get("position");var c=a.getSize(),p=e.get("align"),d=e.get("verticalAlign"),f=l&&l.getBoundingRect().clone();if(l&&f.applyTransform(l.transform),Pe(n)&&(n=n([r,o],s,a.el,f,{viewSize:[u,h],contentSize:c.slice()})),W(n))r=OT(n[0],u),o=OT(n[1],h);else if(ae(n)){var g=n;g.width=c[0],g.height=c[1];var y=ht(g,{width:u,height:h});r=y.x,o=y.y,p=null,d=null}else if(be(n)&&l){var m=function(v,_,x){var b=x[0],w=x[1],S=10,M=5,I=0,T=0,C=_.width,A=_.height;switch(v){case"inside":I=_.x+C/2-b/2,T=_.y+A/2-w/2;break;case"top":I=_.x+C/2-b/2,T=_.y-w-S;break;case"bottom":I=_.x+C/2-b/2,T=_.y+A+S;break;case"left":I=_.x-b-S-M,T=_.y+A/2-w/2;break;case"right":I=_.x+C+S+M,T=_.y+A/2-w/2}return[I,T]}(n,f,c);r=m[0],o=m[1]}else m=function(v,_,x,b,w,S,M){var I=x.getOuterSize(),T=I.width,C=I.height;return S!=null&&(v+T+S+2>b?v-=T+S:v+=S),M!=null&&(_+C+M>w?_-=C+M:_+=M),[v,_]}(r,o,a,u,h,p?null:20,d?null:20),r=m[0],o=m[1];p&&(r-=NT(p)?c[0]/2:p==="right"?c[0]:0),d&&(o-=NT(d)?c[1]/2:d==="bottom"?c[1]:0),ST(e)&&(m=function(v,_,x,b,w){var S=x.getOuterSize(),M=S.width,I=S.height;return v=Math.min(v+M,b)-M,_=Math.min(_+I,w)-I,v=Math.max(v,0),_=Math.max(_,0),[v,_]}(r,o,a,u,h),r=m[0],o=m[1]),a.moveTo(r,o)},t.prototype._updateContentNotChangedOnAxis=function(e){var n=this._lastDataByCoordSys,r=!!n&&n.length===e.length;return r&&zl(n,function(o,a){var s=o.dataByAxis||[],l=(e[a]||{}).dataByAxis||[];(r=r&&s.length===l.length)&&zl(s,function(u,h){var c=l[h]||{},p=u.seriesDataIndices||[],d=c.seriesDataIndices||[];(r=r&&u.value===c.value&&u.axisType===c.axisType&&u.axisId===c.axisId&&p.length===d.length)&&zl(p,function(f,g){var y=d[g];r=r&&f.seriesIndex===y.seriesIndex&&f.dataIndex===y.dataIndex})})}),this._lastDataByCoordSys=e,!!r},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,n){ue.node||(this._tooltipContent.dispose(),Jy("itemTooltip",n))},t.type="tooltip",t}(Ye);function bc(i,t,e){var n,r=t.ecModel;e?(n=new Ae(e,r,r),n=new Ae(t.option,n,r)):n=t;for(var o=i.length-1;o>=0;o--){var a=i[o];a&&(a instanceof Ae&&(a=a.get("tooltip",!0)),be(a)&&(a={formatter:a}),a&&(n=new Ae(a,n,r)))}return n}function RT(i,t){return i.dispatchAction||Q(t.dispatchAction,t)}function NT(i){return i==="center"||i==="middle"}var tz=["rect","polygon","keep","clear"];function nz(i,t){var e=je(i?i.brush:[]);if(e.length){var n=[];D(e,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var r=i&&i.toolbox;W(r)&&(r=r[0]),r||(r={feature:{}},i.toolbox=[r]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,n),function(l){var u={};D(l,function(h){u[h]=1}),l.length=0,D(u,function(h,c){l.push(c)})}(s),t&&!s.length&&s.push.apply(s,tz)}}var ET=D;function zT(i){if(i){for(var t in i)if(i.hasOwnProperty(t))return!0}}function _m(i,t,e){var n={};return ET(t,function(r){var o,a=n[r]=((o=function(){}).prototype.__hidden=o.prototype,new o);ET(i[r],function(s,l){if(xt.isValidType(l)){var u={type:l,visual:s};e&&e(u,r),a[l]=new xt(u),l==="opacity"&&((u=te(u)).type="colorAlpha",a.__hidden.__alphaForOpacity=new xt(u))}})}),n}function BT(i,t,e){var n;D(e,function(r){t.hasOwnProperty(r)&&zT(t[r])&&(n=!0)}),n&&D(e,function(r){t.hasOwnProperty(r)&&zT(t[r])?i[r]=te(t[r]):delete i[r]})}var VT={lineX:GT(0),lineY:GT(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&Kr(n.range,t[0],t[1])},rect:function(t,e,n){var r=n.range;if(!t||r.length<=1)return!1;var o=t.x,a=t.y,s=t.width,l=t.height,u=r[0];return!!(Kr(r,o,a)||Kr(r,o+s,a)||Kr(r,o,a+l)||Kr(r,o+s,a+l)||me.create(t).contain(u[0],u[1])||Ms(o,a,o+s,a,r)||Ms(o,a,o,a+l,r)||Ms(o+s,a,o+s,a+l,r)||Ms(o,a+l,o+s,a+l,r))||void 0}}};function GT(i){var t=["x","y"],e=["width","height"];return{point:function(r,o,a){if(r){var s=a.range;return Bl(r[i],s)}},rect:function(r,o,a){if(r){var s=a.range,l=[r[t[i]],r[t[i]]+r[e[i]]];return l[1]<l[0]&&l.reverse(),Bl(l[0],s)||Bl(l[1],s)||Bl(s[0],l)||Bl(s[1],l)}}}}function Bl(i,t){return t[0]<=i&&i<=t[1]}var FT=["inBrush","outOfBrush"],iz="__ecBrushSelect",xm="__ecInBrushSelectEvent";function HT(i){i.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new cm(t.option,i)).setInputRanges(t.areas,i)})}function rz(i,t,e){var n,r,o=[];i.eachComponent({mainType:"brush"},function(a){e&&e.type==="takeGlobalCursor"&&a.setBrushOption(e.key==="brush"?e.brushOption:{brushType:!1})}),HT(i),i.eachComponent({mainType:"brush"},function(a,s){var l={brushId:a.id,brushIndex:s,brushName:a.name,areas:te(a.areas),selected:[]};o.push(l);var u=a.option,h=u.brushLink,c=[],p=[],d=[],f=!1;s||(n=u.throttleType,r=u.throttleDelay);var g=j(a.areas,function(_){var x=az[_.brushType],b=J({boundingRect:x?x(_):void 0},_);return b.selectors=function(w){var S=w.brushType,M={point:function(T){return VT[S].point(T,M,w)},rect:function(T){return VT[S].rect(T,M,w)}};return M}(b),b}),y=_m(a.option,FT,function(_){_.mappingMethod="fixed"});function m(_){return h==="all"||!!c[_]}function v(_){return!!_.length}W(h)&&D(h,function(_){c[_]=1}),i.eachSeries(function(_,x){var b=d[x]=[];_.subType==="parallel"?function(w,S){var M=w.coordinateSystem;f=f||M.hasAxisBrushed(),m(S)&&M.eachActiveState(w.getData(),function(I,T){I==="active"&&(p[T]=1)})}(_,x):function(w,S,M){if(!(!w.brushSelector||function(T,C){var A=T.option.seriesIndex;return A!=null&&A!=="all"&&(W(A)?ie(A,C)<0:C!==A)}(a,S))&&(D(g,function(T){a.brushTargetManager.controlSeries(T,w,i)&&M.push(T),f=f||v(M)}),m(S)&&v(M))){var I=w.getData();I.each(function(T){WT(w,M,I,T)&&(p[T]=1)})}}(_,x,b)}),i.eachSeries(function(_,x){var b={seriesId:_.id,seriesIndex:x,seriesName:_.name,dataIndex:[]};l.selected.push(b);var w=d[x],S=_.getData(),M=m(x)?function(I){return p[I]?(b.dataIndex.push(S.getRawIndex(I)),"inBrush"):"outOfBrush"}:function(I){return WT(_,w,S,I)?(b.dataIndex.push(S.getRawIndex(I)),"inBrush"):"outOfBrush"};(m(x)?f:v(w))&&function(I,T,C,A,L,k){var P,O={};function R(B){return nf(C,P,B)}function N(B,G){W_(C,P,B,G)}function E(B,G){P=k==null?B:G;var F=C.getRawDataItem(P);if(!F||F.visualMap!==!1)for(var H=A.call(L,B),V=T[H],U=O[H],Y=0,Z=U.length;Y<Z;Y++){var K=U[Y];V[K]&&V[K].applyVisual(B,R,N)}}D(I,function(B){var G=xt.prepareVisualTypes(T[B]);O[B]=G}),k==null?C.each(E):C.each([k],E)}(FT,y,S,M)})}),function(a,s,l,u,h){if(!!h){var c=a.getZr();c[xm]||(c.__ecBrushSelect||(c.__ecBrushSelect=oz),Bs(c,iz,l,s)(a,u))}}(t,n,r,o,e)}function oz(i,t){if(!i.isDisposed()){var e=i.getZr();e[xm]=!0,i.dispatchAction({type:"brushSelect",batch:t}),e[xm]=!1}}function WT(i,t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r];if(i.brushSelector(n,e,a.selectors,a))return!0}}var az={rect:function(t){return UT(t.range)},polygon:function(t){for(var e,n=t.range,r=0,o=n.length;r<o;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=n[r];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&UT(e)}};function UT(i){return new me(i[0][0],i[1][0],i[0][1]-i[0][0],i[1][1]-i[1][0])}var sz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.init=function(e,n){this.ecModel=e,this.api=n,this.model,(this._brushController=new ly(n.getZr())).on("brush",Q(this._onBrush,this)).mount()},t.prototype.render=function(e,n,r,o){this.model=e,this._updateController(e,n,r,o)},t.prototype.updateTransform=function(e,n,r,o){HT(n),this._updateController(e,n,r,o)},t.prototype.updateVisual=function(e,n,r,o){this.updateTransform(e,n,r,o)},t.prototype.updateView=function(e,n,r,o){this._updateController(e,n,r,o)},t.prototype._updateController=function(e,n,r,o){(!o||o.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(r)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var n=this.model.id,r=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:te(r),$from:n}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:te(r),$from:n})},t.type="brush",t}(Ye),lz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return z(t,i),t.prototype.optionUpdated=function(e,n){var r=this.option;!n&&BT(r,e,["inBrush","outOfBrush"]);var o=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},o.hasOwnProperty("liftZ")||(o.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=j(e,function(n){return YT(this.option,n)},this))},t.prototype.setBrushOption=function(e){this.brushOption=YT(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(ve);function YT(i,t){return de({brushType:i.brushType,brushMode:i.brushMode,transformable:i.transformable,brushStyle:new Ae(i.brushStyle).getItemStyle(),removeOnClick:i.removeOnClick,z:i.z},t,!0)}var uz=["rect","polygon","lineX","lineY","keep","clear"],hz=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return z(t,i),t.prototype.render=function(e,n,r){var o,a,s;n.eachComponent({mainType:"brush"},function(l){o=l.brushType,a=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=o,this._brushMode=a,D(e.get("type",!0),function(l){e.setIconStatus(l,(l==="keep"?a==="multiple":l==="clear"?s:l===o)?"emphasis":"normal")})},t.prototype.updateView=function(e,n,r){this.render(e,n,r)},t.prototype.getIcons=function(){var e=this.model,n=e.get("icon",!0),r={};return D(e.get("type",!0),function(o){n[o]&&(r[o]=n[o])}),r},t.prototype.onclick=function(e,n,r){var o=this._brushType,a=this._brushMode;r==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:r==="keep"?o:o!==r&&r,brushMode:r==="keep"?a==="multiple"?"single":"multiple":a}})},t.getDefaultOption=function(e){return{show:!0,type:uz.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocale(["toolbox","brush","title"])}},t}(Tn),cz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return z(t,i),t.type="title",t.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(ve),pz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.render=function(e,n,r){if(this.group.removeAll(),e.get("show")){var o=this.group,a=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),u=we(e.get("textBaseline"),e.get("textVerticalAlign")),h=new Ie({style:nt(a,{text:e.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),c=h.getBoundingRect(),p=e.get("subtext"),d=new Ie({style:nt(s,{text:p,fill:s.getTextColor(),y:c.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),f=e.get("link"),g=e.get("sublink"),y=e.get("triggerEvent",!0);h.silent=!f&&!y,d.silent=!g&&!y,f&&h.on("click",function(){Xu(f,"_"+e.get("target"))}),g&&d.on("click",function(){Xu(g,"_"+e.get("subtarget"))}),se(h).eventData=se(d).eventData=y?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(h),p&&o.add(d);var m=o.getBoundingRect(),v=e.getBoxLayoutParams();v.width=m.width,v.height=m.height;var _=ht(v,{width:r.getWidth(),height:r.getHeight()},e.get("padding"));l||((l=e.get("left")||e.get("right"))==="middle"&&(l="center"),l==="right"?_.x+=_.width:l==="center"&&(_.x+=_.width/2)),u||((u=e.get("top")||e.get("bottom"))==="center"&&(u="middle"),u==="bottom"?_.y+=_.height:u==="middle"&&(_.y+=_.height/2),u=u||"top"),o.x=_.x,o.y=_.y,o.markRedraw();var x={align:l,verticalAlign:u};h.setStyle(x),d.setStyle(x),m=o.getBoundingRect();var b=_.margin,w=e.getItemStyle(["color","opacity"]);w.fill=e.get("backgroundColor");var S=new Se({shape:{x:m.x-b[3],y:m.y-b[0],width:m.width+b[1]+b[3],height:m.height+b[0]+b[2],r:e.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});o.add(S)}},t.type="title",t}(Ye),XT=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return z(t,i),t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r),this._initData()},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var n=this._data.count();this.option.loop?e=(e%n+n)%n:(e>=n&&(e=n-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,n=this.option,r=n.data||[],o=n.axisType,a=this._names=[];o==="category"?(e=[],D(r,function(l,u){var h,c=dt(rs(l),"");ae(l)?(h=te(l)).value=u:h=u,e.push(h),a.push(c)})):e=r;var s={category:"ordinal",time:"time",value:"number"}[o]||"number";(this._data=new Pt([{name:"value",type:s}],this)).initData(e,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(ve),ZT=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="timeline.slider",t.defaultOption=Ui(XT.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(XT);We(ZT,qd.prototype);var dz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="timeline",t}(Ye),fz=function(i){function t(e,n,r,o){var a=i.call(this,e,n,r)||this;return a.type=o||"value",a}return z(t,i),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(bn),bm=Math.PI,jT=Ne(),gz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.init=function(e,n){this.api=n},t.prototype.render=function(e,n,r){if(this.model=e,this.api=r,this.ecModel=n,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,r),a=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(o,e);e.formatTooltip=function(u){return _t("nameValue",{noName:!0,value:l.scale.getLabel({value:u})})},D(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,a,l,e)},this),this._renderAxisLabel(o,s,l,e),this._position(o,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,n){var r,o,a,s,l=e.get(["label","position"]),u=e.get("orient"),h=function(A,L){return ht(A.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()},A.get("padding"))}(e,n),c={horizontal:"center",vertical:(r=l==null||l==="auto"?u==="horizontal"?h.y+h.height/2<n.getHeight()/2?"-":"+":h.x+h.width/2<n.getWidth()/2?"+":"-":be(l)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][l]:l)>=0||r==="+"?"left":"right"},p={horizontal:r>=0||r==="+"?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:bm/2},f=u==="vertical"?h.height:h.width,g=e.getModel("controlStyle"),y=g.get("show",!0),m=y?g.get("itemSize"):0,v=y?g.get("itemGap"):0,_=m+v,x=e.get(["label","rotate"])||0;x=x*bm/180;var b=g.get("position",!0),w=y&&g.get("showPlayBtn",!0),S=y&&g.get("showPrevBtn",!0),M=y&&g.get("showNextBtn",!0),I=0,T=f;b==="left"||b==="bottom"?(w&&(o=[0,0],I+=_),S&&(a=[I,0],I+=_),M&&(s=[T-m,0],T-=_)):(w&&(o=[T-m,0],T-=_),S&&(a=[0,0],I+=_),M&&(s=[T-m,0],T-=_));var C=[I,T];return e.get("inverse")&&C.reverse(),{viewRect:h,mainLength:f,orient:u,rotation:d[u],labelRotation:x,labelPosOpt:r,labelAlign:e.get(["label","align"])||c[u],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||p[u],playPosition:o,prevBtnPosition:a,nextBtnPosition:s,axisExtent:C,controlSize:m,controlGap:v}},t.prototype._position=function(e,n){var r=this._mainGroup,o=this._labelGroup,a=e.viewRect;if(e.orient==="vertical"){var s=[1,0,0,1,0,0],l=a.x,u=a.y+a.height;Ln(s,s,[-l,-u]),Pi(s,s,-bm/2),Ln(s,s,[l,u]),(a=a.clone()).applyTransform(s)}var h=v(a),c=v(r.getBoundingRect()),p=v(o.getBoundingRect()),d=[r.x,r.y],f=[o.x,o.y];f[0]=d[0]=h[0][0];var g,y=e.labelPosOpt;y==null||be(y)?(_(d,c,h,1,g=y==="+"?0:1),_(f,p,h,1,1-g)):(_(d,c,h,1,g=y>=0?0:1),f[1]=d[1]+y);function m(x){x.originX=h[0][0]-x.x,x.originY=h[1][0]-x.y}function v(x){return[[x.x,x.x+x.width],[x.y,x.y+x.height]]}function _(x,b,w,S,M){x[S]+=w[S][M]-b[S][M]}r.setPosition(d),o.setPosition(f),r.rotation=o.rotation=e.rotation,m(r),m(o)},t.prototype._createAxis=function(e,n){var r=n.getData(),o=n.get("axisType"),a=function(u,h){if(h=h||u.get("type"))switch(h){case"category":return new Lh({ordinalMeta:u.getCategories(),extent:[1/0,-1/0]});case"time":return new qf({locale:u.ecModel.getLocaleModel(),useUTC:u.ecModel.get("useUTC")});default:return new no}}(n,o);a.getTicks=function(){return r.mapArray(["value"],function(u){return{value:u}})};var s=r.getDataExtent("value");a.setExtent(s[0],s[1]),a.niceTicks();var l=new fz("value",a,e.axisExtent,o);return l.model=n,l},t.prototype._createGroup=function(e){var n=this[e]=new oe;return this.group.add(n),n},t.prototype._renderAxisLine=function(e,n,r,o){var a=r.getExtent();if(o.get(["lineStyle","show"])){var s=new ft({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:X({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(s);var l=this._progressLine=new ft({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:J({lineCap:"round",lineWidth:s.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},t.prototype._renderAxisTick=function(e,n,r,o){var a=this,s=o.getData(),l=r.scale.getTicks();this._tickSymbols=[],D(l,function(u){var h=r.dataToCoord(u.value),c=s.getItemModel(u.value),p=c.getModel("itemStyle"),d=c.getModel(["emphasis","itemStyle"]),f=c.getModel(["progress","itemStyle"]),g={x:h,y:0,onclick:Q(a._changeTimeline,a,u.value)},y=qT(c,p,n,g);y.ensureState("emphasis").style=d.getItemStyle(),y.ensureState("progress").style=f.getItemStyle(),Ge(y);var m=se(y);c.get("tooltip")?(m.dataIndex=u.value,m.dataModel=o):m.dataIndex=m.dataModel=null,a._tickSymbols.push(y)})},t.prototype._renderAxisLabel=function(e,n,r,o){var a=this;if(r.getLabelModel().get("show")){var s=o.getData(),l=r.getViewLabels();this._tickLabels=[],D(l,function(u){var h=u.tickValue,c=s.getItemModel(h),p=c.getModel("label"),d=c.getModel(["emphasis","label"]),f=c.getModel(["progress","label"]),g=r.dataToCoord(u.tickValue),y=new Ie({x:g,y:0,rotation:e.labelRotation-e.rotation,onclick:Q(a._changeTimeline,a,h),silent:!1,style:nt(p,{text:u.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});y.ensureState("emphasis").style=nt(d),y.ensureState("progress").style=nt(f),n.add(y),Ge(y),jT(y).dataIndex=h,a._tickLabels.push(y)})}},t.prototype._renderControl=function(e,n,r,o){var a=e.controlSize,s=e.rotation,l=o.getModel("controlStyle").getItemStyle(),u=o.getModel(["emphasis","controlStyle"]).getItemStyle(),h=o.getPlayState(),c=o.get("inverse",!0);function p(d,f,g,y){if(d){var m=hn(we(o.get(["controlStyle",f+"BtnSize"]),a),a),v=function(_,x,b,w){var S=w.style,M=Uo(_.get(["controlStyle",x]),w||{},new me(b[0],b[1],b[2],b[3]));return S&&M.setStyle(S),M}(o,f+"Icon",[0,-m/2,m,m],{x:d[0],y:d[1],originX:a/2,originY:0,rotation:y?-s:0,rectHover:!0,style:l,onclick:g});v.ensureState("emphasis").style=u,n.add(v),Ge(v)}}p(e.nextBtnPosition,"next",Q(this._changeTimeline,this,c?"-":"+")),p(e.prevBtnPosition,"prev",Q(this._changeTimeline,this,c?"+":"-")),p(e.playPosition,h?"stop":"play",Q(this._handlePlayClick,this,!h),!0)},t.prototype._renderCurrentPointer=function(e,n,r,o){var a=o.getData(),s=o.getCurrentIndex(),l=a.getItemModel(s).getModel("checkpointStyle"),u=this,h={onCreate:function(p){p.draggable=!0,p.drift=Q(u._handlePointerDrag,u),p.ondragend=Q(u._handlePointerDragend,u),KT(p,u._progressLine,s,r,o,!0)},onUpdate:function(p){KT(p,u._progressLine,s,r,o)}};this._currentPointer=qT(l,l,this._mainGroup,{},this._currentPointer,h)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,n,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,n){var r=this._toAxisCoord(e)[0],o=$t(this._axis.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw(),this._progressLine.shape.x2=r,this._progressLine.dirty();var a=this._findNearestTick(r),s=this.model;(n||a!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(a)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=e.model;e._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return Nn(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var n,r=this.model.getData(),o=1/0,a=this._axis;return r.each(["value"],function(s,l){var u=a.dataToCoord(s),h=Math.abs(u-e);h<o&&(o=h,n=l)}),n},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var n=this.model.getCurrentIndex();e==="+"?e=n+1:e==="-"&&(e=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),n=this._tickSymbols,r=this._tickLabels;if(n)for(var o=0;o<n.length;o++)n&&n[o]&&n[o].toggleState("progress",o<e);if(r)for(o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",jT(r[o]).dataIndex<=e)},t.type="timeline.slider",t}(dz);function qT(i,t,e,n,r,o){var a=t.get("color");r?(r.setColor(a),e.add(r),o&&o.onUpdate(r)):((r=ot(i.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),e.add(r),o&&o.onCreate(r));var s=t.getItemStyle(["color"]);r.setStyle(s),n=de({rectHover:!0,z2:100},n,!0);var l=i.get("symbolSize");l=l instanceof Array?l.slice():[+l,+l],n.scaleX=l[0]/2,n.scaleY=l[1]/2;var u=i.get("symbolOffset");u&&(n.x=n.x||0,n.y=n.y||0,n.x+=q(u[0],l[0]),n.y+=q(u[1],l[1]));var h=i.get("symbolRotate");return n.rotation=(h||0)*Math.PI/180||0,r.attr(n),r.updateTransform(),r}function KT(i,t,e,n,r,o){if(!i.dragging){var a=r.getModel("checkpointStyle"),s=n.dataToCoord(r.getData().get("value",e));if(o||!a.get("animation",!0))i.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};i.stopAnimation(null,!0),i.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function yz(i){var t=i&&i.timeline;W(t)||(t=t?[t]:[]),D(t,function(e){e&&function(n){var r=n.type,o={number:"value",time:"time"};if(o[r]&&(n.axisType=o[r],delete n.type),$T(n),go(n,"controlPosition")){var a=n.controlStyle||(n.controlStyle={});go(a,"position")||(a.position=n.controlPosition),a.position!=="none"||go(a,"show")||(a.show=!1,delete a.position),delete n.controlPosition}D(n.data||[],function(s){ae(s)&&!W(s)&&(!go(s,"value")&&go(s,"name")&&(s.value=s.name),$T(s))})}(e)})}function $T(i){var t=i.itemStyle||(i.itemStyle={}),e=t.emphasis||(t.emphasis={}),n=i.label||i.label||{},r=n.normal||(n.normal={}),o={normal:1,emphasis:1};D(n,function(a,s){o[s]||go(r,s)||(r[s]=a)}),e.label&&!go(n,"emphasis")&&(n.emphasis=e.label,delete e.label)}function go(i,t){return i.hasOwnProperty(t)}function wm(i,t){if(!i)return!1;for(var e=W(i)?i:[i],n=0;n<e.length;n++)if(e[n]&&e[n][t])return!0;return!1}function wc(i){Sr(i,"label",["show"])}var Sc=Ne(),Si=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return z(t,i),t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r),this._mergeOption(e,r,!1,!0)},t.prototype.isAnimationEnabled=function(){if(ue.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,n){this._mergeOption(e,n,!1,!1)},t.prototype._mergeOption=function(e,n,r,o){var a=this.mainType;r||n.eachSeries(function(s){var l=s.get(this.mainType,!0),u=Sc(s)[a];l&&l.data?(u?u._mergeOption(l,n,!0):(o&&wc(l),D(l.data,function(h){h instanceof Array?(wc(h[0]),wc(h[1])):wc(h)}),X(u=this.createMarkerModelFromSeries(l,this,n),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),Sc(s)[a]=u):Sc(s)[a]=null},this)},t.prototype.formatTooltip=function(e,n,r){var o=this.getData(),a=this.getRawValue(e),s=o.getName(e);return _t("section",{header:this.name,blocks:[_t("nameValue",{name:s,value:a,noName:!s,noValue:a==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,n){return Sc(e)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(ve);We(Si,qd.prototype);var mz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markPoint",t.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Si);function Mc(i,t,e,n,r,o){var a=[],s=gi(t,n)?t.getCalculationInfo("stackResultDimension"):n,l=Mm(t,s,i),u=t.indicesOfNearest(s,l)[0];a[r]=t.get(e,u),a[o]=t.get(s,u);var h=t.get(n,u),c=Tv(t.get(n,u));return(c=Math.min(c,20))>=0&&(a[o]=+a[o].toFixed(c)),[a,h]}var Sm={min:he(Mc,"min"),max:he(Mc,"max"),average:he(Mc,"average"),median:he(Mc,"median")};function Vl(i,t){var e=i.getData(),n=i.coordinateSystem;if(t&&!function(c){return!isNaN(parseFloat(c.x))&&!isNaN(parseFloat(c.y))}(t)&&!W(t.coord)&&n){var r=n.dimensions,o=JT(t,e,n,i);if((t=te(t)).type&&Sm[t.type]&&o.baseAxis&&o.valueAxis){var a=ie(r,o.baseAxis.dim),s=ie(r,o.valueAxis.dim),l=Sm[t.type](e,o.baseDataDim,o.valueDataDim,a,s);t.coord=l[0],t.value=l[1]}else{for(var u=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis],h=0;h<2;h++)Sm[u[h]]&&(u[h]=Mm(e,e.mapDimension(r[h]),u[h]));t.coord=u}}return t}function JT(i,t,e,n){var r={};return i.valueIndex!=null||i.valueDim!=null?(r.valueDataDim=i.valueIndex!=null?t.getDimension(i.valueIndex):i.valueDim,r.valueAxis=e.getAxis(function(o,a){var s=o.getData(),l=s.dimensions;a=s.getDimension(a);for(var u=0;u<l.length;u++){var h=s.getDimensionInfo(l[u]);if(h.name===a)return h.coordDim}}(n,r.valueDataDim)),r.baseAxis=e.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=n.getBaseAxis(),r.valueAxis=e.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function Gl(i,t){return!(i&&i.containData&&t.coord&&!function(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}(t))||i.containData(t.coord)}function QT(i,t,e,n){return n<2?i.coord&&i.coord[n]:i.value}function Mm(i,t,e){if(e==="average"){var n=0,r=0;return i.each(t,function(o,a){isNaN(o)||(n+=o,r++)}),n/r}return e==="median"?i.getMedian(t):i.getDataExtent(t)[e==="max"?1:0]}var Im=Ne(),Tm=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.init=function(){this.markerGroupMap=re()},t.prototype.render=function(e,n,r){var o=this,a=this.markerGroupMap;a.each(function(s){Im(s).keep=!1}),n.eachSeries(function(s){var l=Si.getMarkerModelFromSeries(s,o.type);l&&o.renderSeries(s,l,n,r)}),a.each(function(s){!Im(s).keep&&o.group.remove(s.group)})},t.prototype.markKeep=function(e){Im(e).keep=!0},t.prototype.blurSeries=function(e){var n=this;D(e,function(r){var o=Si.getMarkerModelFromSeries(r,n.type);o&&o.getData().eachItemGraphicEl(function(a){a&&C0(a)})})},t.type="marker",t}(Ye);function e2(i,t,e){var n=t.coordinateSystem;i.each(function(r){var o,a=i.getItemModel(r),s=q(a.get("x"),e.getWidth()),l=q(a.get("y"),e.getHeight());if(isNaN(s)||isNaN(l)){if(t.getMarkerPosition)o=t.getMarkerPosition(i.getValues(i.dimensions,r));else if(n){var u=i.get(n.dimensions[0],r),h=i.get(n.dimensions[1],r);o=n.dataToPoint([u,h])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),i.setItemLayout(r,o)})}var vz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.updateTransform=function(e,n,r){n.eachSeries(function(o){var a=Si.getMarkerModelFromSeries(o,"markPoint");a&&(e2(a.getData(),o,r),this.markerGroupMap.get(o.id).updateLayout())},this)},t.prototype.renderSeries=function(e,n,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,new dl),c=function(p,d,f){var g;g=p?j(p&&p.dimensions,function(v){return J({name:v},d.getData().getDimensionInfo(d.getData().mapDimension(v))||{})}):[{name:"value",type:"float"}];var y=new Pt(g,f),m=j(f.get("data"),he(Vl,d));return p&&(m=Ke(m,he(Gl,p))),y.initData(m,null,p?QT:function(v){return v.value}),y}(a,e,n);n.setData(c),e2(n.getData(),e,o),c.each(function(p){var d=c.getItemModel(p),f=d.getShallow("symbol"),g=d.getShallow("symbolSize"),y=d.getShallow("symbolRotate");if(Pe(f)||Pe(g)||Pe(y)){var m=n.getRawValue(p),v=n.getDataParams(p);Pe(f)&&(f=f(m,v)),Pe(g)&&(g=g(m,v)),Pe(y)&&(y=y(m,v))}var _=d.getModel("itemStyle").getItemStyle(),x=Fs(l,"color");_.fill||(_.fill=x),c.setItemVisual(p,{symbol:f,symbolSize:g,symbolRotate:y,style:_})}),h.updateData(c),this.group.add(h.group),c.eachItemGraphicEl(function(p){p.traverse(function(d){se(d).dataModel=n})}),this.markKeep(h),h.group.silent=n.get("silent")||e.get("silent")},t.type="markPoint",t}(Tm),_z=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markLine",t.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Si),Ic=Ne(),xz=function(t,e,n,r){var o,a=t.getData();if(W(r))o=r;else{var s=r.type;if(s==="min"||s==="max"||s==="average"||s==="median"||r.xAxis!=null||r.yAxis!=null){var l=void 0,u=void 0;if(r.yAxis!=null||r.xAxis!=null)l=e.getAxis(r.yAxis!=null?"y":"x"),u=yt(r.yAxis,r.xAxis);else{var h=JT(r,a,e,t);l=h.valueAxis,u=Mm(a,Hf(a,h.valueDataDim),s)}var c=l.dim==="x"?0:1,p=1-c,d=te(r),f={coord:[]};d.type=null,d.coord=[],d.coord[p]=-1/0,f.coord[p]=1/0;var g=n.get("precision");g>=0&&typeof u=="number"&&(u=+u.toFixed(Math.min(g,20))),d.coord[c]=f.coord[c]=u,o=[d,f,{type:s,valueIndex:r.valueIndex,value:u}]}else o=[]}var y=[Vl(t,o[0]),Vl(t,o[1]),X({},o[2])];return y[2].type=y[2].type||null,de(y[2],y[0]),de(y[2],y[1]),y};function Tc(i){return!isNaN(i)&&!isFinite(i)}function t2(i,t,e,n){var r=1-i,o=n.dimensions[i];return Tc(t[r])&&Tc(e[r])&&t[i]===e[i]&&n.getAxis(o).containData(t[i])}function bz(i,t){if(i.type==="cartesian2d"){var e=t[0].coord,n=t[1].coord;if(e&&n&&(t2(1,e,n,i)||t2(0,e,n,i)))return!0}return Gl(i,t[0])&&Gl(i,t[1])}function Cm(i,t,e,n,r){var o,a=n.coordinateSystem,s=i.getItemModel(t),l=q(s.get("x"),r.getWidth()),u=q(s.get("y"),r.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition)o=n.getMarkerPosition(i.getValues(i.dimensions,t));else{var h=a.dimensions,c=i.get(h[0],t),p=i.get(h[1],t);o=a.dataToPoint([c,p])}if(vi(a,"cartesian2d")){var d=a.getAxis("x"),f=a.getAxis("y");h=a.dimensions,Tc(i.get(h[0],t))?o[0]=d.toGlobalCoord(d.getExtent()[e?0:1]):Tc(i.get(h[1],t))&&(o[1]=f.toGlobalCoord(f.getExtent()[e?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];i.setItemLayout(t,o)}var wz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.updateTransform=function(e,n,r){n.eachSeries(function(o){var a=Si.getMarkerModelFromSeries(o,"markLine");if(a){var s=a.getData(),l=Ic(a).from,u=Ic(a).to;l.each(function(h){Cm(l,h,!0,o,r),Cm(u,h,!1,o,r)}),s.each(function(h){s.setItemLayout(h,[l.getItemLayout(h),u.getItemLayout(h)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,n,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,new qg);this.group.add(h.group);var c=function(x,b,w){var S;S=x?j(x&&x.dimensions,function(L){return J({name:L},b.getData().getDimensionInfo(b.getData().mapDimension(L))||{})}):[{name:"value",type:"float"}];var M=new Pt(S,w),I=new Pt(S,w),T=new Pt([],w),C=j(w.get("data"),he(xz,b,x,w));x&&(C=Ke(C,he(bz,x)));var A=x?QT:function(L){return L.value};return M.initData(j(C,function(L){return L[0]}),null,A),I.initData(j(C,function(L){return L[1]}),null,A),T.initData(j(C,function(L){return L[2]})),T.hasItemOption=!0,{from:M,to:I,line:T}}(a,e,n),p=c.from,d=c.to,f=c.line;Ic(n).from=p,Ic(n).to=d,n.setData(f);var g=n.get("symbol"),y=n.get("symbolSize"),m=n.get("symbolRotate"),v=n.get("symbolOffset");function _(x,b,w){var S=x.getItemModel(b);Cm(x,b,w,e,o);var M=S.getModel("itemStyle").getItemStyle();M.fill==null&&(M.fill=Fs(l,"color")),x.setItemVisual(b,{symbolKeepAspect:S.get("symbolKeepAspect"),symbolOffset:we(S.get("symbolOffset"),v[w?0:1]),symbolRotate:we(S.get("symbolRotate",!0),m[w?0:1]),symbolSize:we(S.get("symbolSize"),y[w?0:1]),symbol:we(S.get("symbol",!0),g[w?0:1]),style:M})}W(g)||(g=[g,g]),W(y)||(y=[y,y]),W(m)||(m=[m,m]),W(v)||(v=[v,v]),c.from.each(function(x){_(p,x,!0),_(d,x,!1)}),f.each(function(x){var b=f.getItemModel(x).getModel("lineStyle").getLineStyle();f.setItemLayout(x,[p.getItemLayout(x),d.getItemLayout(x)]),b.stroke==null&&(b.stroke=p.getItemVisual(x,"style").fill),f.setItemVisual(x,{fromSymbolKeepAspect:p.getItemVisual(x,"symbolKeepAspect"),fromSymbolOffset:p.getItemVisual(x,"symbolOffset"),fromSymbolRotate:p.getItemVisual(x,"symbolRotate"),fromSymbolSize:p.getItemVisual(x,"symbolSize"),fromSymbol:p.getItemVisual(x,"symbol"),toSymbolKeepAspect:d.getItemVisual(x,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(x,"symbolOffset"),toSymbolRotate:d.getItemVisual(x,"symbolRotate"),toSymbolSize:d.getItemVisual(x,"symbolSize"),toSymbol:d.getItemVisual(x,"symbol"),style:b})}),h.updateData(f),c.line.eachItemGraphicEl(function(x,b){x.traverse(function(w){se(w).dataModel=n})}),this.markKeep(h),h.group.silent=n.get("silent")||e.get("silent")},t.type="markLine",t}(Tm),Sz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markArea",t.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Si),Cc=Ne(),Mz=function(t,e,n,r){var o=Vl(t,r[0]),a=Vl(t,r[1]),s=o.coord,l=a.coord;s[0]=yt(s[0],-1/0),s[1]=yt(s[1],-1/0),l[0]=yt(l[0],1/0),l[1]=yt(l[1],1/0);var u=pr([{},o,a]);return u.coord=[o.coord,a.coord],u.x0=o.x,u.y0=o.y,u.x1=a.x,u.y1=a.y,u};function Ac(i){return!isNaN(i)&&!isFinite(i)}function n2(i,t,e,n){var r=1-i;return Ac(t[r])&&Ac(e[r])}function Iz(i,t){var e=t.coord[0],n=t.coord[1];return!!(vi(i,"cartesian2d")&&e&&n&&(n2(1,e,n)||n2(0,e,n)))||Gl(i,{coord:e,x:t.x0,y:t.y0})||Gl(i,{coord:n,x:t.x1,y:t.y1})}function i2(i,t,e,n,r){var o,a=n.coordinateSystem,s=i.getItemModel(t),l=q(s.get(e[0]),r.getWidth()),u=q(s.get(e[1]),r.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition)o=n.getMarkerPosition(i.getValues(e,t));else{var h=[d=i.get(e[0],t),f=i.get(e[1],t)];a.clampData&&a.clampData(h,h),o=a.dataToPoint(h,!0)}if(vi(a,"cartesian2d")){var c=a.getAxis("x"),p=a.getAxis("y"),d=i.get(e[0],t),f=i.get(e[1],t);Ac(d)?o[0]=c.toGlobalCoord(c.getExtent()[e[0]==="x0"?0:1]):Ac(f)&&(o[1]=p.toGlobalCoord(p.getExtent()[e[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var r2=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Tz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.updateTransform=function(e,n,r){n.eachSeries(function(o){var a=Si.getMarkerModelFromSeries(o,"markArea");if(a){var s=a.getData();s.each(function(l){var u=j(r2,function(h){return i2(s,l,h,o,r)});s.setItemLayout(l,u),s.getItemGraphicEl(l).setShape("points",u)})}},this)},t.prototype.renderSeries=function(e,n,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,{group:new oe});this.group.add(h.group),this.markKeep(h);var c=function(p,d,f){var g,y,m=["x0","y0","x1","y1"];p?(g=j(p&&p.dimensions,function(x){var b=d.getData();return J({name:x},b.getDimensionInfo(b.mapDimension(x))||{})}),y=new Pt(j(m,function(x,b){return{name:x,type:g[b%2].type}}),f)):y=new Pt(g=[{name:"value",type:"float"}],f);var v=j(f.get("data"),he(Mz,d,p,f));p&&(v=Ke(v,he(Iz,p)));var _=p?function(x,b,w,S){return x.coord[Math.floor(S/2)][S%2]}:function(x){return x.value};return y.initData(v,null,_),y.hasItemOption=!0,y}(a,e,n);n.setData(c),c.each(function(p){var d=j(r2,function(S){return i2(c,p,S,e,o)}),f=a.getAxis("x").scale,g=a.getAxis("y").scale,y=f.getExtent(),m=g.getExtent(),v=[f.parse(c.get("x0",p)),f.parse(c.get("x1",p))],_=[g.parse(c.get("y0",p)),g.parse(c.get("y1",p))];$t(v),$t(_);var x=y[0]>v[1]||y[1]<v[0]||m[0]>_[1]||m[1]<_[0];c.setItemLayout(p,{points:d,allClipped:x});var b=c.getItemModel(p).getModel("itemStyle").getItemStyle(),w=Fs(l,"color");b.fill||(b.fill=w,typeof b.fill=="string"&&(b.fill=Xa(b.fill,.4))),b.stroke||(b.stroke=w),c.setItemVisual(p,"style",b)}),c.diff(Cc(h).data).add(function(p){var d=c.getItemLayout(p);if(!d.allClipped){var f=new Dt({shape:{points:d.points}});c.setItemGraphicEl(p,f),h.group.add(f)}}).update(function(p,d){var f=Cc(h).data.getItemGraphicEl(d),g=c.getItemLayout(p);g.allClipped?f&&h.group.remove(f):(f?Te(f,{shape:{points:g.points}},n,p):f=new Dt({shape:{points:g.points}}),c.setItemGraphicEl(p,f),h.group.add(f))}).remove(function(p){var d=Cc(h).data.getItemGraphicEl(p);h.group.remove(d)}).execute(),c.eachItemGraphicEl(function(p,d){var f=c.getItemModel(d),g=c.getItemVisual(d,"style");p.useStyle(c.getItemVisual(d,"style")),Lt(p,St(f),{labelFetcher:n,labelDataIndex:d,defaultText:c.getName(d)||"",inheritColor:typeof g.fill=="string"?Xa(g.fill,1):"#000"}),Mt(p,f),Ge(p),se(p).dataModel=n}),Cc(h).data=c,h.group.silent=n.get("silent")||e.get("silent")},t.type="markArea",t}(Tm),Am=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return z(t,i),t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},t.prototype._updateSelector=function(e){var n=e.selector,r=this.ecModel;n===!0&&(n=e.selector=["all","inverse"]),W(n)&&D(n,function(o,a){be(o)&&(o={type:o}),n[a]=de(o,function(s,l){return l==="all"?{type:"all",title:s.getLocale(["legend","selector","all"])}:l==="inverse"?{type:"inverse",title:s.getLocale(["legend","selector","inverse"])}:void 0}(r,o.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var n=!1,r=0;r<e.length;r++){var o=e[r].get("name");if(this.isSelected(o)){this.select(o),n=!0;break}}!n&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var n=[],r=[];e.eachRawSeries(function(a){var s,l=a.name;if(r.push(l),a.legendVisualProvider){var u=a.legendVisualProvider.getAllNames();e.isSeriesFiltered(a)||(r=r.concat(u)),u.length?n=n.concat(u):s=!0}else s=!0;s&&Lp(a)&&n.push(a.name)}),this._availableNames=r;var o=j(this.get("data")||n,function(a){return typeof a!="string"&&typeof a!="number"||(a={name:a}),new Ae(a,this,this.ecModel)},this);this._data=o},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var n=this.option.selected;this.get("selectedMode")==="single"&&D(this._data,function(r){n[r.get("name")]=!1}),n[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var n=this.option.selected;n.hasOwnProperty(e)||(n[e]=!0),this[n[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,n=this.option.selected;D(e,function(r){n[r.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,n=this.option.selected;D(e,function(r){var o=r.get("name",!0);n.hasOwnProperty(o)||(n[o]=!0),n[o]=!n[o]})},t.prototype.isSelected=function(e){var n=this.option.selected;return!(n.hasOwnProperty(e)&&!n[e])&&ie(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolSize:"auto",inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",decal:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(ve),Pa=he,o2=D,Dc=oe,a2=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return z(t,i),t.prototype.init=function(){this.group.add(this._contentGroup=new Dc),this.group.add(this._selectorGroup=new Dc),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,n,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var a=e.get("align"),s=e.get("orient");a&&a!=="auto"||(a=e.get("left")==="right"&&s==="vertical"?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);!l||u&&u!=="auto"||(u=s==="horizontal"?"end":"start"),this.renderInner(a,e,n,r,l,s,u);var h=e.getBoxLayoutParams(),c={width:r.getWidth(),height:r.getHeight()},p=e.get("padding"),d=ht(h,c,p),f=this.layoutInner(e,a,d,o,l,u),g=ht(J({width:f.width,height:f.height},h),c,p);this.group.x=g.x-f.x,this.group.y=g.y-f.y,this.group.markRedraw(),this.group.add(this._backgroundEl=hT(f,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,n,r,o,a,s,l){var u=this.getContentGroup(),h=re(),c=n.get("selectedMode"),p=[];r.eachRawSeries(function(d){!d.get("legendHoverLink")&&p.push(d.id)}),o2(n.getData(),function(d,f){var g=d.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var y=new Dc;return y.newline=!0,void u.add(y)}var m=r.getSeriesByName(g)[0];if(!h.get(g))if(m){var v=m.getData(),_=v.getVisual("legendLineStyle")||{},x=v.getVisual("legendSymbol"),b=v.getVisual("style");v.getVisual("symbolSize"),this._createItem(m,g,f,d,n,e,_,b,x,c).on("click",Pa(s2,g,null,o,p)).on("mouseover",Pa(Dm,m.name,null,o,p)).on("mouseout",Pa(Lm,m.name,null,o,p)),h.set(g,!0)}else r.eachRawSeries(function(w){if(!h.get(g)&&w.legendVisualProvider){var S=w.legendVisualProvider;if(!S.containName(g))return;var M=S.indexOfName(g),I=S.getItemVisual(M,"style"),T=S.getItemVisual(M,"legendSymbol"),C=Rt(I.fill);C&&C[3]===0&&(C[3]=.2,I.fill=Pn(C,"rgba")),this._createItem(w,g,f,d,n,e,{},I,T,c).on("click",Pa(s2,null,g,o,p)).on("mouseover",Pa(Dm,null,g,o,p)).on("mouseout",Pa(Lm,null,g,o,p)),h.set(g,!0)}},this)},this),a&&this._createSelector(a,n,o,s,l)},t.prototype._createSelector=function(e,n,r,o,a){var s=this.getSelectorGroup();o2(e,function(l){var u=l.type,h=new Ie({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:u==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(h),Lt(h,{normal:n.getModel("selectorLabel"),emphasis:n.getModel(["emphasis","selectorLabel"])},{defaultText:l.title}),Ge(h)})},t.prototype._createItem=function(e,n,r,o,a,s,l,u,h,c){var p=e.visualDrawType,d=a.get("itemWidth"),f=a.get("itemHeight"),g=a.isSelected(n),y=o.get("symbolKeepAspect"),m=o.get("icon"),v=function(A,L,k,P,O,R,N){for(var E=L.getModel("itemStyle"),B=Sd.concat([["decal"]]),G={},F=0;F<B.length;++F){var H=B[F][B[F].length-1],V=B[F][0];if((K=E.getShallow(H))==="inherit")switch(V){case"fill":G.fill=O[R];break;case"stroke":G.stroke=O[A.startsWith("empty")?"fill":"stroke"];break;case"opacity":G.opacity=(R==="fill"?O:P).opacity;break;default:G[V]=O[V]}else K==="auto"&&V==="lineWidth"?G.lineWidth=O.lineWidth>0?2:0:G[V]=K}var U=L.getModel("lineStyle"),Y=wd.concat([["inactiveColor"],["inactiveWidth"]]),Z={};for(F=0;F<Y.length;++F){var K;H=Y[F][1],V=Y[F][0],(K=U.getShallow(H))==="inherit"?Z[V]=P[V]:K==="auto"&&V==="lineWidth"?Z.lineWidth=P.lineWidth>0?2:0:Z[V]=K}if(G.fill==="auto"&&(G.fill=O.fill),G.stroke==="auto"&&(G.stroke=O.fill),Z.stroke==="auto"&&(Z.stroke=O.fill),!N){var $=L.get("inactiveBorderWidth"),ne=G[A.indexOf("empty")>-1?"fill":"stroke"];G.lineWidth=$==="auto"?O.lineWidth>0&&ne?2:0:G.lineWidth,G.fill=L.get("inactiveColor"),G.stroke=L.get("inactiveBorderColor"),Z.stroke=k.get("inactiveColor"),Z.lineWidth=k.get("inactiveWidth")}return{itemStyle:G,lineStyle:Z}}(h=m||h||"roundRect",o,a.getModel("lineStyle"),l,u,p,g),_=new Dc,x=o.getModel("textStyle");typeof e.getLegendIcon!="function"||m?_.add(function(A){var L=A.symbolType||"roundRect",k=ot(L,0,0,A.itemWidth,A.itemHeight,A.itemStyle.fill,A.symbolKeepAspect);return k.setStyle(A.itemStyle),L.indexOf("empty")>-1&&(k.style.stroke=k.style.fill,k.style.fill="#fff",k.style.lineWidth=2),k}({itemWidth:d,itemHeight:f,symbolType:h,symbolKeepAspect:y,itemStyle:v.itemStyle,lineStyle:v.lineStyle})):_.add(e.getLegendIcon({itemWidth:d,itemHeight:f,symbolType:h,symbolKeepAspect:y,itemStyle:v.itemStyle,lineStyle:v.lineStyle}));var b=s==="left"?d+5:-5,w=s,S=a.get("formatter"),M=n;typeof S=="string"&&S?M=S.replace("{name}",n!=null?n:""):typeof S=="function"&&(M=S(n));var I=o.get("inactiveColor");_.add(new Ie({style:nt(x,{text:M,x:b,y:f/2,fill:g?x.getTextColor():I,align:w,verticalAlign:"middle"})}));var T=new Se({shape:_.getBoundingRect(),invisible:!0}),C=o.getModel("tooltip");return C.get("show")&&Yo({el:T,componentModel:a,itemName:n,itemTooltipOption:C.option}),_.add(T),_.eachChild(function(A){A.silent=!0}),T.silent=!c,this.getContentGroup().add(_),Ge(_),_.__legendDataIndex=r,_},t.prototype.layoutInner=function(e,n,r,o,a,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Yr(e.get("orient"),l,e.get("itemGap"),r.width,r.height);var h=l.getBoundingRect(),c=[-h.x,-h.y];if(u.markRedraw(),l.markRedraw(),a){Yr("horizontal",u,e.get("selectorItemGap",!0));var p=u.getBoundingRect(),d=[-p.x,-p.y],f=e.get("selectorButtonGap",!0),g=e.getOrient().index,y=g===0?"width":"height",m=g===0?"height":"width",v=g===0?"y":"x";s==="end"?d[g]+=h[y]+f:c[g]+=p[y]+f,d[1-g]+=h[m]/2-p[m]/2,u.x=d[0],u.y=d[1],l.x=c[0],l.y=c[1];var _={x:0,y:0};return _[y]=h[y]+f+p[y],_[m]=Math.max(h[m],p[m]),_[v]=Math.min(0,p[v]+d[1-g]),_}return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Ye);function s2(i,t,e,n){Lm(i,t,e,n),e.dispatchAction({type:"legendToggleSelect",name:i!=null?i:t}),Dm(i,t,e,n)}function l2(i){for(var t,e=i.getZr().storage.getDisplayList(),n=0,r=e.length;n<r&&!(t=e[n].states.emphasis);)n++;return t&&t.hoverLayer}function Dm(i,t,e,n){l2(e)||e.dispatchAction({type:"highlight",seriesName:i,name:t,excludeSeriesId:n})}function Lm(i,t,e,n){l2(e)||e.dispatchAction({type:"downplay",seriesName:i,name:t,excludeSeriesId:n})}function Cz(i){var t=i.findComponents({mainType:"legend"});t&&t.length&&i.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}function Fl(i,t,e){var n,r={},o=i==="toggleSelected";return e.eachComponent("legend",function(a){o&&n!=null?a[n?"select":"unSelect"](t.name):i==="allSelect"||i==="inverseSelect"?a[i]():(a[i](t.name),n=a.isSelected(t.name)),D(a.getData(),function(s){var l=s.get("name");if(l!==`
`&&l!==""){var u=a.isSelected(l);r.hasOwnProperty(l)?r[l]=r[l]&&u:r[l]=u}})}),i==="allSelect"||i==="inverseSelect"?{selected:r}:{name:t.name,selected:r}}function u2(i){i.registerComponentModel(Am),i.registerComponentView(a2),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,Cz),i.registerSubTypeDefaulter("legend",function(){return"plain"}),function(t){t.registerAction("legendToggleSelect","legendselectchanged",he(Fl,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",he(Fl,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",he(Fl,"inverseSelect")),t.registerAction("legendSelect","legendselected",he(Fl,"select")),t.registerAction("legendUnSelect","legendunselected",he(Fl,"unSelect"))}(i)}var Az=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,n,r){var o=qo(e);i.prototype.init.call(this,e,n,r),h2(this,e,o)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),h2(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Ui(Am.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(Am);function h2(i,t,e){var n=[1,1];n[i.getOrient().index]=0,Yi(t,e,{type:"box",ignoreSize:!!n})}var c2=oe,km=["width","height"],Pm=["x","y"],Dz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return z(t,i),t.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new c2),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new c2)},t.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,n,r,o,a,s,l){var u=this;i.prototype.renderInner.call(this,e,n,r,o,a,s,l);var h=this._controllerGroup,c=n.get("pageIconSize",!0),p=W(c)?c:[c,c];f("pagePrev",0);var d=n.getModel("pageTextStyle");function f(g,y){var m=g+"DataIndex",v=Uo(n.get("pageIcons",!0)[n.getOrient().name][y],{onclick:Q(u._pageGo,u,m,n,o)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});v.name=g,h.add(v)}h.add(new Ie({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1)},t.prototype.layoutInner=function(e,n,r,o,a,s){var l=this.getSelectorGroup(),u=e.getOrient().index,h=km[u],c=Pm[u],p=km[1-u],d=Pm[1-u];a&&Yr("horizontal",l,e.get("selectorItemGap",!0));var f=e.get("selectorButtonGap",!0),g=l.getBoundingRect(),y=[-g.x,-g.y],m=te(r);a&&(m[h]=r[h]-g[h]-f);var v=this._layoutContentAndController(e,o,m,u,h,p,d,c);if(a){if(s==="end")y[u]+=v[h]+f;else{var _=g[h]+f;y[u]-=_,v[c]-=_}v[h]+=g[h]+f,y[1-u]+=v[d]+v[p]/2-g[p]/2,v[p]=Math.max(v[p],g[p]),v[d]=Math.min(v[d],g[d]+y[1-u]),l.x=y[0],l.y=y[1],l.markRedraw()}return v},t.prototype._layoutContentAndController=function(e,n,r,o,a,s,l,u){var h=this.getContentGroup(),c=this._containerGroup,p=this._controllerGroup;Yr(e.get("orient"),h,e.get("itemGap"),o?r.width:null,o?null:r.height),Yr("horizontal",p,e.get("pageButtonItemGap",!0));var d=h.getBoundingRect(),f=p.getBoundingRect(),g=this._showController=d[a]>r[a],y=[-d.x,-d.y];n||(y[o]=h[u]);var m=[0,0],v=[-f.x,-f.y],_=we(e.get("pageButtonGap",!0),e.get("itemGap",!0));g&&(e.get("pageButtonPosition",!0)==="end"?v[o]+=r[a]-f[a]:m[o]+=f[a]+_),v[1-o]+=d[s]/2-f[s]/2,h.setPosition(y),c.setPosition(m),p.setPosition(v);var x={x:0,y:0};if(x[a]=g?r[a]:d[a],x[s]=Math.max(d[s],f[s]),x[l]=Math.min(0,f[l]+v[1-o]),c.__rectSize=r[a],g){var b={x:0,y:0};b[a]=Math.max(r[a]-f[a]-_,0),b[s]=x[s],c.setClipPath(new Se({shape:b})),c.__rectSize=b[a]}else p.eachChild(function(S){S.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(e);return w.pageIndex!=null&&Te(h,{x:w.contentPosition[0],y:w.contentPosition[1]},g?e:null),this._updatePageInfoView(e,w),x},t.prototype._pageGo=function(e,n,r){var o=this._getPageInfo(n)[e];o!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:n.id})},t.prototype._updatePageInfoView=function(e,n){var r=this._controllerGroup;D(["pagePrev","pageNext"],function(h){var c=n[h+"DataIndex"]!=null,p=r.childOfName(h);p&&(p.setStyle("fill",c?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),p.cursor=c?"pointer":"default")});var o=r.childOfName("pageText"),a=e.get("pageFormatter"),s=n.pageIndex,l=s!=null?s+1:0,u=n.pageCount;o&&a&&o.setStyle("text",be(a)?a.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):a({current:l,total:u}))},t.prototype._getPageInfo=function(e){var n=e.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,a=e.getOrient().index,s=km[a],l=Pm[a],u=this._findTargetItemIndex(n),h=r.children(),c=h[u],p=h.length,d=p?1:0,f={contentPosition:[r.x,r.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return f;var g=x(c);f.contentPosition[a]=-g.s;for(var y=u+1,m=g,v=g,_=null;y<=p;++y)(!(_=x(h[y]))&&v.e>m.s+o||_&&!b(_,m.s))&&(m=v.i>m.i?v:_)&&(f.pageNextDataIndex==null&&(f.pageNextDataIndex=m.i),++f.pageCount),v=_;for(y=u-1,m=g,v=g,_=null;y>=-1;--y)(_=x(h[y]))&&b(v,_.s)||!(m.i<v.i)||(v=m,f.pagePrevDataIndex==null&&(f.pagePrevDataIndex=m.i),++f.pageCount,++f.pageIndex),m=_;return f;function x(w){if(w){var S=w.getBoundingRect(),M=S[l]+w[l];return{s:M,e:M+S[s],i:w.__legendDataIndex}}}function b(w,S){return w.e>=S&&w.s<=S+o}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(o,a){var s=o.__legendDataIndex;r==null&&s!=null&&(r=a),s===e&&(n=a)}),n!=null?n:r):0;var n,r},t.type="legend.scroll",t}(a2);function Lz(i){_e(u2),i.registerComponentModel(Az),i.registerComponentView(Dz),function(t){t.registerAction("legendScroll","legendscroll",function(e,n){var r=e.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:e},function(o){o.setScrollDataIndex(r)})})}(i)}var kz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="dataZoom.inside",t.defaultOption=Ui(Nl.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Nl),Om=Ne();function Pz(i,t,e){Om(i).coordSysRecordMap.each(function(n){var r=n.dataZoomInfoMap.get(t.uid);r&&(r.getRange=e)})}function p2(i,t){if(t){i.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function Oz(i,t){i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Rz(i,t,e,n){return i.coordinateSystem.containPoint([e,n])}function Nz(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=Om(e),r=n.coordSysRecordMap||(n.coordSysRecordMap=re());r.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){D(rT(o).infoList,function(a){var s=a.model.uid,l=r.get(s)||r.set(s,function(u,h){var c={model:h,containsPoint:he(Rz,h),dispatchAction:he(Oz,u),dataZoomInfoMap:null,controller:null},p=c.controller=new xl(u.getZr());return D(["pan","zoom","scrollMove"],function(d){p.on(d,function(f){var g=[];c.dataZoomInfoMap.each(function(y){if(f.isAvailableBehavior(y.model.option)){var m=(y.getRange||{})[d],v=m&&m(y.dzReferCoordSysInfo,c.model.mainType,c.controller,f);!y.model.get("disabled",!0)&&v&&g.push({dataZoomId:y.model.id,start:v[0],end:v[1]})}}),g.length&&c.dispatchAction(g)})}),c}(e,a.model));(l.dataZoomInfoMap||(l.dataZoomInfoMap=re())).set(o.uid,{dzReferCoordSysInfo:a,model:o,getRange:null})})}),r.each(function(o){var a,s=o.controller,l=o.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(a=l.get(u))}if(a){var h=function(c){var p,d="type_",f={type_true:2,type_move:1,type_false:0,type_undefined:-1},g=!0;return c.each(function(y){var m=y.model,v=!m.get("disabled",!0)&&(!m.get("zoomLock",!0)||"move");f[d+v]>f[d+p]&&(p=v),g=g&&m.get("preventDefaultMouseMove",!0)}),{controlType:p,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!g}}}(l);s.enable(h.controlType,h.opt),s.setPointerChecker(o.containsPoint),Bs(o,"dispatchAction",a.model.get("throttle",!0),"fixRate")}else p2(r,o)})})}var Ez=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return z(t,i),t.prototype.render=function(e,n,r){i.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),Pz(r,e,{pan:Q(Rm.pan,this),zoom:Q(Rm.zoom,this),scrollMove:Q(Rm.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function(e,n){for(var r=Om(e).coordSysRecordMap,o=r.keys(),a=0;a<o.length;a++){var s=o[a],l=r.get(s),u=l.dataZoomInfoMap;if(u){var h=n.uid;u.get(h)&&(u.removeKey(h),u.keys().length||p2(r,l))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(am),Rm={zoom:function(t,e,n,r){var o=this.range,a=o.slice(),s=t.axisModels[0];if(s){var l=Nm[e](null,[r.originX,r.originY],s,n,t),u=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(a[1]-a[0])+a[0],h=Math.max(1/r.scale,0);a[0]=(a[0]-u)*h+u,a[1]=(a[1]-u)*h+u;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return lo(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}},pan:d2(function(i,t,e,n,r,o){var a=Nm[n]([o.oldX,o.oldY],[o.newX,o.newY],t,r,e);return a.signal*(i[1]-i[0])*a.pixel/a.pixelLength}),scrollMove:d2(function(i,t,e,n,r,o){return Nm[n]([0,0],[o.scrollDelta,o.scrollDelta],t,r,e).signal*(i[1]-i[0])*o.scrollDelta})};function d2(i){return function(t,e,n,r){var o=this.range,a=o.slice(),s=t.axisModels[0];if(s)return lo(i(a,s,t,e,n,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var Nm={grid:function(t,e,n,r,o){var a=n.axis,s={},l=o.model.coordinateSystem.getRect();return t=t||[0,0],a.dim==="x"?(s.pixel=e[0]-t[0],s.pixelLength=l.width,s.pixelStart=l.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=l.height,s.pixelStart=l.y,s.signal=a.inverse?-1:1),s},polar:function(t,e,n,r,o){var a=n.axis,s={},l=o.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),h=l.getAngleAxis().getExtent();return t=t?l.pointToCoord(t):[0,0],e=l.pointToCoord(e),n.mainType==="radiusAxis"?(s.pixel=e[0]-t[0],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=h[1]-h[0],s.pixelStart=h[0],s.signal=a.inverse?-1:1),s},singleAxis:function(t,e,n,r,o){var a=n.axis,s=o.model.coordinateSystem.getRect(),l={};return t=t||[0,0],a.orient==="horizontal"?(l.pixel=e[0]-t[0],l.pixelLength=s.width,l.pixelStart=s.x,l.signal=a.inverse?1:-1):(l.pixel=e[1]-t[1],l.pixelLength=s.height,l.pixelStart=s.y,l.signal=a.inverse?-1:1),l}};function f2(i){sm(i),i.registerComponentModel(kz),i.registerComponentView(Ez),Nz(i)}var zz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Ui(Nl.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Nl),Hl=Se,Wl="horizontal",g2="vertical",Bz=["line","bar","candlestick","scatter"],Vz={easing:"cubicOut",duration:100},Gz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return z(t,i),t.prototype.init=function(e,n){this.api=n,this._onBrush=Q(this._onBrush,this),this._onBrushEnd=Q(this._onBrushEnd,this)},t.prototype.render=function(e,n,r,o){if(i.prototype.render.apply(this,arguments),Bs(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")!==!1){if(e.noTarget())return this._clear(),void this.group.removeAll();o&&o.type==="dataZoom"&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){var e,n,r;(r=(e=this)[n="_dispatchZoomAction"])&&r[eh]&&(e[n]=r[eh]);var o=this.api.getZr();o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new oe;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,n=this.api,r=e.get("brushSelect")?7:0,o=this._findCoordRect(),a={width:n.getWidth(),height:n.getHeight()},s=this._orient===Wl?{right:a.width-o.x-o.width,top:a.height-30-7-r,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},l=qo(e.option);D(["right","top","width","height"],function(h){l[h]==="ph"&&(l[h]=s[h])});var u=ht(l,a);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],this._orient===g2&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,n=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r!==Wl||a?r===Wl&&a?{scaleY:l?1:-1,scaleX:-1}:r!==g2||a?{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?1:-1,scaleX:1});var u=e.getBoundingRect([s]);e.x=n.x-u.x,e.y=n.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,n=this._size,r=this._displayables.sliderGroup,o=e.get("brushSelect");r.add(new Hl({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var a=new Hl({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Q(this._onClickPanel,this)}),s=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(a)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var n=this._size,r=e.series,o=r.getRawData(),a=r.getShadowDim?r.getShadowDim():e.otherDim;if(a!=null){var s=o.getDataExtent(a),l=.3*(s[1]-s[0]);s=[s[0]-l,s[1]+l];var u,h=[0,n[1]],c=[0,n[0]],p=[[n[0],0],[0,0]],d=[],f=c[1]/(o.count()-1),g=0,y=Math.round(o.count()/n[0]);o.each([a],function(b,w){if(y>0&&w%y)g+=f;else{var S=b==null||isNaN(b)||b==="",M=S?0:Oe(b,s,h,!0);S&&!u&&w?(p.push([p[p.length-1][0],0]),d.push([d[d.length-1][0],0])):!S&&u&&(p.push([g,0]),d.push([g,0])),p.push([g,M]),d.push([g,M]),g+=f,u=S}});for(var m=this.dataZoomModel,v=0;v<3;v++){var _=x(v===1);this._displayables.sliderGroup.add(_),this._displayables.dataShadowSegs.push(_)}}}function x(b){var w=m.getModel(b?"selectedDataBackground":"dataBackground"),S=new oe,M=new Dt({shape:{points:p},segmentIgnoreThreshold:1,style:w.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),I=new zt({shape:{points:d},segmentIgnoreThreshold:1,style:w.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return S.add(M),S.add(I),S}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,n=e.get("showDataShadow");if(n!==!1){var r,o=this.ecModel;return e.eachTargetAxis(function(a,s){D(e.getAxisProxy(a,s).getTargetSeriesModels(),function(l){if(!(r||n!==!0&&ie(Bz,l.get("type"))<0)){var u,h=o.getComponent(lr(a),s).axis,c={x:"y",y:"x",radius:"angle",angle:"radius"}[a],p=l.coordinateSystem;c!=null&&p.getOtherAxis&&(u=p.getOtherAxis(h).inverse),c=l.getData().mapDimension(c),r={thisAxis:h,series:l,thisDim:a,otherDim:c,otherAxisInverse:u}}},this)},this),r}},t.prototype._renderHandle=function(){var e=this.group,n=this._displayables,r=n.handles=[null,null],o=n.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,c=l.get("brushSelect"),p=n.filler=new Hl({silent:c,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(p),a.add(new Hl({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),D([0,1],function(_){var x=l.get("handleIcon");!uh[x]&&x.indexOf("path://")<0&&x.indexOf("image://")<0&&(x="path://"+x);var b=ot(x,-1,0,2,2,null,!0);b.attr({cursor:y2(this._orient),draggable:!0,drift:Q(this._onDragMove,this,_),ondragend:Q(this._onDragEnd,this),onmouseover:Q(this._showDataInfo,this,!0),onmouseout:Q(this._showDataInfo,this,!1),z2:5});var w=b.getBoundingRect(),S=l.get("handleSize");this._handleHeight=q(S,this._size[1]),this._handleWidth=w.width/w.height*this._handleHeight,b.setStyle(l.getModel("handleStyle").getItemStyle()),b.style.strokeNoScale=!0,b.rectHover=!0,b.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Ge(b);var M=l.get("handleColor");M!=null&&(b.style.fill=M),a.add(r[_]=b);var I=l.getModel("textStyle");e.add(o[_]=new Ie({silent:!0,invisible:!0,style:nt(I,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:I.getTextColor(),font:I.getFont()}),z2:10}))},this);var d=p;if(c){var f=q(l.get("moveHandleSize"),s[1]),g=n.moveHandle=new Se({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:f}}),y=.8*f,m=n.moveHandleIcon=ot(l.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);m.silent=!0,m.y=s[1]+f/2-.5,g.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var v=Math.min(s[1]/2,Math.max(f,10));(d=n.moveZone=new Se({invisible:!0,shape:{y:s[1]-v,height:f+v}})).on("mouseover",function(){u.enterEmphasis(g)}).on("mouseout",function(){u.leaveEmphasis(g)}),a.add(g),a.add(m),a.add(d)}d.attr({draggable:!0,cursor:y2(this._orient),drift:Q(this._onDragMove,this,"all"),ondragstart:Q(this._showDataInfo,this,!0),ondragend:Q(this._onDragEnd,this),onmouseover:Q(this._showDataInfo,this,!0),onmouseout:Q(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[Oe(e[0],[0,100],n,!0),Oe(e[1],[0,100],n,!0)]},t.prototype._updateInterval=function(e,n){var r=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];lo(n,o,a,r.get("zoomLock")?"all":e,s.minSpan!=null?Oe(s.minSpan,l,a,!0):null,s.maxSpan!=null?Oe(s.maxSpan,l,a,!0):null);var u=this._range,h=this._range=$t([Oe(o[0],a,l,!0),Oe(o[1],a,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},t.prototype._updateView=function(e){var n=this._displayables,r=this._handleEnds,o=$t(r.slice()),a=this._size;D([0,1],function(d){var f=n.handles[d],g=this._handleHeight;f.attr({scaleX:g/2,scaleY:g/2,x:r[d]+(d?-1:1),y:a[1]/2-g/2})},this),n.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var s={x:o[0],width:o[1]-o[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=n.dataShadowSegs,u=[0,o[0],o[1],a[0]],h=0;h<l.length;h++){var c=l[h],p=c.getClipPath();p||(p=new Se,c.setClipPath(p)),p.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:a[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var n=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,s=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,c=e?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var p=$t(this._handleEnds.slice());function d(f){var g=Wi(r.handles[f].parent,this.group),y=Eu(f===0?"right":"left",g),m=this._handleWidth/2+5,v=Nn([p[f]+(f===0?-m:m),this._size[1]/2],g);o[f].setStyle({x:v[0],y:v[1],verticalAlign:a===Wl?"middle":y,align:a===Wl?y:"center",text:s[f]})}d.call(this,0),d.call(this,1)},t.prototype._formatLabel=function(e,n){var r=this.dataZoomModel,o=r.get("labelFormatter"),a=r.get("labelPrecision");a!=null&&a!=="auto"||(a=n.getPixelPrecision());var s=e==null||isNaN(e)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(a,20));return Pe(o)?o(e,s):be(o)?o.replace("{value}",s):s},t.prototype._showDataInfo=function(e){e=this._dragging||e;var n=this._displayables,r=n.handleLabels;r[0].attr("invisible",!e),r[1].attr("invisible",!e),n.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](n.moveHandle,1)},t.prototype._onDragMove=function(e,n,r,o){this._dragging=!0,li(o.event);var a=Nn([n,r],this._displayables.sliderGroup.getLocalTransform(),!0),s=this._updateInterval(e,a[0]),l=this.dataZoomModel.get("realtime");this._updateView(!l),s&&l&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var n=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(r[0]<0||r[0]>n[0]||r[1]<0||r[1]>n[1])){var o=this._handleEnds,a=(o[0]+o[1])/2,s=this._updateInterval("all",r[0]-a);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var n=e.offsetX,r=e.offsetY;this._brushStart=new xe(n,r),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,n){n.attr("ignore",!0);var r=n.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),a=[0,100];this._range=$t([Oe(r.x,o,a,!0),Oe(r.x+r.width,o,a,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(li(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,n){var r=this._displayables,o=this.dataZoomModel,a=r.brushRect;a||(a=r.brushRect=new Hl({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(a)),a.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,n),h=l.transformCoordToLocal(s.x,s.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),a.setShape({x:h[0],y:0,width:u[0]-h[0],height:c[1]})},t.prototype._dispatchZoomAction=function(e){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?Vz:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var e,n=rT(this.dataZoomModel).infoList;if(!e&&n.length){var r=n[0].model.coordinateSystem;e=r.getRect&&r.getRect()}if(!e){var o=this.api.getWidth(),a=this.api.getHeight();e={x:.2*o,y:.2*a,width:.6*o,height:.6*a}}return e},t.type="dataZoom.slider",t}(am);function y2(i){return i==="vertical"?"ns-resize":"ew-resize"}function m2(i){i.registerComponentModel(zz),i.registerComponentView(Gz),sm(i)}var v2=function(t,e,n){var r=te((Fz[t]||{})[e]);return n&&W(r)?r[r.length-1]:r},Fz={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},_2=xt.mapVisual,Hz=xt.eachVisual,Wz=W,x2=D,Uz=$t,Yz=Oe,Lc=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return z(t,i),t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r)},t.prototype.optionUpdated=function(e,n){var r=this.option;ue.canvasSupported||(r.realtime=!1),!n&&BT(r,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var n=this.stateList;e=Q(e,this),this.controllerVisuals=_m(this.option.controller,n,e),this.targetVisuals=_m(this.option.target,n,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,n=[];return e==null||e==="all"?this.ecModel.eachSeries(function(r,o){n.push(o)}):n=je(e),n},t.prototype.eachTargetSeries=function(e,n){D(this.getTargetSeriesIndices(),function(r){var o=this.ecModel.getSeriesByIndex(r);o&&e.call(n,o)},this)},t.prototype.isTargetSeries=function(e){var n=!1;return this.eachTargetSeries(function(r){r===e&&(n=!0)}),n},t.prototype.formatValueText=function(e,n,r){var o,a=this.option,s=a.precision,l=this.dataBound,u=a.formatter;r=r||["<",">"],W(e)&&(e=e.slice(),o=!0);var h=n?e:o?[c(e[0]),c(e[1])]:c(e);return be(u)?u.replace("{value}",o?h[0]:h).replace("{value2}",o?h[1]:h):Pe(u)?o?u(e[0],e[1]):u(e):o?e[0]===l[0]?r[0]+" "+h[1]:e[1]===l[1]?r[1]+" "+h[0]:h[0]+" - "+h[1]:h;function c(p){return p===l[0]?"min":p===l[1]?"max":(+p).toFixed(Math.min(s,20))}},t.prototype.resetExtent=function(){var e=this.option,n=Uz([e.min,e.max]);this._dataExtent=n},t.prototype.getDataDimension=function(e){var n=this.option.dimension,r=e.dimensions;if(n!=null||r.length){if(n!=null)return e.getDimension(n);for(var o=e.dimensions,a=o.length-1;a>=0;a--){var s=o[a];if(!e.getDimensionInfo(s).isCalculationCoord)return s}}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,n=this.option,r={inRange:n.inRange,outOfRange:n.outOfRange},o=n.target||(n.target={}),a=n.controller||(n.controller={});de(o,r),de(a,r);var s=this.isCategory();function l(u){Wz(n.color)&&!u.inRange&&(u.inRange={color:n.color.slice().reverse()}),u.inRange=u.inRange||{color:e.get("gradientColor")}}l.call(this,o),l.call(this,a),function(u,h,c){var p=u[h],d=u[c];p&&!d&&(d=u[c]={},x2(p,function(f,g){if(xt.isValidType(g)){var y=v2(g,"inactive",s);y!=null&&(d[g]=y,g!=="color"||d.hasOwnProperty("opacity")||d.hasOwnProperty("colorAlpha")||(d.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function(u){var h=(u.inRange||{}).symbol||(u.outOfRange||{}).symbol,c=(u.inRange||{}).symbolSize||(u.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),d=this.getItemSymbol()||"roundRect";x2(this.stateList,function(f){var g=this.itemSize,y=u[f];y||(y=u[f]={color:s?p:[p]}),y.symbol==null&&(y.symbol=h&&te(h)||(s?d:[d])),y.symbolSize==null&&(y.symbolSize=c&&te(c)||(s?g[0]:[g[0],g[0]])),y.symbol=_2(y.symbol,function(_){return _==="none"?d:_});var m=y.symbolSize;if(m!=null){var v=-1/0;Hz(m,function(_){_>v&&(v=_)}),y.symbolSize=_2(m,function(_){return Yz(_,[0,v],[0,g[0]],!0)})}},this)}.call(this,a)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(ve),b2=[20,140],Xz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.optionUpdated=function(e,n){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){i.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=b2[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=b2[1])},t.prototype._resetRange=function(){var e=this.getExtent(),n=this.option.range;!n||n.auto?(e.auto=1,this.option.range=e):W(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],e[0]),n[1]=Math.min(n[1],e[1]))},t.prototype.completeVisualOption=function(){i.prototype.completeVisualOption.apply(this,arguments),D(this.stateList,function(e){var n=this.option.controller[e].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),n=$t((this.get("range")||[]).slice());return n[0]>e[1]&&(n[0]=e[1]),n[1]>e[1]&&(n[1]=e[1]),n[0]<e[0]&&(n[0]=e[0]),n[1]<e[0]&&(n[1]=e[0]),n},t.prototype.getValueState=function(e){var n=this.option.range,r=this.getExtent();return(n[0]<=r[0]||n[0]<=e)&&(n[1]>=r[1]||e<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[];return this.eachTargetSeries(function(r){var o=[],a=r.getData();a.each(this.getDataDimension(a),function(s,l){e[0]<=s&&s<=e[1]&&o.push(l)},this),n.push({seriesId:r.id,dataIndex:o})},this),n},t.prototype.getVisualMeta=function(e){var n=w2(this,"outOfRange",this.getExtent()),r=w2(this,"inRange",this.option.range.slice()),o=[];function a(d,f){o.push({value:d,color:e(d,f)})}for(var s=0,l=0,u=r.length,h=n.length;l<h&&(!r.length||n[l]<=r[0]);l++)n[l]<r[s]&&a(n[l],"outOfRange");for(var c=1;s<u;s++,c=0)c&&o.length&&a(r[s],"outOfRange"),a(r[s],"inRange");for(c=1;l<h;l++)(!r.length||r[r.length-1]<n[l])&&(c&&(o.length&&a(o[o.length-1].value,"outOfRange"),c=0),a(n[l],"outOfRange"));var p=o.length;return{stops:o,outerColors:[p?o[0].color:"transparent",p?o[p-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Ui(Lc.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(Lc);function w2(i,t,e){if(e[0]===e[1])return e.slice();for(var n=(e[1]-e[0])/200,r=e[0],o=[],a=0;a<=200&&r<e[1];a++)o.push(r),r+=n;return o.push(e[1]),o}var S2=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return z(t,i),t.prototype.init=function(e,n){this.ecModel=e,this.api=n},t.prototype.render=function(e,n,r,o){this.visualMapModel=e,e.get("show")!==!1?this.doRender(e,n,r,o):this.group.removeAll()},t.prototype.renderBackground=function(e){var n=this.visualMapModel,r=Hr(n.get("padding")||0),o=e.getBoundingRect();e.add(new Se({z2:-1,silent:!0,shape:{x:o.x-r[3],y:o.y-r[0],width:o.width+r[3]+r[1],height:o.height+r[0]+r[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,n,r){var o=(r=r||{}).forceState,a=this.visualMapModel,s={};if(n==="color"){var l=a.get("contentColor");s.color=l}function u(p){return s[p]}function h(p,d){s[p]=d}var c=a.controllerVisuals[o||a.getValueState(e)];return D(xt.prepareVisualTypes(c),function(p){var d=c[p];r.convertOpacityToAlpha&&p==="opacity"&&(p="colorAlpha",d=c.__alphaForOpacity),xt.dependsOn(p,n)&&d&&d.applyVisual(e,u,h)}),s[n]},t.prototype.positionGroup=function(e){var n=this.visualMapModel,r=this.api;ju(e,n.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},t.prototype.doRender=function(e,n,r,o){},t.type="visualMap",t}(Ye),M2=[["left","right","width"],["top","bottom","height"]];function I2(i,t,e){var n=i.option,r=n.align;if(r!=null&&r!=="auto")return r;for(var o={width:t.getWidth(),height:t.getHeight()},a=n.orient==="horizontal"?1:0,s=M2[a],l=[0,null,10],u={},h=0;h<3;h++)u[M2[1-a][h]]=l[h],u[s[h]]=h===2?e[0]:n[s[h]];var c=[["x","width",3],["y","height",0]][a],p=ht(u,o,n.padding);return s[(p.margin[c[2]]||0)+p[c[0]]+.5*p[c[1]]<.5*o[c[1]]?0:1]}function kc(i,t){return D(i||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),i}var ai=Oe,Zz=D,T2=Math.min,Em=Math.max,jz=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return z(t,i),t.prototype.doRender=function(e,n,r,o){this._api=r,o&&o.type==="selectDataRange"&&o.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,n=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(n);var r=e.get("text");this._renderEndsText(n,r,0),this._renderEndsText(n,r,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(e,n,r){if(n){var o=n[1-r];o=o!=null?o+"":"";var a=this.visualMapModel,s=a.get("textGap"),l=a.itemSize,u=this._shapes.mainGroup,h=this._applyTransform([l[0]/2,r===0?-s:l[1]+s],u),c=this._applyTransform(r===0?"bottom":"top",u),p=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new Ie({style:{x:h[0],y:h[1],verticalAlign:p==="horizontal"?"middle":c,align:p==="horizontal"?c:"center",text:o,font:d.getFont(),fill:d.getTextColor()}}))}},t.prototype._renderBar=function(e){var n=this.visualMapModel,r=this._shapes,o=n.itemSize,a=this._orient,s=this._useHandle,l=I2(n,this.api,o),u=r.mainGroup=this._createBarGroup(l),h=new oe;u.add(h),h.add(r.outOfRange=C2()),h.add(r.inRange=C2(null,s?D2(this._orient):null,Q(this._dragHandle,this,"all",!1),Q(this._dragHandle,this,"all",!0))),h.setClipPath(new Se({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var c=n.textStyleModel.getTextRect("\u56FD"),p=Em(c.width,c.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(n,u,0,o,p,a),this._createHandle(n,u,1,o,p,a)),this._createIndicator(n,u,o,p,a),e.add(u)},t.prototype._createHandle=function(e,n,r,o,a,s){var l=Q(this._dragHandle,this,r,!1),u=Q(this._dragHandle,this,r,!0),h=hn(e.get("handleSize"),o[0]),c=ot(e.get("handleIcon"),-h/2,-h/2,h,h,null,!0),p=D2(this._orient);c.attr({cursor:p,draggable:!0,drift:l,ondragend:u,onmousemove:function(v){li(v.event)}}),c.x=o[0]/2,c.useStyle(e.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),zo(c,!0),n.add(c);var d=this.visualMapModel.textStyleModel,f=new Ie({cursor:p,draggable:!0,drift:l,onmousemove:function(v){li(v.event)},ondragend:u,style:{x:0,y:0,text:"",font:d.getFont(),fill:d.getTextColor()}});f.ensureState("blur").style={opacity:.1},f.stateTransition={duration:200},this.group.add(f);var g=[h,0],y=this._shapes;y.handleThumbs[r]=c,y.handleLabelPoints[r]=g,y.handleLabels[r]=f},t.prototype._createIndicator=function(e,n,r,o,a){var s=hn(e.get("indicatorSize"),r[0]),l=ot(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof ut){var h=l.style;l.useStyle(X({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},u))}else l.useStyle(u);n.add(l);var c=this.visualMapModel.textStyleModel,p=new Ie({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:c.getFont(),fill:c.getTextColor()}});this.group.add(p);var d=[(a==="horizontal"?o/2:6)+r[0]/2,0],f=this._shapes;f.indicator=l,f.indicatorLabel=p,f.indicatorLabelPoint=d,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,n,r,o){if(this._useHandle){if(this._dragging=!n,!n){var a=this._applyTransform([r,o],this._shapes.mainGroup,!0);this._updateInterval(e,a[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():A2(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,n=this._dataInterval=e.getSelected(),r=e.getExtent(),o=[0,e.itemSize[1]];this._handleEnds=[ai(n[0],r,o,!0),ai(n[1],r,o,!0)]},t.prototype._updateInterval=function(e,n){n=n||0;var r=this.visualMapModel,o=this._handleEnds,a=[0,r.itemSize[1]];lo(n,o,a,e,0);var s=r.getExtent();this._dataInterval=[ai(o[0],a,s,!0),ai(o[1],a,s,!0)]},t.prototype._updateView=function(e){var n=this.visualMapModel,r=n.getExtent(),o=this._shapes,a=[0,n.itemSize[1]],s=e?a:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,s,"inRange"),u=this._createBarVisual(r,r,a,"outOfRange");o.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),o.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(e,n,r,o){var a={forceState:o,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,a),l=[this.getControllerVisual(e[0],"symbolSize",a),this.getControllerVisual(e[1],"symbolSize",a)],u=this._createBarPoints(r,l);return{barColor:new Ho(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(e,n){var r=[],o=(e[1]-e[0])/100;r.push({color:this.getControllerVisual(e[0],"color",n),offset:0});for(var a=1;a<100;a++){var s=e[0]+o*a;if(s>e[1])break;r.push({color:this.getControllerVisual(s,"color",n),offset:a/100})}return r.push({color:this.getControllerVisual(e[1],"color",n),offset:1}),r},t.prototype._createBarPoints=function(e,n){var r=this.visualMapModel.itemSize;return[[r[0]-n[0],e[0]],[r[0],e[0]],[r[0],e[1]],[r[0]-n[1],e[1]]]},t.prototype._createBarGroup=function(e){var n=this._orient,r=this.visualMapModel.get("inverse");return new oe(n!=="horizontal"||r?n==="horizontal"&&r?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:n!=="vertical"||r?{scaleX:e==="left"?1:-1}:{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,n){if(this._useHandle){var r=this._shapes,o=this.visualMapModel,a=r.handleThumbs,s=r.handleLabels,l=o.itemSize,u=o.getExtent();Zz([0,1],function(h){var c=a[h];c.setStyle("fill",n.handlesColor[h]),c.y=e[h];var p=ai(e[h],[0,l[1]],u,!0),d=this.getControllerVisual(p,"symbolSize");c.scaleX=c.scaleY=d/l[0],c.x=l[0]-d/2;var f=Nn(r.handleLabelPoints[h],Wi(c,this.group));s[h].setStyle({x:f[0],y:f[1],text:o.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,n,r,o){var a=this.visualMapModel,s=a.getExtent(),l=a.itemSize,u=[0,l[1]],h=this._shapes,c=h.indicator;if(c){c.attr("invisible",!1);var p=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),d=this.getControllerVisual(e,"symbolSize"),f=ai(e,s,u,!0),g=l[0]-d/2,y={x:c.x,y:c.y};c.y=f,c.x=g;var m=Nn(h.indicatorLabelPoint,Wi(c,this.group)),v=h.indicatorLabel;v.attr("invisible",!1);var _=this._applyTransform("left",h.mainGroup),x=this._orient==="horizontal";v.setStyle({text:(r||"")+a.formatValueText(n),verticalAlign:x?_:"middle",align:x?"center":_});var b={x:g,y:f,style:{fill:p}},w={style:{x:m[0],y:m[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:!0};c.x=y.x,c.y=y.y,c.animateTo(b,S),v.animateTo(w,S)}else c.attr(b),v.attr(w);this._firstShowIndicator=!1;var M=this._shapes.handleLabels;if(M)for(var I=0;I<M.length;I++)this._api.enterBlur(M[I])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(n){if(e._hovering=!0,!e._dragging){var r=e.visualMapModel.itemSize,o=e._applyTransform([n.offsetX,n.offsetY],e._shapes.mainGroup,!0,!0);o[1]=T2(Em(0,o[1]),r[1]),e._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=r[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,n){var r=this.visualMapModel,o=r.itemSize;if(r.option.hoverLink){var a=[0,o[1]],s=r.getExtent();e=T2(Em(a[0],e),a[1]);var l=function(g,y,m){var v=6,_=g.get("hoverLinkDataSize");return _&&(v=ai(_,y,m,!0)/2),v}(r,s,a),u=[e-l,e+l],h=ai(e,a,s,!0),c=[ai(u[0],a,s,!0),ai(u[1],a,s,!0)];u[0]<a[0]&&(c[0]=-1/0),u[1]>a[1]&&(c[1]=1/0),n&&(c[0]===-1/0?this._showIndicator(h,c[1],"< ",l):c[1]===1/0?this._showIndicator(h,c[0],"> ",l):this._showIndicator(h,h,"\u2248 ",l));var p=this._hoverLinkDataIndices,d=[];(n||A2(r))&&(d=this._hoverLinkDataIndices=r.findTargetDataIndices(c));var f=function(g,y){var m={},v={};return _(g||[],m),_(y||[],v,m),[x(m),x(v)];function _(b,w,S){for(var M=0,I=b.length;M<I;M++){var T=dt(b[M].seriesId,null);if(T==null)return;for(var C=je(b[M].dataIndex),A=S&&S[T],L=0,k=C.length;L<k;L++){var P=C[L];A&&A[P]?A[P]=null:(w[T]||(w[T]={}))[P]=1}}}function x(b,w){var S=[];for(var M in b)if(b.hasOwnProperty(M)&&b[M]!=null)if(w)S.push(+M);else{var I=x(b[M],!0);I.length&&S.push({seriesId:M,dataIndex:I})}return S}}(p,d);this._dispatchHighDown("downplay",kc(f[0],r)),this._dispatchHighDown("highlight",kc(f[1],r))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var n=e.target,r=this.visualMapModel;if(n&&se(n).dataIndex!=null){var o=se(n),a=this.ecModel.getSeriesByIndex(o.seriesIndex);if(r.isTargetSeries(a)){var s=a.getData(o.dataType),l=s.get(r.getDataDimension(s),o.dataIndex);isNaN(l)||this._showIndicator(l,l)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var r=0;r<n.length;r++)this._api.leaveBlur(n[r])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",kc(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,n,r,o){var a=Wi(n,o?null:this.group);return W(e)?Nn(e,a,r):Eu(e,a,r)},t.prototype._dispatchHighDown=function(e,n){n&&n.length&&this.api.dispatchAction({type:e,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(S2);function C2(i,t,e,n){return new Dt({shape:{points:i},draggable:!!e,cursor:t,drift:e,onmousemove:function(o){li(o.event)},ondragend:n})}function A2(i){var t=i.get("hoverLinkOnHandle");return!!(t==null?i.get("realtime"):t)}function D2(i){return i==="vertical"?"ns-resize":"ew-resize"}var qz={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Kz=function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(n){n.setSelected(t.selected)})},$z=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",function(r){var o,a,s,l,u,h=t.pipelineContext;!r.isTargetSeries(t)||h&&h.large||n.push((o=r.stateList,a=r.targetVisuals,s=Q(r.getValueState,r),l=r.getDataDimension(t.getData()),u={},D(o,function(c){var p=xt.prepareVisualTypes(a[c]);u[c]=p}),{progress:function(p,d){var f,g;function y(T){return nf(d,g,T)}function m(T,C){W_(d,g,T,C)}for(l!=null&&(f=d.getDimension(l));(g=p.next())!=null;){var v=d.getRawDataItem(g);if(!v||v.visualMap!==!1)for(var _=l!=null?d.get(f,g):g,x=s(_),b=a[x],w=u[x],S=0,M=w.length;S<M;S++){var I=w[S];b[I]&&b[I].applyVisual(_,y,m)}}}}))}),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),r=[];e.eachComponent("visualMap",function(o){if(o.isTargetSeries(t)){var a=o.getVisualMeta(Q(Jz,null,t,o))||{stops:[],outerColors:[]},s=o.getDataDimension(n),l=n.getDimensionInfo(s);l!=null&&(a.dimension=l.index,r.push(a))}}),t.getData().setVisual("visualMeta",r)}}];function Jz(i,t,e,n){for(var r=t.targetVisuals[n],o=xt.prepareVisualTypes(r),a={color:Fs(i.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],h=r[u==="opacity"?"__alphaForOpacity":u];h&&h.applyVisual(e,c,p)}return a.color;function c(d){return a[d]}function p(d,f){a[d]=f}}var L2=D;function Qz(i){var t=i&&i.visualMap;W(t)||(t=t?[t]:[]),L2(t,function(e){if(e){Oa(e,"splitList")&&!Oa(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var n=e.pieces;n&&W(n)&&L2(n,function(r){ae(r)&&(Oa(r,"start")&&!Oa(r,"min")&&(r.min=r.start),Oa(r,"end")&&!Oa(r,"max")&&(r.max=r.end))})}})}function Oa(i,t){return i&&i.hasOwnProperty&&i.hasOwnProperty(t)}var k2=!1;function P2(i){k2||(k2=!0,i.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),i.registerAction(qz,Kz),D($z,function(t){i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,t)}),i.registerPreprocessor(Qz))}function O2(i){i.registerComponentModel(Xz),i.registerComponentView(jz),P2(i)}var e5=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return z(t,i),t.prototype.optionUpdated=function(e,n){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],t5[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var o=this.option.categories;this.resetVisual(function(a,s){r==="categories"?(a.mappingMethod="category",a.categories=te(o)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=j(this._pieceList,function(l){return l=te(l),s!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var e=this.option,n={},r=xt.listVisualTypes(),o=this.isCategory();function a(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}D(e.pieces,function(s){D(r,function(l){s.hasOwnProperty(l)&&(n[l]=1)})}),D(n,function(s,l){var u=!1;D(this.stateList,function(h){u=u||a(e,h,l)||a(e.target,h,l)},this),!u&&D(this.stateList,function(h){(e[h]||(e[h]={}))[l]=v2(l,h==="inRange"?"active":"inactive",o)})},this),i.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,n){var r=this.option,o=this._pieceList,a=(n?r:e).selected||{};if(r.selected=a,D(o,function(l,u){var h=this.getSelectedMapKey(l);a.hasOwnProperty(h)||(a[h]=!0)},this),r.selectedMode==="single"){var s=!1;D(o,function(l,u){var h=this.getSelectedMapKey(l);a[h]&&(s?a[h]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=te(e)},t.prototype.getValueState=function(e){var n=xt.findPieceIndex(e,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[],r=this._pieceList;return this.eachTargetSeries(function(o){var a=[],s=o.getData();s.each(this.getDataDimension(s),function(l,u){xt.findPieceIndex(l,r)===e&&a.push(u)},this),n.push({seriesId:o.id,dataIndex:a})},this),n},t.prototype.getRepresentValue=function(e){var n;if(this.isCategory())n=e.value;else if(e.value!=null)n=e.value;else{var r=e.interval||[];n=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return n},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var n=[],r=["",""],o=this,a=this._pieceList.slice();if(a.length){var s=a[0].interval[0];s!==-1/0&&a.unshift({interval:[-1/0,s]}),(s=a[a.length-1].interval[1])!==1/0&&a.push({interval:[s,1/0]})}else a.push({interval:[-1/0,1/0]});var l=-1/0;return D(a,function(h){var c=h.interval;c&&(c[0]>l&&u([l,c[0]],"outOfRange"),u(c.slice()),l=c[1])},this),{stops:n,outerColors:r}}function u(h,c){var p=o.getRepresentValue({interval:h});c||(c=o.getValueState(p));var d=e(p,c);h[0]===-1/0?r[0]=d:h[1]===1/0?r[1]=d:n.push({value:h[0],color:d},{value:h[1],color:d})}},t.type="visualMap.piecewise",t.defaultOption=Ui(Lc.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(Lc),t5={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),r=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;for(var a=(r[1]-r[0])/o;+a.toFixed(n)!==a&&n<5;)n++;e.precision=n,a=+a.toFixed(n),e.minOpen&&t.push({interval:[-1/0,r[0]],close:[0,0]});for(var s=0,l=r[0];s<o;l+=a,s++){var u=s===o-1?r[1]:l+a;t.push({interval:[l,u],close:[1,1]})}e.maxOpen&&t.push({interval:[r[1],1/0],close:[0,0]}),Ap(t),D(t,function(h,c){h.index=c,h.text=this.formatValueText(h.interval)},this)},categories:function(t){var e=this.option;D(e.categories,function(n){t.push({text:this.formatValueText(n,!0),value:n})},this),R2(e,t)},pieces:function(t){var e=this.option;D(e.pieces,function(n,r){ae(n)||(n={value:n});var o={text:"",index:r};if(n.label!=null&&(o.text=n.label),n.hasOwnProperty("value")){var a=o.value=n.value;o.interval=[a,a],o.close=[1,1]}else{for(var s=o.interval=[],l=o.close=[0,0],u=[1,0,1],h=[-1/0,1/0],c=[],p=0;p<2;p++){for(var d=[["gte","gt","min"],["lte","lt","max"]][p],f=0;f<3&&s[p]==null;f++)s[p]=n[d[f]],l[p]=u[f],c[p]=f===2;s[p]==null&&(s[p]=h[p])}c[0]&&s[1]===1/0&&(l[0]=0),c[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(o.value=s[0])}o.visual=xt.retrieveVisuals(n),t.push(o)},this),R2(e,t),Ap(t),D(t,function(n){var r=n.close,o=[["<","\u2264"][r[1]],[">","\u2265"][r[0]]];n.text=n.text||this.formatValueText(n.value!=null?n.value:n.interval,!1,o)},this)}};function R2(i,t){var e=i.inverse;(i.orient==="vertical"?!e:e)&&t.reverse()}var n5=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return z(t,i),t.prototype.doRender=function(){var e=this.group;e.removeAll();var n=this.visualMapModel,r=n.get("textGap"),o=n.textStyleModel,a=o.getFont(),s=o.getTextColor(),l=this._getItemAlign(),u=n.itemSize,h=this._getViewData(),c=h.endsText,p=yt(n.get("showLabel",!0),!c);c&&this._renderEndsText(e,c[0],u,p,l),D(h.viewPieceList,function(d){var f=d.piece,g=new oe;g.onclick=Q(this._onItemClick,this,f),this._enableHoverLink(g,d.indexInModelPieceList);var y=n.getRepresentValue(f);if(this._createItemSymbol(g,y,[0,0,u[0],u[1]]),p){var m=this.visualMapModel.getValueState(y);g.add(new Ie({style:{x:l==="right"?-r:u[0]+r,y:u[1]/2,text:f.text,verticalAlign:"middle",align:l,font:a,fill:s,opacity:m==="outOfRange"?.5:1}}))}e.add(g)},this),c&&this._renderEndsText(e,c[1],u,p,l),Yr(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,n){var r=this;e.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(s){var l=r.visualMapModel;l.option.hoverLink&&r.api.dispatchAction({type:s,batch:kc(l.findTargetDataIndices(n),l)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,n=e.option;if(n.orient==="vertical")return I2(e,this.api,e.itemSize);var r=n.align;return r&&r!=="auto"||(r="left"),r},t.prototype._renderEndsText=function(e,n,r,o,a){if(n){var s=new oe,l=this.visualMapModel.textStyleModel;s.add(new Ie({style:{x:o?a==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:o?a:"center",text:n,font:l.getFont(),fill:l.getTextColor()}})),e.add(s)}},t.prototype._getViewData=function(){var e=this.visualMapModel,n=j(e.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),r=e.get("text"),o=e.get("orient"),a=e.get("inverse");return(o==="horizontal"?a:!a)?n.reverse():r&&(r=r.slice().reverse()),{viewPieceList:n,endsText:r}},t.prototype._createItemSymbol=function(e,n,r){e.add(ot(this.getControllerVisual(n,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(n,"color")))},t.prototype._onItemClick=function(e){var n=this.visualMapModel,r=n.option,o=te(r.selected),a=n.getSelectedMapKey(e);r.selectedMode==="single"?(o[a]=!0,D(o,function(s,l){o[l]=l===a})):o[a]=!o[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})},t.type="visualMap.piecewise",t}(S2);function N2(i){i.registerComponentModel(e5),i.registerComponentView(n5),P2(i)}var i5={label:{enabled:!0},decal:{show:!1}},E2=Ne(),r5={};function o5(i,t){var e=i.getModel("aria");if(e.get("enabled")){var n=te(i5);de(n.label,i.getLocaleModel().get("aria"),!1),de(e.option,n,!1),function(){if(e.getModel("decal").get("show")){var o=re();i.eachSeries(function(a){if(a.useColorPaletteOnData){var s=o.get(a.type);s||(s={},o.set(a.type,s)),E2(a).scope=s}}),i.eachRawSeries(function(a){if(!i.isSeriesFiltered(a))if(typeof a.enableAriaDecal!="function"){var s=a.getData();if(a.useColorPaletteOnData){var l=a.getRawData(),u={},h=E2(a).scope;s.each(function(g){var y=s.getRawIndex(g);u[y]=g});var c=l.count();l.each(function(g){var y=u[g],m=l.getName(g)||g+"",v=Gd(a.ecModel,m,h,c),_=s.getItemVisual(y,"decal");s.setItemVisual(y,"decal",f(_,v))})}else{var p=Gd(a.ecModel,a.name,r5,i.getSeriesCount()),d=s.getVisual("decal");s.setVisual("decal",f(d,p))}}else a.enableAriaDecal();function f(g,y){var m=g?X(X({},y),g):y;return m.dirty=!0,m}})}}(),function(){var o=i.getLocaleModel().get("aria"),a=e.getModel("label");if(a.option=J(a.option,o),!!a.get("enabled")){var s=t.getZr().dom;if(a.get("description"))return void s.setAttribute("aria-label",a.get("description"));var l,u=i.getSeriesCount(),h=a.get(["data","maxCount"])||10,c=a.get(["series","maxCount"])||10,p=Math.min(u,c);if(!(u<1)){var d=function(){var x=i.get("title");return x&&x.length&&(x=x[0]),x&&x.text}();if(d){var f=a.get(["general","withTitle"]);l=r(f,{title:d})}else l=a.get(["general","withoutTitle"]);var g=[],y=u>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]);l+=r(y,{seriesCount:u}),i.eachSeries(function(x,b){if(b<p){var w=void 0,S=x.get("name")?"withName":"withoutName";w=r(w=u>1?a.get(["series","multiple",S]):a.get(["series","single",S]),{seriesId:x.seriesIndex,seriesName:x.get("name"),seriesType:(O=x.subType,i.getLocaleModel().get(["series","typeNames"])[O]||"\u81EA\u5B9A\u4E49\u56FE")});var M=x.getData();M.count()>h?w+=r(a.get(["data","partialData"]),{displayCnt:h}):w+=a.get(["data","allData"]);for(var I=[],T=0;T<M.count();T++)if(T<h){var C=M.getName(T),A=jr(M,T),L=a.get(["data",C?"withName":"withoutName"]);I.push(r(L,{name:C,value:A}))}var k=a.get(["data","separator","middle"]),P=a.get(["data","separator","end"]);w+=I.join(k)+P,g.push(w)}var O});var m=a.getModel(["series","multiple","separator"]),v=m.get("middle"),_=m.get("end");l+=g.join(v)+_,s.setAttribute("aria-label",l)}}}()}function r(o,a){if(typeof o!="string")return o;var s=o;return D(a,function(l,u){s=s.replace(new RegExp("\\{\\s*"+u+"\\s*\\}","g"),l)}),s}}function a5(i){if(i&&i.aria){var t=i.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},D(["description","general","series","data"],function(e){t[e]!=null&&(t.label[e]=t[e])})}}var z2={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},s5=function(){function i(t){if((this._condVal=be(t)?new RegExp(t):Hm(t)?t:null)==null){var e="";Ce(e)}}return i.prototype.evaluate=function(t){var e=typeof t;return e==="string"?this._condVal.test(t):e==="number"&&this._condVal.test(t+"")},i}(),l5=function(){function i(){}return i.prototype.evaluate=function(){return this.value},i}(),u5=function(){function i(){}return i.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},i}(),h5=function(){function i(){}return i.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},i}(),c5=function(){function i(){}return i.prototype.evaluate=function(){return!this.child.evaluate()},i}(),p5=function(){function i(){}return i.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),n=t?this.valueParser(e):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(t?n:e))return!1;return!0},i}();function zm(i,t){if(i===!0||i===!1){var e=new l5;return e.value=i,e}var n="";return V2(i)||Ce(n),i.and?B2("and",i,t):i.or?B2("or",i,t):i.not?function(r,o){var a=r.not,s="";V2(a)||Ce(s);var l=new c5;return l.child=zm(a,o),l.child||Ce(s),l}(i,t):function(r,o){for(var a="",s=o.prepareGetValue(r),l=[],u=ke(r),h=r.parser,c=h?u_(h):null,p=0;p<u.length;p++){var d=u[p];if(d!=="parser"&&!o.valueGetterAttrMap.get(d)){var f=ee(z2,d)?z2[d]:d,g=r[d],y=c?c(g):g,m=dD(f,y)||f==="reg"&&new s5(y);m||Ce(a),l.push(m)}}l.length||Ce(a);var v=new p5;return v.valueGetterParam=s,v.valueParser=c,v.getValue=o.getValue,v.subCondList=l,v}(i,t)}function B2(i,t,e){var n=t[i],r="";W(n)||Ce(r),n.length||Ce(r);var o=i==="and"?new u5:new h5;return o.children=j(n,function(a){return zm(a,e)}),o.children.length||Ce(r),o}function V2(i){return ae(i)&&!Be(i)}var d5=function(){function i(t,e){this._cond=zm(t,e)}return i.prototype.evaluate=function(){return this._cond.evaluate()},i}(),f5={type:"echarts:filter",transform:function(t){for(var e,n,r,o=t.upstream,a=(n=t.config,r={valueGetterAttrMap:re({dimension:!0}),prepareGetValue:function(c){var p="",d=c.dimension;ee(c,"dimension")||Ce(p);var f=o.getDimensionInfo(d);return f||Ce(p),{dimIdx:f.index}},getValue:function(c){return o.retrieveValueFromItem(e,c.dimIdx)}},new d5(n,r)),s=[],l=0,u=o.count();l<u;l++)e=o.getRawDataItem(l),a.evaluate()&&s.push(e);return{data:s}}},g5={type:"echarts:sort",transform:function(t){var e=t.upstream,n=t.config,r="",o=je(n);o.length||Ce(r);var a=[];D(o,function(c){var p=c.dimension,d=c.order,f=c.parser,g=c.incomparable;if(p==null&&Ce(r),d!=="asc"&&d!=="desc"&&Ce(r),g&&g!=="min"&&g!=="max"){var y="";Ce(y)}if(d!=="asc"&&d!=="desc"){var m="";Ce(m)}var v=e.getDimensionInfo(p);v||Ce(r);var _=f?u_(f):null;f&&!_&&Ce(r),a.push({dimIdx:v.index,parser:_,comparator:new c_(d,g)})});var s=e.sourceFormat;s!==di&&s!==Xr&&Ce(r);for(var l=[],u=0,h=e.count();u<h;u++)l.push(e.getRawDataItem(u));return l.sort(function(c,p){for(var d=0;d<a.length;d++){var f=a[d],g=e.retrieveValueFromItem(c,f.dimIdx),y=e.retrieveValueFromItem(p,f.dimIdx);f.parser&&(g=f.parser(g),y=f.parser(y));var m=f.comparator.evaluate(g,y);if(m!==0)return m}return 0}),{data:l}}},y5=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="dataset",e}return z(t,i),t.prototype.init=function(e,n,r){i.prototype.init.call(this,e,n,r),this._sourceManager=new d_(this),f_(this)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),f_(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Zr},t}(ve),m5=function(i){function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="dataset",e}return z(t,i),t.type="dataset",t}(Ye);_e([function(i){i.registerPainter("canvas",Ck)}]),_e([function(i){i.registerPainter("svg",Ik)}]),_e([function(i){i.registerChartView(Rk),i.registerSeriesModel(Ak),i.registerLayout(fl("line",!0)),i.registerVisual({seriesType:"line",reset:function(e){var n=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",r)}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,sw("line"))},function(i){i.registerChartView(Vk),i.registerSeriesModel(zk),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,he(ub,"bar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,XL),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,sw("bar")),i.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(r){t.sortInfo&&r.axis.setCategorySortInfo(t.sortInfo)})})},function(i){i.registerChartView(Yk),i.registerSeriesModel(Xk),$_("pie",i.registerAction),i.registerLayout(he(Fk,"pie")),i.registerProcessor(yl("pie"))},function(i){_e(zw),i.registerSeriesModel(Zk),i.registerChartView(Kk),i.registerLayout(fl("scatter"))},function(i){_e(xP),i.registerChartView(dP),i.registerSeriesModel(fP),i.registerLayout(cP),i.registerProcessor(yl("radar")),i.registerPreprocessor(pP)},function(i){_e(tS),i.registerChartView(IP),i.registerSeriesModel(TP),i.registerLayout(AP),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,CP),$_("map",i.registerAction)},function(i){i.registerChartView(VP),i.registerSeriesModel(XP),i.registerLayout(ZP),i.registerVisual(jP),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,n){n.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var o=e.dataIndex,a=r.getData().tree.getNodeByDataIndex(o);a.isExpand=!a.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,n){n.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var o=Mg(r.coordinateSystem,e);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})}(i)},function(i){i.registerSeriesModel(KP),i.registerChartView(tO),i.registerVisual(rO),i.registerLayout(lO),function(t){for(var e=0;e<uS.length;e++)t.registerAction({type:uS[e],update:"updateView"},qP);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"treemap",query:n},function(o,a){var s=Sl(n,["treemapZoomToNode","treemapRootToNode"],o);if(s){var l=o.getViewRoot();l&&(n.direction=Lg(l,s.node)?"rollUp":"drillDown"),o.resetViewRoot(s.node)}})})}(i)},function(i){i.registerChartView(_O),i.registerSeriesModel(bO),i.registerProcessor(hO),i.registerVisual(cO),i.registerVisual(pO),i.registerLayout(dO),i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,gO),i.registerLayout(yO),i.registerCoordinateSystem("graphView",{dimensions:xa.dimensions,create:mO}),i.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),i.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),i.registerAction(wO,function(t,e){e.eachComponent({mainType:"series",query:t},function(n){var r=Mg(n.coordinateSystem,t);n.setCenter&&n.setCenter(r.center),n.setZoom&&n.setZoom(r.zoom)})})},function(i){i.registerChartView(IO),i.registerSeriesModel(TO)},function(i){i.registerChartView(DO),i.registerSeriesModel(LO),i.registerLayout(kO),i.registerProcessor(yl("funnel"))},function(i){_e(vM),i.registerChartView(PO),i.registerSeriesModel(OO),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,EO)},function(i){i.registerChartView(aR),i.registerSeriesModel(sR),i.registerLayout(lR),i.registerVisual(gR),i.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(i){i.registerSeriesModel(bM),i.registerChartView(yR),i.registerVisual(xR),i.registerLayout(bR),i.registerTransform(wR)},function(i){i.registerChartView(MR),i.registerSeriesModel(AM),i.registerPreprocessor(DR),i.registerVisual(RR),i.registerLayout(ER)},function(i){i.registerChartView(BR),i.registerSeriesModel(VR),i.registerLayout(fl("effectScatter"))},function(i){i.registerChartView(WR),i.registerSeriesModel(XR),i.registerLayout(RM),i.registerVisual(ZR)},function(i){i.registerChartView(qR),i.registerSeriesModel(KR)},function(i){i.registerChartView(JR),i.registerSeriesModel(tN),i.registerLayout(he(ub,"pictorialBar"))},function(i){i.registerChartView(nN),i.registerSeriesModel(iN),i.registerLayout(rN),i.registerProcessor(yl("themeRiver"))},function(i){i.registerChartView(oN),i.registerSeriesModel(aN),i.registerLayout(he(sN,"sunburst")),i.registerProcessor(he(yl,"sunburst")),i.registerVisual(lN),function(t){t.registerAction({type:Ty,update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"sunburst",query:e},function(r,o){var a=Sl(e,[Ty],r);if(a){var s=r.getViewRoot();s&&(e.direction=Lg(s,a.node)?"rollUp":"drillDown"),r.resetViewRoot(a.node)}})}),t.registerAction({type:JM,update:"none"},function(e,n,r){e=X({},e),n.eachComponent({mainType:"series",subType:"sunburst",query:e},function(o){var a=Sl(e,[JM],o);a&&(e.dataIndex=a.node.dataIndex)}),r.dispatchAction(X(e,{type:"highlight"}))}),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,n,r){e=X({},e),r.dispatchAction(X(e,{type:"downplay"}))})}(i)},function(i){i.registerChartView(CN),i.registerSeriesModel(TN)}]),_e(function(i){_e(zw),_e(Rl)}),_e(function(i){_e(Rl),ro.registerAxisPointerClass("PolarAxisPointer",UN),i.registerCoordinateSystem("polar",$N),i.registerComponentModel(XN),i.registerComponentView(lE),_a(i,"angle",ZN,aE),_a(i,"radius",jN,sE),i.registerComponentView(QN),i.registerComponentView(iE),i.registerLayout(he(oE,"bar"))}),_e(tS),_e(function(i){_e(Rl),ro.registerAxisPointerClass("SingleAxisPointer",yE),i.registerComponentView(vE),i.registerComponentView(cE),i.registerComponentModel(yc),_a(i,"single",yc,yc.defaultOption),i.registerCoordinateSystem("single",fE)}),_e(vM),_e(function(i){i.registerComponentModel(_E),i.registerComponentView(wE),i.registerCoordinateSystem("calendar",SE)}),_e(function(i){i.registerComponentModel(IE),i.registerComponentView(TE),i.registerPreprocessor(ME)}),_e(function(i){i.registerComponentModel(RE),i.registerComponentView(NE),ka("saveAsImage",cT),ka("magicType",zE),ka("dataView",VE),ka("dataZoom",YE),ka("restore",FE),_e(OE)}),_e(function(i){_e(Rl),i.registerComponentModel(ZE),i.registerComponentView(ez),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}),_e(Rl),_e(function(i){i.registerComponentView(sz),i.registerComponentModel(lz),i.registerPreprocessor(nz),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,rz),i.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),i.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),ka("brush",hz)}),_e(function(i){i.registerComponentModel(cz),i.registerComponentView(pz)}),_e(function(i){i.registerComponentModel(ZT),i.registerComponentView(gz),i.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,n){var r=n.getComponent("timeline");return r&&e.currentIndex!=null&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.setPlayState(!1)),n.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),J({currentIndex:r.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,n){var r=n.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}(i),i.registerPreprocessor(yz)}),_e(function(i){i.registerComponentModel(mz),i.registerComponentView(vz),i.registerPreprocessor(function(t){wm(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),_e(function(i){i.registerComponentModel(_z),i.registerComponentView(wz),i.registerPreprocessor(function(t){wm(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),_e(function(i){i.registerComponentModel(Sz),i.registerComponentView(Tz),i.registerPreprocessor(function(t){wm(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),_e(function(i){_e(u2),_e(Lz)}),_e(function(i){_e(f2),_e(m2)}),_e(f2),_e(m2),_e(function(i){_e(O2),_e(N2)}),_e(O2),_e(N2),_e(function(i){i.registerPreprocessor(a5),i.registerVisual(i.PRIORITY.VISUAL.ARIA,o5)}),_e(function(i){i.registerTransform(f5),i.registerTransform(g5)}),_e(function(i){i.registerComponentModel(y5),i.registerComponentView(m5)}),ce.Axis=bn,ce.ChartView=Re,ce.ComponentModel=ve,ce.ComponentView=Ye,ce.List=Pt,ce.Model=Ae,ce.PRIORITY=Ax,ce.SeriesModel=ze,ce.color=lC,ce.connect=function(i){if(W(i)){var t=i;i=null,it(t,function(e){e.group!=null&&(i=e.group)}),i=i||"g_"+PL++,it(t,function(e){e.group=i})}return wh[i]=!0,i},ce.dataTool={},ce.dependencies={zrender:"5.1.0"},ce.disConnect=Wx,ce.disconnect=OL,ce.dispose=function(i){typeof i=="string"?i=Qr[i]:i instanceof _h||(i=Lf(i)),i instanceof _h&&!i.isDisposed()&&i.dispose()},ce.env=ue,ce.extendChartView=function(i){var t=Re.extend(i);return Re.registerClass(t),t},ce.extendComponentModel=function(i){var t=ve.extend(i);return ve.registerClass(t),t},ce.extendComponentView=function(i){var t=Ye.extend(i);return Ye.registerClass(t),t},ce.extendSeriesModel=function(i){var t=ze.extend(i);return ze.registerClass(t),t},ce.format=ck,ce.getCoordinateSystemDimensions=function(i){var t=Qo.get(i);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},ce.getInstanceByDom=Lf,ce.getInstanceById=function(i){return Qr[i]},ce.getMap=function(i){return TL(i)},ce.graphic=hk,ce.helper=sk,ce.init=function(i,t,e){var n=Lf(i);if(n)return n;var r=new _h(i,t,e);return r.id="ec_"+kL++,Qr[r.id]=r,Bv(i,Df,r.id),zx(r),it(Tf,function(o){o(r)}),r},ce.innerDrawElementOnCanvas=hf,ce.matrix=nC,ce.number=lk,ce.parseGeoJSON=df,ce.parseGeoJson=df,ce.registerAction=Gn,ce.registerCoordinateSystem=Xx,ce.registerLayout=Zx,ce.registerLoading=Nf,ce.registerLocale=Td,ce.registerMap=qx,ce.registerPostInit=Ux,ce.registerPostUpdate=Yx,ce.registerPreprocessor=Pf,ce.registerProcessor=Of,ce.registerTheme=kf,ce.registerTransform=Kx,ce.registerVisual=Ki,ce.setCanvasCreator=function(i){Zl("createCanvas",i)},ce.throttle=th,ce.time=uk,ce.use=_e,ce.util=pk,ce.vector=X2,ce.version="5.1.1",ce.zrUtil=W2,ce.zrender=TC,Object.defineProperty(ce,"__esModule",{value:!0})})},paSq:function(H2,Ul,bt){"use strict";bt.r(Ul);var ce=bt("Znn+"),hr=bt("ZTPi"),z=bt("q1tI"),qt=bt.n(z),Yl=bt("tMyG"),Xl=bt("fWQN"),ue=bt("mtLc"),Na=bt("yKVA"),Ea=bt("879j"),Cn=bt("9og8"),yo=bt("WmNS"),Fn=bt.n(yo),Bm=bt("J4Hq"),mo=bt("t3Un");function Pc(J){return vo.apply(this,arguments)}function vo(){return vo=Object(Cn.a)(Fn.a.mark(function J(st){return Fn.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.abrupt("return",Object(mo.a)("/api/stock/statisticsDetailView",{params:st}));case 1:case"end":return tt.stop()}},J)})),vo.apply(this,arguments)}function _o(J){return cr.apply(this,arguments)}function cr(){return cr=Object(Cn.a)(Fn.a.mark(function J(st){return Fn.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.abrupt("return",Object(mo.a)("/api/stock/statisticsCategoryView",{params:st}));case 1:case"end":return tt.stop()}},J)})),cr.apply(this,arguments)}var Zl=function(){var J=Object(Cn.a)(Fn.a.mark(function st(ie){var tt;return Fn.a.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.next=2,_o();case 2:tt=Be.sent,ie(tt);case 4:case"end":return Be.stop()}},st)}));return function(ie){return J.apply(this,arguments)}}(),Oc=function(J){Object(Na.a)(ie,J);var st=Object(Ea.a)(ie);function ie(){return Object(Xl.a)(this,ie),st.apply(this,arguments)}return Object(ue.a)(ie,[{key:"componentDidMount",value:function(){var We=document.getElementById("category"),Be=bt("MT78"),D=Be.init(We);Zl(function(j){var An={tooltip:{trigger:"item"},series:[{type:"pie",radius:"50%",data:j,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};D.setOption(An)})}},{key:"render",value:function(){return qt.a.createElement("div",{id:"category",style:{width:"100%",height:500}})}}]),ie}(qt.a.Component),za=Oc,an=function(){var J=Object(Cn.a)(Fn.a.mark(function st(ie){var tt;return Fn.a.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.next=2,Pc();case 2:tt=Be.sent,ie(tt);case 4:case"end":return Be.stop()}},st)}));return function(ie){return J.apply(this,arguments)}}(),te=function(J){Object(Na.a)(ie,J);var st=Object(Ea.a)(ie);function ie(){return Object(Xl.a)(this,ie),st.apply(this,arguments)}return Object(ue.a)(ie,[{key:"componentDidMount",value:function(){var We=document.getElementById("detail"),Be=bt("MT78"),D=Be.init(We);an(function(j){var An={tooltip:{trigger:"item"},series:[{type:"pie",radius:"50%",data:j,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};D.setOption(An)})}},{key:"render",value:function(){return qt.a.createElement("div",{id:"detail",style:{width:"100%",height:500}})}}]),ie}(qt.a.Component),de=te,pr=hr.a.TabPane,X=Ul.default=function(){return qt.a.createElement(Yl.a,null,qt.a.createElement(hr.a,{type:"card",style:{backgroundColor:"white"}},qt.a.createElement(pr,{tab:"\u7EDF\u8BA1",key:"detail"},qt.a.createElement(za,null)),qt.a.createElement(pr,{tab:"\u660E\u7EC6",key:"category"},qt.a.createElement(de,null))))}}}]);
